(window.webpackJsonp=window.webpackJsonp||[]).push([["river-feed"],{"+79V":function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var i=n("+viU"),a=n("3ZGc"),r=n("mIHV"),o=n("iuMt"),s=n("fz//"),c=n("8yfO"),d=n("mDtb"),l=n("zP2P"),u=n("MF9s"),h=n("PfRV"),p=n("7b0X"),g=n("objN"),m=n("9CwC"),b=n("LD6M"),f=n("SP+O"),C=n("QhQn"),v=n("DOGQ");var S,y={adLabel:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Object(c.b)("t9")),Object(d.c)()),{"line-height":Object(a.a)(Object(r.d)(l.c,Object(r.c)(u.s,2))),"box-sizing":"border-box",display:"inline-block","text-align":"center"}),Object(h.d)()),Object(h.a)()),{background:"#1C8221",height:l.b,"min-width":"24px",padding:"0 6px","text-decoration":"none"}),Object(o.a)({"border-color":p.a})),{[g.D]:{display:"inline","border-width":"1px"}}),adLabel__primary:{background:"#1C8221",color:Object(m.a)(()=>"#1C8221")},adLabel__neutralDark:{background:"#595959",color:Object(m.a)(()=>"#595959")},adLabel__neutralLight:Object.assign({background:Object(b.c)(()=>v.b),color:Object(f.c)(()=>v.b),border:Object(s.a)("{0} solid {1}",Object(a.a)(u.U),Object(C.c)(()=>v.b))},Object(o.a)({"box-shadow":Object(s.a)("0 0 0 {0}, {1} inset",Object(a.a)(Object(r.d)(u.s,u.U)),p.a)}))},O=n("ERkP"),x=n.n(O),w=n("OnwC"),j=n("CiAa");!function(e){e.primary="primary",e.neutralDark="neutralDark",e.neutralLight="neutralLight"}(S||(S={}));var R=n("o1qX");class P extends w.a{constructor(){super(...arguments),this.handledProps={appearance:void 0,label:void 0,managedClasses:void 0}}render(){return x.a.createElement(j.default,Object.assign({},this.unhandledProps(),{className:this.generateClassNames()}),this.props.label)}generateClassNames(){const{adLabel:e,adLabel__primary:t,adLabel__neutralDark:n,adLabel__neutralLight:i}=this.props.managedClasses,a=this.props.appearance===S.neutralDark?n:this.props.appearance===S.neutralLight?i:t;return super.generateClassNames(Object(R.a)(e,a))}}P.defaultProps={appearance:S.primary,managedClasses:{}},P.displayName="AdLabel";var I=P;const A=Object(i.a)(y)(I)},"+qLX":function(e,t,n){"use strict";var i,a,r,o,s,c,d;n.d(t,"a",(function(){return o})),function(e){e.Article="article",e.Gallery="gallery",e.Video="video",e.Win32="win32",e.UWP="uwp",e[e.Module=8]="Module",e[e.ActionButton=11]="ActionButton",e[e.Navigation=14]="Navigation",e[e.WebView=31]="WebView",e[e.SmartList=35]="SmartList"}(i||(i={})),function(e){e[e.Taboola=0]="Taboola",e[e.Outbrain=1]="Outbrain",e[e.MediaNet=2]="MediaNet",e[e.Editor=3]="Editor",e[e.Personalization=4]="Personalization",e[e.Autocuration=5]="Autocuration"}(a||(a={})),function(e){e[e.MUID=0]="MUID",e[e.ANID=1]="ANID",e[e.AAD=2]="AAD"}(r||(r={})),function(e){e.StartPage="startpage",e.SpartanDhp="default",e.SpartanNtp="default",e.ArticleVnext="article_vnext",e.GalleryVnext="gallery_vnext",e.GalleryClassic="gallery_classic",e.GalleryFlex="gallery_flex",e.ArticleFlex="article_flex",e.StockDetailsPage="stockdetails",e.TeamStatsPage="teamstats",e.Xfeed="xfeed",e.Interests="cinterests"}(o||(o={})),function(e){e.DHP="dhp",e.NTP="ntp",e.Article="article",e.Gallery="gallery",e.Video="video"}(s||(s={})),function(e){e.Emmx="emmx",e.Prime="prime",e.Spartan="spartan",e.ChromeExt="chromeext",e.IEExt="ieext"}(c||(c={})),function(e){e[e.Empty=0]="Empty",e[e.SearchBox=1]="SearchBox",e[e.TopSites=2]="TopSites",e[e.Suggested=4]="Suggested",e[e.ContentFeed=8]="ContentFeed",e[e.WinFRE=16]="WinFRE"}(d||(d={}))},"/nBc":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("+viU"),a=n("Xbrc"),r=n("OnwC"),o=n("gQ7Y"),s=n("o1qX"),c=n("ERkP"),d=n.n(c),l=n("yR4y"),u=n("3MbD");class h extends r.a{constructor(){super(...arguments),this.handledProps={label:void 0,visibleToAssistiveTechnologies:void 0,managedClasses:void 0}}render(){return d.a.createElement(o.default,Object.assign({},this.unhandledProps(),this.coerceButtonProps(),{className:this.generateClassNames()}),this.renderGlyph(),this.props.children)}generateClassNames(){const{flipper:e,flipper__next:t,flipper__previous:n}=this.props.managedClasses,i=this.props.direction!==u.a.previous;return super.generateClassNames(Object(s.a)(e,[n,!i],[t,i]))}coerceButtonProps(){const e={href:void 0};return this.props.visibleToAssistiveTechnologies||(e["aria-hidden"]=!0,e.tabIndex=-1),this.props.label&&(e["aria-label"]=this.props.label),e}renderGlyph(){let e;if(e=this.props.direction===u.a.previous?d.a.createElement("path",{d:"M11.273 15.977L3.29 8 11.273.023l.704.704L4.71 8l7.266 7.273-.704.704z"}):d.a.createElement("path",{d:"M4.023 15.273L11.29 8 4.023.727l.704-.704L12.71 8l-7.984 7.977-.704-.704z"}),e)return d.a.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:Object(s.a)(this.props.managedClasses.flipper_glyph)},e)}}h.displayName=l.a+"Flipper",h.defaultProps={direction:u.a.next,managedClasses:{}};var p=h;const g=Object(i.a)(a.a)(p)},"/o8t":function(e,t){},"/ps7":function(e,t){},"/tlR":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("D57K"),a=n("rvYQ"),r=n("msIb"),o=n("6ADy"),s=n("KETb"),c=n("hxZq"),d=n("HxRh"),l=n("tERu"),u=n("u5KZ");const h="/service/News/Briefing",p="Peregrine";var g=n("/+Un");class m{getDailyBriefArticles(e=5){return Object(i.b)(this,void 0,void 0,(function*(){const t=yield this.getDailyBriefArticleList(e);if(!t||!t.value)return null;if(!t.value.length)return[];const n=t.value;if(!n||!n.length)return null;const i=n[0].subCards;if(!i||!i.length)return u.a.sendAppErrorEvent(Object.assign(Object.assign({},d.Z.OneServiceArticleListWasNullOrErroneous),{message:"Daily brief article is unable to map the response"})),null;return i.filter(e=>e.title&&e.url&&e.provider&&e.provider.name)}))}getDailyBriefArticleList(e=5){return Object(i.b)(this,void 0,void 0,(function*(){const t=yield r.a.getBaseRequestData("GET"),n=(yield Object(g.b)())===l.b.SignedIn,m=r.a.getCommonParams(p);n&&(t.credentials="include");const b=[...m,{key:"$top",value:""+e},{key:"market",value:a.a.CurrentMarket}],f=Object(c.b)();f>0&&b.push({key:c.a,value:f.toString()});const C=Object(o.d)(h);let v;b.forEach(e=>e.value&&C.searchParams.set(e.key,e.value));try{const e=yield Object(s.a)(()=>Object(i.b)(this,void 0,void 0,(function*(){return yield fetch(C.href,t)})),"getDailyBriefArticleList");if(!e.ok)throw u.a.sendAppErrorEvent(Object.assign(Object.assign({},d.Z.OneServiceResponseWasNullOrErroneous),{message:"Error while calling daily brief url",pb:Object.assign(Object.assign({},d.Z.OneServiceResponseWasNullOrErroneous.pb),{customMessage:`URL: ${C.href}, error: ${e.statusText}`})})),Error(e.statusText);v=yield e.json()}catch(e){u.a.sendAppErrorEvent(Object.assign(Object.assign({},d.Z.OneServiceResponseWasNullOrErroneous),{message:"Error while parsing the response json data"}))}return v}))}}},"0MnL":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("G82u");class a{}a.actionStatusHandler=new i.a("actionHandler"),a.actionsStatusChanged=new i.a("actionsChanged")},"0NrY":function(e,t,n){"use strict";var i=n("PfRV"),a=n("7FLv"),r=n("MF9s"),o=n("objN");const s={card:Object.assign(Object.assign(Object.assign(Object.assign({width:"100%",height:"100%",background:r.k},Object(i.b)()),Object(a.b)(a.a.e4)),{transition:"all 0.2s ease-in-out"}),o.d)};t.a=s},"0SLC":function(e,t,n){"use strict";var i=n("mDtb"),a=n("ZEO0");const r={subheading:{"&$subheading__1, &$subheading__2, &$subheading__3, &$subheading__4, &$subheading__5, &$subheading__6, &$subheading__7":Object.assign(Object.assign({},Object(a.a)()),Object(i.c)())},subheading__1:{},subheading__2:{},subheading__3:{},subheading__4:{},subheading__5:{},subheading__6:{},subheading__7:{}};t.a=r},"0vDZ":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.article="article",e.div="div",e.section="section"}(i||(i={}))},"1lvv":function(e,t){},"2ATS":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("G82u");class a{}a.fetchSAMNativeAdCompleted=new i.a("fetchSAMNativeAdCompleted"),a.fetchSAMNativeAdFailed=new i.a("fetchSAMNativeAdFailed"),a.fetchCMSNativeAdCompleted=new i.a("fetchCMSNativeAdCompleted"),a.fetchCMSNativeAdFailed=new i.a("fetchCMSNativeAdFailed"),a.fetchBackfillCompleted=new i.a("fetchBackfillCompleted"),a.fetchBackfillFailed=new i.a("fetchBackfillFailed"),a.samNativeAdServedTrack=new i.a("samNativeAdServedTrack"),a.preloadPlacements=new i.a("preloadPlacements"),a.preloadPlacementMap=new i.a("preloadPlacementMap"),a.cmsNativeAdTrack=new i.a("cmsNativeAdTrack"),a.backfillTrack=new i.a("backfillTrack"),a.clearState=new i.a("clearState"),a.updatePivotId=new i.a("pivotId"),a.samNativeAdReady=new i.a("samNativeAdReady"),a.sentPlacements=new i.a("sentPlacements"),a.processedPlacements=new i.a("processedPlacements"),a.updateLastFiredPrefetchedPlacements=new i.a("lastFiredPrefetchedPlacements"),a.updatePageType=new i.a("updatePageType"),a.updateEcasession=new i.a("updateEcasession"),a.updateCookieWallPresentStatus=new i.a("updateCookieWallPresentStatus"),a.isCookieSyncExecuted=new i.a("isCookieSyncExecuted"),a.updatePlacements=new i.a("updatePlacements"),a.updateMergeSettingsOverride=new i.a("updateMergeSettingsOverride"),a.increasePendingSAMCallNumber=new i.a("increasePendingSAMCallNumber"),a.decreasePendingSAMCallNumber=new i.a("decreasePendingSAMCallNumber"),a.infopaneSlideChanged=new i.a("infopaneSlideChanged"),a.updatePersonalizedStripeTrackNumber=new i.a("updatePersonalizedStripeTrackNumber"),a.updateInfopaneAdIndicesToBeFetched=new i.a("updateInfopaneAdIndicesToBeFetched")},"2Mxw":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.Monetizable=0]="Monetizable",e[e.NonMonetizable=1]="NonMonetizable",e[e.Monetization=2]="Monetization"}(i||(i={}))},"2QEW":function(e,t){},"2R5J":function(e,t,n){"use strict";n.r(t),n.d(t,"UnifiedMobileRowHeight",(function(){return Z})),n.d(t,"CategoryMobileRowHeight",(function(){return Q})),n.d(t,"CategoryMobile1uHeight",(function(){return X})),n.d(t,"LegacyCssRowHeight",(function(){return Y})),n.d(t,"LegacyGutterSize",(function(){return ee})),n.d(t,"RiverBannerRowHeight",(function(){return te})),n.d(t,"LegacyCssColumnWidth",(function(){return ne})),n.d(t,"LegacyRowVirtualRowCount",(function(){return ie})),n.d(t,"DisplayAdCssRowHeight",(function(){return ae})),n.d(t,"ShortCssRowHeight",(function(){return re})),n.d(t,"Column1Row1",(function(){return oe})),n.d(t,"Column2Row1",(function(){return se})),n.d(t,"Column3Row1",(function(){return ce})),n.d(t,"Column4Row1",(function(){return de})),n.d(t,"Column5Row1",(function(){return le})),n.d(t,"Column1Row2",(function(){return ue})),n.d(t,"Column2Row2",(function(){return he})),n.d(t,"Column3Row2",(function(){return pe})),n.d(t,"Column4Row2",(function(){return ge})),n.d(t,"Column5Row2",(function(){return me})),n.d(t,"Column1Row3",(function(){return be})),n.d(t,"Column2Row3",(function(){return fe})),n.d(t,"Column3Row3",(function(){return Ce})),n.d(t,"Column4Row3",(function(){return ve})),n.d(t,"Column5Row3",(function(){return Se})),n.d(t,"Column1Row4",(function(){return ye})),n.d(t,"Column2Row4",(function(){return Oe})),n.d(t,"Column3Row4",(function(){return xe})),n.d(t,"Column4Row4",(function(){return we})),n.d(t,"Column5Row4",(function(){return je})),n.d(t,"Column1Row5",(function(){return Re})),n.d(t,"Column2Row5",(function(){return Pe})),n.d(t,"Column3Row5",(function(){return Ie})),n.d(t,"Column4Row5",(function(){return Ae})),n.d(t,"Column5Row5",(function(){return ke})),n.d(t,"Column1Row6",(function(){return Me})),n.d(t,"Column2Row6",(function(){return Te})),n.d(t,"Column3Row6",(function(){return Ee})),n.d(t,"Column4Row6",(function(){return _e})),n.d(t,"Column5Row6",(function(){return He})),n.d(t,"Column1Row7",(function(){return Ne})),n.d(t,"Column2Row7",(function(){return Le})),n.d(t,"Column3Row7",(function(){return Fe})),n.d(t,"Column4Row7",(function(){return De})),n.d(t,"Column5Row7",(function(){return ze})),n.d(t,"Column1Row8",(function(){return We})),n.d(t,"Column2Row8",(function(){return Ue})),n.d(t,"Column3Row8",(function(){return Be})),n.d(t,"Column4Row8",(function(){return $e})),n.d(t,"Column5Row8",(function(){return Ge})),n.d(t,"DoubleWide",(function(){return qe})),n.d(t,"HalfHeight",(function(){return Ke})),n.d(t,"FullHeight",(function(){return Ve})),n.d(t,"Tall",(function(){return Je})),n.d(t,"DoubleFullHeight",(function(){return Ze})),n.d(t,"DisplayAd",(function(){return Qe})),n.d(t,"ShortHeight",(function(){return Xe})),n.d(t,"OneRowHeights",(function(){return Ye})),n.d(t,"TwoRowHeights",(function(){return et})),n.d(t,"ThreeRowHeights",(function(){return tt})),n.d(t,"FourRowHeights",(function(){return nt})),n.d(t,"FiveRowHeights",(function(){return it})),n.d(t,"SixRowHeights",(function(){return at})),n.d(t,"SevenRowHeights",(function(){return rt})),n.d(t,"EightRowHeights",(function(){return ot})),n.d(t,"NineRowHeights",(function(){return st})),n.d(t,"OneRowHeightsLength",(function(){return ct})),n.d(t,"TwoRowHeightsLength",(function(){return dt})),n.d(t,"ThreeRowHeightsLength",(function(){return lt})),n.d(t,"FourRowHeightsLength",(function(){return ut})),n.d(t,"FiveRowHeightsLength",(function(){return ht})),n.d(t,"SixRowHeightsLength",(function(){return pt})),n.d(t,"SevenRowHeightsLength",(function(){return gt})),n.d(t,"EightRowHeightsLength",(function(){return mt})),n.d(t,"NineRowHeightsLength",(function(){return bt})),n.d(t,"OneFlexibleColumnWidths",(function(){return ft})),n.d(t,"TwoColumnWidths",(function(){return Ct})),n.d(t,"ThreeColumnWidths",(function(){return vt})),n.d(t,"FourColumnWidths",(function(){return St})),n.d(t,"FiveColumnWidths",(function(){return yt}));var i=n("9l6q"),a=n("KaPL");const{Column1:r,Column2:o,Column3:s,Column4:c,Column5:d,Column6:l,Column7:u,Column8:h}=i.a,{Row1:p,Row2:g,Row3:m,Row4:b,Row5:f,Row6:C,Row7:v,Row10:S,Row11:y,Row12:O,Row13:x,Row16:w,Row19:j,Row22:R}=i.b,{Size1Wx1H:P,Size1Wx2H:I,Size1Wx3H:A,Size1Wx4H:k,Size1Wx5H:M,Size1Wx6H:T,Size1Wx7H:E,Size1Wx8H:_,Size1Wx9H:H,Size1Wx10H:N,Size1Wx12H:L,Size1Wx18H:F,Size2Wx2H:D,Size2Wx3H:z,Size2Wx6H:W,Size2Wx8H:U,Size3Wx2H:B,Size3Wx6H:$,Size3Wx12H:G,Size4Wx2H:q,Size4Wx3H:K,Size4Wx6H:V,Size4Wx12H:J}=a.a,Z=142,Q=126,X=264,Y=163,ee=24,te=108,ne=300,ie=3,ae=250,re=76,oe={virtualCardPosition:r|p,cssGridColumnStart:1,cssGridRowStart:1},se={virtualCardPosition:o|p,cssGridColumnStart:2,cssGridRowStart:1},ce={virtualCardPosition:s|p,cssGridColumnStart:3,cssGridRowStart:1},de={virtualCardPosition:c|p,cssGridColumnStart:4,cssGridRowStart:1},le={virtualCardPosition:d|p,cssGridColumnStart:5,cssGridRowStart:1},ue={virtualCardPosition:r|b,cssGridColumnStart:1,cssGridRowStart:2},he={virtualCardPosition:o|b,cssGridColumnStart:2,cssGridRowStart:2},pe={virtualCardPosition:s|b,cssGridColumnStart:3,cssGridRowStart:2},ge={virtualCardPosition:c|b,cssGridColumnStart:4,cssGridRowStart:2},me={virtualCardPosition:d|b,cssGridColumnStart:5,cssGridRowStart:2},be={virtualCardPosition:r|v,cssGridColumnStart:1,cssGridRowStart:3},fe={virtualCardPosition:o|v,cssGridColumnStart:2,cssGridRowStart:3},Ce={virtualCardPosition:s|v,cssGridColumnStart:3,cssGridRowStart:3},ve={virtualCardPosition:c|v,cssGridColumnStart:4,cssGridRowStart:3},Se={virtualCardPosition:d|v,cssGridColumnStart:5,cssGridRowStart:3},ye={virtualCardPosition:r|S,cssGridColumnStart:1,cssGridRowStart:4},Oe={virtualCardPosition:o|S,cssGridColumnStart:2,cssGridRowStart:4},xe={virtualCardPosition:s|S,cssGridColumnStart:3,cssGridRowStart:4},we={virtualCardPosition:c|S,cssGridColumnStart:4,cssGridRowStart:4},je={virtualCardPosition:d|S,cssGridColumnStart:5,cssGridRowStart:4},Re={virtualCardPosition:r|x,cssGridColumnStart:1,cssGridRowStart:5},Pe={virtualCardPosition:o|x,cssGridColumnStart:2,cssGridRowStart:5},Ie={virtualCardPosition:s|x,cssGridColumnStart:3,cssGridRowStart:5},Ae={virtualCardPosition:c|x,cssGridColumnStart:4,cssGridRowStart:5},ke={virtualCardPosition:d|x,cssGridColumnStart:5,cssGridRowStart:5},Me={virtualCardPosition:r|w,cssGridColumnStart:1,cssGridRowStart:6},Te={virtualCardPosition:o|w,cssGridColumnStart:2,cssGridRowStart:6},Ee={virtualCardPosition:s|w,cssGridColumnStart:3,cssGridRowStart:6},_e={virtualCardPosition:c|w,cssGridColumnStart:4,cssGridRowStart:6},He={virtualCardPosition:d|w,cssGridColumnStart:5,cssGridRowStart:6},Ne={virtualCardPosition:r|j,cssGridColumnStart:1,cssGridRowStart:7},Le={virtualCardPosition:o|j,cssGridColumnStart:2,cssGridRowStart:7},Fe={virtualCardPosition:s|j,cssGridColumnStart:3,cssGridRowStart:7},De={virtualCardPosition:c|j,cssGridColumnStart:4,cssGridRowStart:7},ze={virtualCardPosition:d|j,cssGridColumnStart:5,cssGridRowStart:7},We={virtualCardPosition:r|R,cssGridColumnStart:1,cssGridRowStart:8},Ue={virtualCardPosition:o|R,cssGridColumnStart:2,cssGridRowStart:8},Be={virtualCardPosition:s|R,cssGridColumnStart:3,cssGridRowStart:8},$e={virtualCardPosition:c|R,cssGridColumnStart:4,cssGridRowStart:8},Ge={virtualCardPosition:d|R,cssGridColumnStart:5,cssGridRowStart:8},qe={virtualCardSize:W,cssGridColumnSpan:2,cssGridRowSpan:2},Ke={virtualCardSize:A,cssGridColumnSpan:1,cssGridRowSpan:1},Ve={virtualCardSize:T,cssGridColumnSpan:1,cssGridRowSpan:2},Je={virtualCardSize:H,cssGridColumnSpan:1,cssGridRowSpan:3},Ze={virtualCardSize:L,cssGridColumnSpan:1,cssGridRowSpan:4},Qe={virtualCardSize:M,cssGridColumnSpan:1,cssGridRowSpan:1},Xe={virtualCardSize:P,cssGridColumnSpan:1,cssGridRowSpan:1},Ye=[Y],et=[Y,Y],tt=[Y,Y,Y],nt=[Y,Y,Y,Y],it=[Y,Y,Y,Y,Y],at=[Y,Y,Y,Y,Y,Y],rt=[Y,Y,Y,Y,Y,Y,Y],ot=[Y,Y,Y,Y,Y,Y,Y,Y],st=[Y,Y,Y,Y,Y,Y,Y,Y,Y],ct=Ye.length,dt=et.length,lt=tt.length,ut=nt.length,ht=it.length,pt=at.length,gt=rt.length,mt=ot.length,bt=st.length,ft=[{minWidthPx:296,maxWidthPx:440}],Ct=[ne,ne],vt=[ne,ne,ne],St=[ne,ne,ne,ne],yt=[ne,ne,ne,ne,ne]},"34rd":function(e,t,n){"use strict";var i=n("OnwC"),a=n("eGM7"),r=n("USk/");n.o(r,"AutoSuggestContext")&&n.d(t,"AutoSuggestContext",(function(){return r.AutoSuggestContext})),n.o(r,"ButtonDirection")&&n.d(t,"ButtonDirection",(function(){return r.ButtonDirection})),n.o(r,"ProgressType")&&n.d(t,"ProgressType",(function(){return r.ProgressType})),n.o(r,"RadioSlot")&&n.d(t,"RadioSlot",(function(){return r.RadioSlot}));class o extends i.a{}o.displayName=a.DisplayNamePrefix+"TabItem",t.default=o},"3MbD":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.next="next",e.previous="previous"}(i||(i={}))},"5fbE":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));const i=new Map([["Y_46b78bbb-31c4-4fc5-8a4a-858072348d06","topstories"],["Y_8c1db373-86c0-4213-9e06-0bb6deb2a336","topnews"],["Y_a3b33cc2-2c47-48ba-a975-4b87b597644b","usnews"],["Y_ee352f2b-a60f-41b3-9b10-4d54b4e7f3f9","worldnews"],["Y_625693d2-c2d2-402b-b225-af427fad88f3","foodnews"],["Y_e9e6276b-7e2e-437e-8e9c-b45f1de22ba7","healthnews"],["Y_bced654c-7e2e-4c63-acb4-f3b3b89bd4e3","politics"],["Y_f714b6e2-e9db-41d0-9b5f-b2e0a52f85da","money"],["Y_b09e3e40-000d-454d-87ef-96631d7c9e7c","sports"],["Y_414a7c40-a373-4025-b4ce-e9502e9e17ed","entertainment"],["Y_6da7c728-6dac-49b0-8e35-ecfe0b41c198","celebritiesandroyals"],["Y_99096e96-6d4f-401c-832b-461e08143a5a","lifestyle"],["Y_aae602ed-e842-4fef-819c-88c6d23b95da","foodanddrink"],["Y_39162ebb-61d9-4c26-8520-a66d3a51da5b","healthandfitness"],["Y_8ea5642c-e95d-4175-97df-36bc505aa12c","goodnews"],["Y_c78438b0-ec84-49ed-b8f8-49fc91059089","celebrities"]]),a=["topstories","video"]},"5neD":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return h}));var i=n("rRnI"),a=n("KaPL"),r=n("Gcx/"),o=n("c1hv");const s={[a.a.Size1Wx1H]:r.a._1x_1y,[a.a.Size1Wx3H]:r.a._1x_1y,[a.a.Size1Wx6H]:r.a._1x_2y,[a.a.Size1Wx9H]:r.a._1x_3y,[a.a.Size2Wx6H]:r.a._2x_2y,[a.a.None]:r.a._1x_1y,[a.a.Size1Wx2H]:r.a._1x_1y,[a.a.Size1Wx4H]:r.a._1x_1y,[a.a.Size1Wx5H]:r.a._1x_1y,[a.a.Size1Wx7H]:r.a._2x_2y,[a.a.Size1Wx8H]:r.a._1x_1y,[a.a.Size1Wx10H]:r.a._1x_1y,[a.a.Size1Wx12H]:r.a._1x_1y,[a.a.Size1Wx18H]:r.a._1x_1y,[a.a.Size2Wx2H]:r.a._1x_1y,[a.a.Size2Wx3H]:r.a._1x_1y,[a.a.Size2Wx8H]:r.a._1x_1y,[a.a.Size2Wx12H]:r.a._1x_1y,[a.a.Size2Wx18H]:r.a._1x_1y,[a.a.Size3Wx2H]:r.a._1x_1y,[a.a.Size3Wx6H]:r.a._1x_1y,[a.a.Size3Wx12H]:r.a._1x_1y,[a.a.Size3Wx18H]:r.a._1x_1y,[a.a.Size4Wx2H]:r.a._1x_1y,[a.a.Size4Wx3H]:r.a._1x_1y,[a.a.Size4Wx6H]:r.a._1x_1y,[a.a.Size4Wx12H]:r.a._1x_1y,[a.a.Size4Wx18H]:r.a._1x_1y};var c;function d(e){let t=c.None;const{abstract:n,enableImageOn1x1y:a,disableAbstractCards:r,image:o,enableBigImageOn1x2y:s}=e;return o&&o.width&&o.height&&(t|=c.HasImage,a&&p(o,i.b.Image_1x1y)&&(t|=c.HasImage_1x1),p(o,i.b.Landscape_2x)&&(t|=c.HasLandscapeImage_2x),s&&p(o,i.b.BigImage_1x)&&(t|=c.HasBigImage_1x),p(o,i.b.Landscape_1x)&&(t|=c.HasLandscapeImage),o.height>o.width&&o.height>=i.b.Portrait_1x.height&&(t|=c.HasPortraitImage)),!r&&n&&(t|=c.HasAbstract,n.length>=i.c&&(t|=c.HasLargeAbstract)),t}function l(e){return s[e]}function u(e){let t=a.a.None;const{titleLength:n,primaryImage:r,disableAbstractCards:o,abstractLength:s}=e;if(!n)return t;if(t=a.a.Size1Wx3H|a.a.Size1Wx1H,r){const{width:e,height:n}=r;e>=i.b.Landscape_1x.width&&n>=i.b.Landscape_1x.height&&(t|=a.a.Size1Wx6H,e>=i.b.Landscape_2x.width&&n>=i.b.Landscape_2x.height&&(t|=a.a.Size2Wx6H|a.a.Size1Wx7H)),n>=i.b.Portrait_1x.height&&n>e&&(t|=a.a.Size1Wx9H)}return!o&&s>=i.c&&t&a.a.Size1Wx6H&&(t|=a.a.Size1Wx9H),t}function h(e,t,n,i){return!(!e||!t)&&(e===t&&Object(o.a)(n,i))}function p(e,t){return e.width>=t.width&&e.height>=t.height}!function(e){e[e.None=0]="None",e[e.HasImage=1]="HasImage",e[e.HasPortraitImage=3]="HasPortraitImage",e[e.HasLandscapeImage=5]="HasLandscapeImage",e[e.HasLandscapeImage_2x=13]="HasLandscapeImage_2x",e[e.HasBigImage_1x=21]="HasBigImage_1x",e[e.HasImage_1x1=33]="HasImage_1x1",e[e.HasAbstract=64]="HasAbstract",e[e.HasLargeAbstract=192]="HasLargeAbstract"}(c||(c={}))},"5p4t":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("G82u");class a{}a.changeCardSize=new i.a("ChangeCardSize")},"6xGu":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return S})),n.d(t,"f",(function(){return y})),n.d(t,"i",(function(){return O})),n.d(t,"h",(function(){return x})),n.d(t,"g",(function(){return w})),n.d(t,"b",(function(){return j})),n.d(t,"j",(function(){return P}));var i,a=n("pCrc"),r=n("y2Il"),o=n("rvYQ"),s=n("ADRF"),c=n("Fpjf"),d=n("aHCm"),l=n("u5KZ"),u=n("Am8i");!function(e){e[e.linksPointToPartner=2]="linksPointToPartner"}(i||(i={}));var h=n("HxRh"),p=n("ERkP"),g=n.n(p),m=n("kpPY");const b={ArticlePreview:"ar",SlideshowPreview:"ss",VideoPreview:"vi"};function f(e){const{abstract:t}=e;if(t)return{dangerouslySetInnerHTML:{__html:t}}}function C(e,t,n,a){if(e.renderingRestriction===i.linksPointToPartner){if(e.sourceHref)return e.sourceHref;l.a.sendAppErrorEvent(Object.assign(Object.assign({},h.Gb),{message:"Content with rendering restriction 'link to partner' is missing source HREF",pb:Object.assign(Object.assign({},h.Gb.pb),{customMessage:"Content Id: "+e.id})}))}if(e.destinationUrl)return e.destinationUrl;const r=Object(o.b)().contentLinkHost,c=b[e.type]||"xx";return`https://${r}/${t}/${n=s.a.encodeURIComponentForPrime(n||"")}/${a=s.a.encodeURIComponentForPrime(a||"")}/${encodeURIComponent(e.uriTitle||"")}/${c}-${e.id}`}function v(e,t,n,i,a,r){if(!e||!n)return null;const{category:o,id:s,title:c,provider:d,sourceHref:l}=e;return n.addOrUpdateChild({name:"destination",type:a||u.e.Headline,action:u.a.Click,behavior:r||u.b.Navigate,content:{id:s,category:o&&o.label||null,headline:c,vertical:o&&o.product||null,brand:d&&d.name||null},destinationUrl:i,feed:{id:t||null}}).render()}function S(e,t){return{tag:r.b.h3,size:t,children:e.title}}function y(e,t,n=60){const i=e.images&&e.images[0],{attribution:a,caption:r=e.title,id:o,focalRegion:s}=i||{};if(!o)return;const d=[];let l;r&&d.push(r),a&&d.push(a),d.length&&(l=d.join(" - "));return{src:Object(c.d)(o,{width:t.width,height:t.height,focalRegion:s,enableDpiScaling:!1,quality:n}),alt:l,title:l,style:{maxHeight:t.height}}}function O(e){const{provider:t}=e;if(!t)return;const{name:n,logo:i}=e.provider;return i&&i.id?{src:`${d.a.prod}${i.id}?w=16&h=16`,alt:n}:void 0}function x(e,t){const{provider:n}=e;if(!n)return;const{name:i}=e.provider;return i?{children:i,image:t?e=>g.a.createElement(a.a,Object.assign(Object.assign({},t),{className:e})):null}:void 0}function w(e,t,n=!0){if(!e)return;const{title:i,images:a}=e,r=a&&a[0];return R(i,r&&r.attribution,t,n)}function j(e,t){if(!e)return;const{title:n,provider:i}=e;return R(n,i&&i.name,t,!0)}function R(e,t,n,i){const a=[];e&&a.push(e);let r,o="";return n&&t?o=Object(m.a)(n,t):t&&(o=t),i&&o.length&&a.push(o),a.length&&(r=a.join(" - ")),r}function P(e,t){const{width:n,height:i}=e;if(t||(t=window.innerWidth>440?440:window.innerWidth),n===t)return e;return{width:t,height:Math.floor(t/n*i)}}},"70mL":function(e,t){},"73ct":function(e,t){},"7wJ/":function(e,t){},"8AuO":function(e,t,n){"use strict";var i=n("OnwC"),a=n("o1qX"),r=n("ERkP"),o=n.n(r),s=n("eGM7"),c=n("0vDZ");class d extends i.a{constructor(){super(...arguments),this.handledProps={children:void 0,managedClasses:void 0,tag:void 0}}render(){return o.a.createElement(this.tag,Object.assign({},this.unhandledProps(),{className:this.generateClassNames()}),this.props.children)}generateClassNames(){return super.generateClassNames(Object(a.a)(this.props.managedClasses.card))}get tag(){return c.a[this.props.tag]||c.a.div}}d.displayName=s.DisplayNamePrefix+"Card",d.defaultProps={managedClasses:{}};var l=d;t.a=l},"8MWm":function(e,t,n){"use strict";var i=n("iuMt"),a=n("fz//"),r=n("3ZGc"),o=n("rRWH"),s=n("SP+O"),c=n("LD6M"),d=n("QhQn"),l=n("7b0X"),u=n("MF9s"),h=n("objN");const p="#101010",g=Object(s.c)(()=>p),m=Object(s.c)(()=>"#FFF"),b=Object(c.c)(()=>p),f=Object(c.c)(()=>"#FFF"),C=Object(d.c)(()=>p),v=Object(d.c)(()=>"#FFF"),S=Object(l.a)(()=>p),y=Object(l.a)(()=>"#FFF");const O={carousel:{position:"relative",display:"inline-block","&:hover":{"& $carousel_flipperPrevious, & $carousel_flipperNext":{opacity:"1"}},[h.D]:Object.assign({},h.w)},carousel_slides:{},carousel_sequenceIndicators:{position:"absolute",bottom:"4px",display:"inline-flex",padding:"0","text-align":"center","z-index":"100","max-width":"100%",left:"50%",transform:"translate(-50%, -50%)","& > :first-child:nth-last-child(1)":{display:"none"}},carousel_sequenceIndicator:Object.assign(Object.assign({display:"inline-block",padding:"4px",position:"relative","&:focus":{outline:"none"}},Object(i.a)({"&::after":{position:"absolute",border:Object(a.a)("{0} solid transparent",Object(r.a)(u.s)),"border-radius":"40px",top:"0",right:"0",left:"0",bottom:"0",content:"''",display:"block",transition:"all 0.05s ease-in-out"}})),{"&::before":{opacity:"0.45",border:"1px solid transparent","border-radius":"40px",content:"''",display:"block",height:Object(r.a)(u.p),width:"32px",transition:"all 0.05s ease-in-out"},"&:not($carousel_sequenceIndicator__active)":{"&:hover":{"&::before":Object.assign({opacity:"0.9"},h.q)}}}),carousel_sequenceIndicator__active:{"&::before":{opacity:"1"}},carousel_tabPanel:{display:"block"},carousel_tabPanel__hidden:{display:"none"},carousel_tabPanels:{},carousel_tabPanelContent:{},carousel_flipperPrevious:Object.assign(Object.assign({},{position:"absolute",top:"calc(50% - 20px)","z-index":"100",opacity:"0",transition:"all 0.2s ease-in-out"}),{left:Object(o.c)("6px",""),right:Object(o.c)("","6px")}),carousel_flipperNext:Object.assign(Object.assign({},{position:"absolute",top:"calc(50% - 20px)","z-index":"100",opacity:"0",transition:"all 0.2s ease-in-out"}),{right:Object(o.c)("6px",""),left:Object(o.c)("","6px")}),carousel__themeDark:{"& $carousel_flipperPrevious, & $carousel_flipperNext":{"&::before":Object.assign({color:g,fill:g,background:b,border:Object(a.a)("{0} solid {1}",Object(r.a)(u.U),C)},h.h),"& span::before":{"border-color":g},"&:hover":{"&::before":{background:Object(c.b)(()=>p),[h.D]:{background:h.a.selectedBackground,border:Object(a.a)("{0} solid {1}",Object(r.a)(u.U),()=>h.a.selectedText)}},"& span::before":{"border-color":g}},"& > svg":Object.assign({fill:g},h.o),[h.D]:{background:"none"}},"& $carousel_sequenceIndicator":{"&::before":Object.assign({background:b,"border-color":C},h.g),"&::after":{"border-color":S},"&$carousel_sequenceIndicator__active":{"&::before":Object.assign({background:b},h.q)}}},carousel__themeLight:{"& $carousel_flipperPrevious, & $carousel_flipperNext":{"&::before":Object.assign({color:m,fill:m,background:f,border:Object(a.a)("{0} solid {1}",Object(r.a)(u.U),v)},h.h),"& span::before":{"border-color":m},"&:hover":{"&::before":{background:Object(c.b)(()=>"#FFF"),[h.D]:{background:h.a.selectedBackground,border:Object(a.a)("{0} solid {1}",Object(r.a)(u.U),()=>h.a.selectedText)}},"& span::before":{"border-color":m}},"& > svg":Object.assign({fill:m},h.o),[h.D]:{background:"none"}},"& $carousel_sequenceIndicator":{"&::before":Object.assign({background:f,"border-color":v},h.g),"&::after":{"border-color":y},"&$carousel_sequenceIndicator__active":{"&::before":Object.assign({background:f},h.q)}}},carousel__slideAnimatePrevious:{},carousel__slideAnimateNext:{}};t.a=O},"9IeT":function(e,t,n){var i={"./":["NJ5d"],"./CategoryRiverSections":["Yx6L",2],"./CategoryRiverSections.js":["Yx6L",2],"./DisplayAdsRiverSections":["9PcH",3],"./DisplayAdsRiverSections.js":["9PcH",3],"./FinanceThreeColumnRiverSections":["JLQv",4],"./FinanceThreeColumnRiverSections.js":["JLQv",4],"./LegacyRiverSections":["Gi4b",5],"./LegacyRiverSections.js":["Gi4b",5],"./OfficeNewsSections":["2QJ0",6],"./OfficeNewsSections.js":["2QJ0",6],"./OneColumnCategoryRiverSections":["HeU3",0],"./OneColumnCategoryRiverSections.js":["HeU3",0],"./OneColumnFullHeightRiverSections":["+95l",7],"./OneColumnFullHeightRiverSections.js":["+95l",7],"./OneColumnLegacyRiverSections":["9Bga",8],"./OneColumnLegacyRiverSections.js":["9Bga",8],"./OneColumnSuperAppRiverSections":["Z4bx",9],"./OneColumnSuperAppRiverSections.js":["Z4bx",9],"./OneColumnUnifiedMobileRiverSections":["1uO2",1],"./OneColumnUnifiedMobileRiverSections.js":["1uO2",1],"./SectionTemplatesConstants":["2R5J"],"./SectionTemplatesConstants.js":["2R5J"],"./UnifiedMobileTemplatesConstants":["nTuj",10],"./UnifiedMobileTemplatesConstants.js":["nTuj",10],"./index":["NJ5d"],"./index.js":["NJ5d"]};function a(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(i)},a.id="9IeT",e.exports=a},"9l6q":function(e,t,n){"use strict";var i,a;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),function(e){e[e.Column1=1]="Column1",e[e.Column2=2]="Column2",e[e.Column3=4]="Column3",e[e.Column4=8]="Column4",e[e.Column5=16]="Column5",e[e.Column6=32]="Column6",e[e.Column7=64]="Column7",e[e.Column8=128]="Column8",e[e.ColumnMax=128]="ColumnMax",e[e.ColumnMask=255]="ColumnMask"}(i||(i={})),function(e){e[e.None=0]="None",e[e.Row1=256]="Row1",e[e.Row2=512]="Row2",e[e.Row3=1024]="Row3",e[e.Row4=2048]="Row4",e[e.Row5=4096]="Row5",e[e.Row6=8192]="Row6",e[e.Row7=16384]="Row7",e[e.Row8=32768]="Row8",e[e.Row9=65536]="Row9",e[e.Row10=131072]="Row10",e[e.Row11=262144]="Row11",e[e.Row12=524288]="Row12",e[e.Row13=1048576]="Row13",e[e.Row14=2097152]="Row14",e[e.Row15=4194304]="Row15",e[e.Row16=8388608]="Row16",e[e.Row17=16777216]="Row17",e[e.Row18=33554432]="Row18",e[e.Row19=67108864]="Row19",e[e.Row20=134217728]="Row20",e[e.Row21=268435456]="Row21",e[e.Row22=536870912]="Row22",e[e.RowMax=536870912]="RowMax",e[e.RowMask=1073741568]="RowMask",e[e.Any=1073741568]="Any"}(a||(a={}))},ABUT:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("+viU"),a=n("DngS"),r=n("OnwC"),o=n("ERkP"),s=n.n(o),c=n("u5KZ");const d='button, [href], input, select, textarea, iframe, contentEditable, [tabindex]:not([tabindex="-1"])';class l extends r.a{constructor(){super(...arguments),this.state={itemsLimitReached:!1,currentNumberOfItems:this.props.numberOfInitialItemsMobile},this.rootRef=s.a.createRef(),this.getDisplayStyle=()=>{const{display:e}=this.props;return void 0!==e?{display:e?"flex":"none"}:{display:this.state.itemsLimitReached?"none":"flex"}},this.handleShowMoreClick=e=>{const{onShowMoreClick:t}=this.props;t&&t?t(e):this.updateState(),c.a.sendActionEvent(e.currentTarget)},this.handleKeyDown=e=>{"Enter"===e.key&&this.handleShowMoreClick(e)},this.updateState=()=>{const{numberOfItemsOnEachLoad:e,maxTotalItems:t}=this.props;this.nextFocusIndex=this.state.currentNumberOfItems;let n=this.state.currentNumberOfItems+e;const i=t-n;let a=!1;i<=0&&(n+=i,a=!0),this.setState({itemsLimitReached:a,currentNumberOfItems:n})}}render(){const{currentNumberOfItems:e}=this.state,t=s.a.Children.toArray(this.props.children),n=this.getDisplayStyle();return s.a.createElement("div",Object.assign({},this.unhandledProps(),{ref:this.rootRef,className:this.generateClassNames(this.props.managedClasses.showMore)}),t.slice(0,e),s.a.createElement("div",Object.assign({},this.props.showMoreTelemetry,{className:this.props.managedClasses.showMore_container,onClick:this.handleShowMoreClick,style:n,onKeyDown:this.handleKeyDown}),s.a.createElement("div",{className:this.props.managedClasses.showMore_link,tabIndex:0,role:"button"},this.props.linkText,s.a.createElement(a.a,{className:this.props.managedClasses.showMore_arrow}))))}componentDidUpdate(e){const t=this.state.currentNumberOfItems?this.state.currentNumberOfItems:s.a.Children.toArray(this.props.children).length;let n=this.nextFocusIndex?this.nextFocusIndex:s.a.Children.toArray(e.children).length;for(;n<t;n++)if(this.rootRef.current&&this.rootRef.current.children.item(n)){const e=this.rootRef.current.children.item(n);if(e){if(e.matches(d)){e.focus();break}{const t=e.querySelector(d);if(t){t.focus();break}}}}this.nextFocusIndex=null}}var u=n("SP+O");const h={showMore:{},showMore_container:{"margin-top":"30px","font-size":"12px","line-height":"16px",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center","text-align":"center",color:u.c,"border-radius":"4px",cursor:"pointer"},showMore_link:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center","text-transform":"uppercase"},showMore_arrow:{fill:u.c,opacity:"0.6",transform:"rotate(-90deg)"}};const p=Object(i.a)(h)(l)},AMBy:function(e,t,n){"use strict";function i(e,t){return"function"==typeof IntersectionObserver?new IntersectionObserver(e,t):null}n.d(t,"a",(function(){return i}))},AjgC:function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var i=n("D57K"),a=n("L+J7"),r=n("uT2j"),o=n("4YCp"),s=n("FPTP"),c=n("rRnI"),d=n("8yfO"),l=n("7FLv"),u=n("QhQn"),h=n("HZZz"),p=n("aP31"),g=n("9CwC"),m=n("AuhI"),b=n("rRWH"),f=n("fz//"),C=n("0fst"),v=n("SP+O");const S=C.a.Neutral,y=S+1,O=y+1,x={attribution_contentRegion:{color:Object(v.c)(()=>"#000000")},attribution_image:{"max-height":"16px","max-width":"16px"}};var w=n("lWfA"),j=n("OnwC"),R=n("CiAa"),P=n("LJMo"),I=n("ERkP"),A=n.n(I),k=n("7nmT"),M=n.n(k),T=n("o1qX"),E=n("B9ci"),_=n("JpJ4");class H extends j.a{constructor(){super(...arguments),this.handledProps={cardType:void 0,children:void 0,contentCards:void 0,height:void 0,kicker:void 0,classNameParts:void 0,managedClasses:void 0,tag:void 0,width:void 0},this.contentCardColumnRef=A.a.createRef()}render(){const{cardType:e,height:t,width:n,tag:i,managedClasses:a}=this.props,o=this.generateClassNames(Object(T.a)(a.complexContentCard,[this.getClassNameByCardType(),!!e]));return A.a.createElement(r.a,Object.assign({},_.c),A.a.createElement(w.a,Object.assign({},this.unhandledProps(),{className:o,height:t,tag:i,width:n}),this.renderLayout()))}componentDidMount(){this.contentCardColumnRef.current&&this.truncateMosaicContent()}getClassNameByCardType(){const{cardType:e,managedClasses:t}=this.props,{complexContentCard_halfPane:n,complexContentCard_headToHead:i,complexContentCard_mosaic:a,complexContentCard_triptych:r}=t;switch(e){case P.a.HalfPane:return n;case P.a.HeadToHead:return i;case P.a.Mosaic:return a;case P.a.Triptych:return r;default:return}}renderLayout(){if(Array.isArray(this.props.contentCards))switch(this.props.cardType){case P.a.HalfPane:return this.renderHalfPane();case P.a.Mosaic:return this.renderMosaic();default:return this.renderPane()}}renderPane(){const e=this.props.cardType===P.a.Triptych?this.props.managedClasses.complexContentCard_contentWrapper__triptychPane:null;return A.a.createElement(A.a.Fragment,null,this.props.contentCards.map((t,n)=>this.renderContent(n,t,e)),this.renderBadge())}renderBadge(){if(this.props.kicker)return A.a.createElement(o.a,Object.assign({},this.props.kicker,{className:this.props.managedClasses.complexContentCard_kicker}))}renderMosaic(){const{complexContentCard_column:e,complexContentCard_contentWrapper__mosaicPane:t}=this.props.managedClasses;return A.a.createElement(A.a.Fragment,null,this.renderContent(0,this.props.contentCards[0],t),A.a.createElement("div",{className:e,ref:this.contentCardColumnRef},this.renderContent(1,this.props.contentCards[1],null,!0),this.renderContent(2,this.props.contentCards[2],null,!0)),this.renderBadge())}truncateMosaicContent(){const e=M.a.findDOMNode(this.contentCardColumnRef.current),t=e&&e.querySelectorAll("[class*=complexContentCard_headingContent]");t&&t.length&&t.forEach(e=>{const t=e.parentElement,n=e.lastChild;Object(E.a)(e,c.a.Heading_1x,c.d.Default),e.style.display="inline",n&&e.firstChild&&n!==e.firstChild&&t.append(n)})}renderHalfPane(){const{complexContentCard_contentWrapper__halfPane:e,complexContentCard_column__halfPane:t,complexContentCard_columnContent__halfPane:n}=this.props.managedClasses;return A.a.createElement(A.a.Fragment,null,this.renderContent(0,this.props.contentCards[0],e),A.a.createElement("div",{className:t},A.a.createElement("div",{className:n},this.renderContent(1,this.props.contentCards[1]),this.renderContent(2,this.props.contentCards[2]),this.renderContent(3,this.props.contentCards[3]))),this.renderBadge())}renderContent(e,t,n,i){if(!t)return;const{complexContentCard_textWrapper:a,complexContentCard_contentWrapper:r}=this.props.managedClasses,o=this.props.classNameParts?this.props.classNameParts[e]:null;return A.a.createElement("div",Object.assign({},this.unhandledProps(),{key:e,className:Object(T.a)(r,[n,!!n],[o,!!o])}),this.renderImage(t),A.a.createElement("div",{className:a},this.renderHeading(t,i),!i&&this.renderAttribution(t)))}renderHeading(e,t){if(!e.destination)return;const{complexContentCard_destination:n,complexContentCard_heading:a,complexContentCard_headingContent:r}=this.props.managedClasses,o=e.heading,{children:c}=o,d=Object(i.d)(o,["children"]);return A.a.createElement(R.default,Object.assign({},e.destination,{className:Object(T.a)(n,a)}),A.a.createElement(s.a,Object.assign({},d,{className:r}),c,t&&this.renderAttribution(e)))}renderImage(e){if("function"==typeof e.image){const{complexContentCard_imageWrapper:t,complexContentCard_image:n,complexContentCard_imageOverlay:i}=this.props.managedClasses;return A.a.createElement("div",{className:t},e.image(n),A.a.createElement("div",{className:i}))}}renderAttribution(e){if(!e.attribution)return;const{complexContentCard_attributionWrapper:t,complexContentCard_attribution:n}=this.props.managedClasses;return A.a.createElement("div",{className:t},A.a.createElement(a.a,Object.assign({},e.attribution,{jssStyleSheet:x,className:n})))}}var N=n("+viU");const L=Object(N.a)(e=>({complexContentCard:{"&&":{"align-items":"center","background-color":"black",position:"relative",overflow:"hidden"}},complexContentCard_halfPane:{"&&":{display:"inline-flex"}},complexContentCard_headToHead:{"&&":{display:"grid","grid-template-columns":"repeat(2, 1fr)"}},complexContentCard_mosaic:{"&&":{display:"grid","grid-template-columns":"repeat(2, 1fr)","grid-template-areas":'"leftPane column"'}},complexContentCard_triptych:{"&&":{display:"grid","grid-template-columns":"repeat(3, 1fr)","& $complexContentCard_contentWrapper":{height:"100%"}}},complexContentCard_column:{"&&":{height:"100%","grid-area":"column","flex-direction":"column","& $complexContentCard_heading":Object.assign({},Object(m.a)(3,Object(d.f)("t5"))),"& $complexContentCard_headingContent":Object.assign(Object.assign(Object.assign({},Object(d.c)("t5")),Object(m.a)(3,Object(d.f)("t5"))),{[Object(b.b)("margin-right","margin-left",e.direction)]:"10px"}),"& $complexContentCard_attributionWrapper":{width:"unset","margin-top":"0"}},"& $complexContentCard_contentWrapper":{height:"50%","&:first-child":{"& $complexContentCard_textWrapper":{"padding-bottom":"10px"}}}},complexContentCard_contentWrapper:{"background-color":"black",position:"relative","&:hover":Object.assign(Object.assign({},Object(l.b)(l.a.e6)),{"& $complexContentCard_image":{opacity:"0.7"}})},complexContentCard_destination:{"text-decoration":"none","&::before":{background:"transparent",bottom:"0",content:"''",left:"0",position:"absolute",right:"0",top:"0"},"&:hover":{"& $complexContentCard_headingContent":{"text-decoration":"underline"}}},complexContentCard_column__halfPane:{[Object(b.b)("right","left",e.direction)]:"0","background-image":`linear-gradient(to ${Object(b.b)("left","right",e.direction)}, rgba(0, 0, 0, .95), transparent)`,display:"flex","flex-direction":"column",height:"100%","justify-content":"center",position:"absolute",width:"200px"},complexContentCard_columnContent__halfPane:{[Object(b.b)("border-left","border-right",e.direction)]:"1px solid rgba(255, 255, 255, .40)",[Object(b.b)("padding-left","padding-right",e.direction)]:"12px",[Object(b.b)("padding-right","padding-left",e.direction)]:"24px","& $complexContentCard_textWrapper":{position:"relative",padding:"8px 0","border-top":Object(f.a)("1px solid {0}",u.c)},"&&":{"& $complexContentCard_headingContent":Object.assign(Object.assign({},Object(d.c)("t8")),{"max-height":"48px",width:"163px"})},"& $complexContentCard_contentWrapper":{height:"unset"}},complexContentCard_heading:{},complexContentCard_headingContent:{"&&":{"font-weight":""+h.fontWeight.normal,"margin-top":"6px",position:"relative",cursor:"pointer","z-index":""+y,overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":"3","-webkit-box-orient":"vertical","max-height":"90px",width:"280px"}},complexContentCard_image:{margin:"auto","&:hover":{opacity:"0.7"}},complexContentCard_imageOverlay:{"background-image":"linear-gradient(to top, black 15%, transparent 100%)",bottom:"0",left:"0",position:"absolute",height:"150px",width:"100%"},complexContentCard_imageWrapper:{position:"relative",width:"100%"},complexContentCard_kicker:{"&&":{[Object(b.b)("left","right",e.direction)]:"16px",background:p.d,"border-radius":0,color:g.a,"font-weight":""+h.fontWeight.semibold,position:"absolute",top:"16px","z-index":""+O,"max-width":"calc(100% - 16px)"}},complexContentCard_attributionWrapper:{"box-sizing":"border-box",display:"inline-flex","margin-top":"10px",width:"100%",cursor:"default","z-index":""+S},complexContentCard_textWrapper:{bottom:"0","box-sizing":"border-box",display:"flex","flex-direction":"column","justify-content":"flex-end",left:"0",padding:"8px 16px 30px",position:"absolute",right:"0",top:"0","z-index":""+y},complexContentCard_contentWrapper__mosaicPane:{"grid-area":"leftPane","& $complexContentCard_textWrapper":{"& $complexContentCard_headingContent":Object.assign(Object.assign({"-webkit-line-clamp":"3"},Object(d.c)("t5")),Object(m.a)(3,Object(d.f)("t5")))}},complexContentCard_contentWrapper__halfPane:{"& $complexContentCard_textWrapper":{padding:"8px 112px 30px 16px","& $complexContentCard_headingContent":Object.assign(Object.assign(Object.assign({},Object(d.c)("t4")),Object(m.a)(2,Object(d.f)("t4"))),{display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical","font-weight":""+h.fontWeight.semibold,width:"392px"}),"&::before":{background:`linear-gradient(to ${Object(b.b)("right","left",e.direction)}, transparent 60%, black 85%)`,bottom:"0",content:"''",left:"0",position:"absolute",right:"0",top:"0"}}},complexContentCard_contentWrapper__triptychPane:{"& $complexContentCard_imageOverlay":{"background-image":"linear-gradient(to top, black 13%, transparent 100%)",height:"82px"},"& $complexContentCard_headingContent":{width:"176px"}}}))(H)},Ak5j:function(e,t){},B5vd:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.light="light",e.dark="dark"}(i||(i={}))},B9ci:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var i=n("HxRh"),a=n("u5KZ"),r=n("8yfO");const o=/[\u2026]+$/,s=/(?:\s|[,!.?:;])*([\u3000-\u30ff\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF]|[^\s\u3000-\u30ff\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF]+)(?:\s|[,!.?:;])*$/;let c=void 0;function d(e,t,n){if(e&&e.firstChild){const c=function(e,t){if(t)return r.h["t"+t].lineHeight;return parseInt(getComputedStyle(e).getPropertyValue("line-height"),10)}(e,t),d=n?n*c:parseInt(getComputedStyle(e).getPropertyValue("max-height"),10),u=e.firstChild;let h=u.nodeValue,p=0;for(;Math.round(l(e)/c)>Math.round(d/c);){u.nodeValue=u.nodeValue.replace(o,"");const e=s.exec(u.nodeValue);if(e&&(u.nodeValue=u.nodeValue.substr(0,u.nodeValue.length-e[0].length)+"â€¦"),h===u.nodeValue)return;if(h=u.nodeValue,++p>50)return void a.a.sendAppErrorEvent(Object.assign(Object.assign({},i.V.OverTruncationError),{message:"headline truncation is executed more than 50 times",pb:Object.assign(Object.assign({},i.V.OverTruncationError.pb),{customMessage:"truncated headline: "+h})}))}}}function l(e){const t=document.createRange();t.selectNodeContents(e);return t.getBoundingClientRect().height}function u(){return void 0===c&&(c=!!(window.CSS&&window.CSS.supports&&CSS.supports("-webkit-line-clamp","3"))),c}},BAt3:function(e,t){},BDbC:function(e,t){},"BQb/":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n("D57K"),a=n("fIer"),r=n("rvYQ"),o=n("I6Lx"),s=n("msIb"),c=n("6ADy"),d=n("KETb"),l=n("k112"),u=n("KUTD"),h=n("HxRh"),p=n("wUxM"),g=n("tERu"),m=n("r6MD"),b=n("/+Un"),f=n("hxZq");const C="Dislike",v="Like",S="Save",y="Mute";class O{constructor(e){this.fetchImpl=e,this.providersServiceEndpoint="./Msn/Providers",this.cardActionsServiceEndpoint="./Graph/Actions",this.ocid="feeds"}Dislike(e,t){return Object(i.b)(this,void 0,void 0,(function*(){return this.PostCardActionRequest(e,C,t)}))}Undislike(e,t){return Object(i.b)(this,void 0,void 0,(function*(){return this.DeleteCardActionRequest(e,C,t)}))}Like(e,t){return Object(i.b)(this,void 0,void 0,(function*(){return this.PostCardActionRequest(e,v,t)}))}Unlike(e,t){return Object(i.b)(this,void 0,void 0,(function*(){return this.DeleteCardActionRequest(e,v,t)}))}Save(e,t){return Object(i.b)(this,void 0,void 0,(function*(){return this.PostCardActionRequest(e,S,t,null)}))}Unsave(e,t){return Object(i.b)(this,void 0,void 0,(function*(){return this.DeleteCardActionRequest(e,S,t)}))}Hide(e,t){return Object(i.b)(this,void 0,void 0,(function*(){return this.PostCardActionRequest(e,"Dislike",t,null)}))}Unhide(e,t){return Object(i.b)(this,void 0,void 0,(function*(){return this.DeleteCardActionRequest(e,"Dislike",t)}))}Mute(e,t){return Object(i.b)(this,void 0,void 0,(function*(){return this.PostCardActionRequest(e,y,t,"SourceProvider")}))}GetProviderIcon(e,t){return Object(i.b)(this,void 0,void 0,(function*(){const n=yield this.GetPublisherDetails(e,t);return Object(m.a)(n,"value[0].logos[0].imageLink.href",void 0)}))}PostCardActionEvent(e,t,n,i=(()=>null),r=(()=>null)){switch(t){case p.b.Like:if(e.Like===a.a.Like){this.Unlike(n,r);return i(Object.assign(Object.assign({},e),{Like:a.a.None}))}this.Like(n,r);return i(Object.assign(Object.assign({},e),{Like:a.a.Like}));case p.b.Dislike:if(e.Like===a.a.DisLike){this.Undislike(n,r);return i(Object.assign(Object.assign({},e),{Like:a.a.None}))}this.Dislike(n,r);return i(Object.assign(Object.assign({},e),{Like:a.a.DisLike}));case p.b.Save:if(!0===e.Save){this.Unsave(n,r);return i(Object.assign(Object.assign({},e),{Save:!1}))}this.Save(n,r);return i(Object.assign(Object.assign({},e),{Save:!0}));case p.b.HideStory:if(!0===e.Hide){this.Unhide(n,r);return i(Object.assign(Object.assign({},e),{Hide:!1}))}this.Hide(n,r);return i(Object.assign(Object.assign({},e),{Hide:!0}));default:return}}GetPublisherDetails(e,t){return Object(i.b)(this,void 0,void 0,(function*(){const n=yield s.a.getBaseRequestData("GET"),a={key:"ids",value:e},r=Object(c.d)(this.providersServiceEndpoint);let o;[a,...s.a.getOneServiceParamsWithoutAuth(null,this.ocid)].forEach(e=>e.value&&r.searchParams.set(e.key,e.value));try{o=yield Object(d.a)(()=>Object(i.b)(this,void 0,void 0,(function*(){const t=yield this.fetchImpl(r.href,n);if(!t.ok){const n=`OneService returned error response. Status: ${t.status} for providerId: ${e} (url: ${r.href}`;throw new Error(n)}return t.json()})),"getProviderDetails")}catch(e){t(Object.assign(Object.assign({},h.F.CardActionGetActionError),{message:`Error while calling getPublisherDetails action for card action: url: ${r.href}, error: ${e}`}))}return o}))}DeleteCardActionRequest(e,t,n){return Object(i.b)(this,void 0,void 0,(function*(){const a=yield s.a.getBaseRequestData("DELETE");(yield this.isUserSignedIn())&&(a.credentials="include");const r={key:"$filter",value:`actionType eq '${t}' and targetId eq '${e}'`},o=Object(c.d)(this.cardActionsServiceEndpoint);let u;[r,...yield this.getOneServiceCommonParam()].forEach(e=>e.value&&o.searchParams.set(e.key,e.value));try{u=yield Object(d.a)(()=>Object(i.b)(this,void 0,void 0,(function*(){const n=yield this.fetchImpl(o.href,a);if(n.status>=400){const i=`OneService returned error response. Status: ${n.status} for actionType: ${t} and targetId: ${e}`;throw new Error(i)}return Object(l.a)(this.getPreloadReloadReason(t)),Object(f.d)(),n})),"deleteCardAction"+t)}catch(e){n(Object.assign(Object.assign({},h.F.CardActionDeleteActionError),{message:`Error while calling delete action for card action: url: ${o.href}, error: ${e}`}))}return u}))}PostCardActionRequest(e,t,n,a){return Object(i.b)(this,void 0,void 0,(function*(){const r={method:"POST",body:JSON.stringify({actionType:t,targetId:e,targetType:a}),headers:yield s.a.getOneServiceHeaders()};(yield this.isUserSignedIn())&&(r.credentials="include");const o=Object(c.d)(this.cardActionsServiceEndpoint);let u;(yield this.getOneServiceCommonParam()).forEach(e=>e.value&&o.searchParams.set(e.key,e.value));try{u=yield Object(d.a)(()=>Object(i.b)(this,void 0,void 0,(function*(){const n=yield this.fetchImpl(o.href,r);if(n.status>=400){const i=`OneService returned error response. Status: ${n.status} for actionType: ${t}, targetId: ${e} and targetType: ${a}`;throw new Error(i)}return Object(l.a)(this.getPreloadReloadReason(t)),Object(f.d)(),n.json()})),"getCardAction"+t)}catch(e){n(Object.assign(Object.assign({},h.F.CardActionPostActionError),{message:`Error while posting action for card action: url: ${o.href}, error: ${e}`}))}return u}))}getOneServiceCommonParam(){return Object(i.b)(this,void 0,void 0,(function*(){return(yield this.isUserSignedIn())?s.a.getOneServiceParamsWithAuth(r.a.UserId,this.ocid):s.a.getOneServiceParamsWithoutAuth(r.a.UserId,this.ocid)}))}isUserSignedIn(){return Object(i.b)(this,void 0,void 0,(function*(){if(o.b.UserIsSignedIn)return!0;return(yield Object(b.b)())===g.b.SignedIn}))}getPreloadReloadReason(e){switch(e){case v:return u.a.Like;case C:return u.a.Dislike;case y:return u.a.MutePublisher;case S:return u.a.Save;default:return u.a.SettingsChange}}}},Bh1M:function(e,t,n){"use strict";n.r(t),n.d(t,"createComplexContentPreviewConfigProperties",(function(){return i.createComplexContentPreviewConfigProperties})),n.d(t,"ComplexContentPreview",(function(){return te})),n.d(t,"ComplexContentPreviewActions",(function(){return T})),n.d(t,"ComplexContentPreviewConnector",(function(){return V})),n.d(t,"ComplexContentPreviewReducer",(function(){return Q})),n.d(t,"mapComplexContentCardProps",(function(){return L.a})),n.d(t,"ToolingInfo",(function(){return ne}));var i=n("1lvv"),a=n("+viU"),r=n("5mwN"),o=n("B9ci"),s=n("AjgC"),c=n("MF9s"),d=n("SP+O"),l=n("rRWH");const u={complexContentPreview:{background:c.k,color:d.c,position:"relative"},complexContentPreview_loading:{background:c.k}},h=e=>({complexContentCard:{"& $complexContentCard_contentWrapper:first-child":{"&::after":{[Object(l.b)("border-left-width","border-right-width",e.direction)]:"0"}}},complexContentCard_column:{"& $complexContentCard_contentWrapper:first-child":{"&::after":{border:"0.5px solid white"},"& $complexContentCard_textWrapper":{"border-bottom":"1px solid white","box-sizing":"border-box"}}},complexContentCard_contentWrapper:{"&::after":{border:"0 solid transparent",[Object(l.b)("border-left-width","border-right-width",e.direction)]:"1px","border-image":"linear-gradient(to bottom, white, transparent)","border-image-slice":1,content:"''",height:"100%",[Object(l.b)("left","right",e.direction)]:"0",top:"0",position:"absolute"}},complexContentCard_columnContent__halfPane:{"& $complexContentCard_contentWrapper":{"&::after":{"border-left-width":"0"}}},complexContentCard_textWrapper:{}});var p=n("L+J7"),g=n("lWfA"),m=n("OnwC"),b=n("CiAa"),f=n("ERkP"),C=n.n(f),v=n("FPTP"),S=n("o1qX"),y=n("X3C0");class O extends m.a{constructor(){super(...arguments),this.handledProps={children:void 0,contentCards:void 0,height:void 0,managedClasses:void 0,tag:void 0,width:void 0}}render(){const{contentCards:e,managedClasses:t}=this.props;if(!e||!e.length)return null;const n=e.length;return C.a.createElement(g.a,null,C.a.createElement("div",Object.assign({},this.unhandledProps(),{className:Object(S.a)(t.DenseListCard)}),C.a.createElement("ul",{className:Object(S.a)(t.DenseListCard_contentList)},e.map((e,t)=>this.renderContentListItem(e,t,t===n-1)))))}renderContentListItem(e,t,n){if(!e||!e.destination||!e.heading)return;const{managedClasses:i}=this.props,{destination:a,heading:r}=e;return C.a.createElement(C.a.Fragment,null,C.a.createElement("li",{key:t,className:Object(S.a)(i.DenseListCard_contentItem)},C.a.createElement(b.default,Object.assign({},a,{className:Object(S.a)(i.DenseList_contentRegion,i.DenseListCard_destination,i.DenseListCard_obscuredRegion)}),C.a.createElement(v.a,Object.assign({},r,{className:Object(S.a)(i.DenseListCard_heading)})),this.renderListItemAttribution(e))),!n&&C.a.createElement("hr",{className:i.DenseListCard_separator}))}renderListItemAttribution(e){if(!e.attribution)return;const{managedClasses:t}=this.props,n=Object(y.a)(e.attribution,"children");return C.a.createElement("div",{className:Object(S.a)(t.DenseListCard_attributionRegion)},C.a.createElement(p.a,Object.assign({},n,{className:Object(S.a)(t.DenseListCard_attribution)})))}}var x=n("mDtb"),w=n("8yfO"),j=n("X9F+");const R=Object.assign(Object.assign(Object.assign({},Object(x.c)()),Object(w.c)("t7")),{overflow:"hidden",width:"100%"}),P=Object(a.a)(e=>({DenseListCard:{display:"flex","flex-direction":"column",height:"100%","justify-content":"space-between",width:"100%"},DenseListCard_contentList:{display:"flex","flex-direction":"column",height:"100%","justify-content":"space-between",margin:"6px 16px 12px 16px",overflow:"hidden",padding:"0"},DenseListCard_contentItem:{"list-style-type":"none","flex-direction":"row",height:"32px","& $DenseList_contentRegion":{position:"relative",overflow:"hidden",display:"flex","flex-direction":"row",padding:"8px 0 0 0"},"& $DenseListCard_heading":{display:"-webkit-box","-webkit-line-clamp":"1","-webkit-box-orient":"vertical",cursor:"pointer"}},DenseList_contentRegion:{},DenseListCard_destination:{"text-decoration":"none",transition:"all .2s ease-in-out","&::after":{top:"0",[Object(l.b)("right","left",e.direction)]:"0","z-index":"1"},"&:hover, &:focus":{"& $DenseListCard_heading":{"text-decoration":"underline"}},"&:focus":{outline:"none"}},DenseListCard_obscuredRegion:{"&::after":{content:'""',position:"absolute",bottom:"0",[Object(l.b)("left","right",e.direction)]:"0"}},DenseListCard_heading:{"&&":Object.assign({},R)},DenseListCard_attributionRegion:{[Object(l.b)("margin-left","margin-right",e.direction)]:"8px"},DenseListCard_separator:{background:j.c,border:0,height:"1px","border-color":j.c,margin:0,width:"100%"}}))(O);var I=n("7nmT"),A=n.n(I);class k extends r.a{constructor(e){super(e),this.handledProps=Object.assign(Object.assign({},r.b),{cardId:void 0,complexContentCardProps:void 0,managedClasses:void 0,onComponentMount:void 0,physicalHeight:void 0,physicalWidth:void 0,reportDomComplete:void 0,styles:void 0,isDenseListCard:void 0})}render(){super.render();const{complexContentCardProps:e,cardId:t,physicalWidth:n,physicalHeight:i,styles:a,isDenseListCard:r}=this.props,o=Object(S.a)(this.props.managedClasses.complexContentPreview,[this.props.managedClasses.complexContentPreview_loading,!this.props.complexContentCardProps]);return C.a.createElement("div",Object.assign({},this.unhandledProps(),{"data-card-id":t,className:this.generateClassNames(o),style:Object.assign({width:n,height:i,background:r?"none":null},a)}),r?this.renderDenseListCard():null,e&&!r?this.renderContentCard():null)}renderContentCard(){const{complexContentCardProps:e}=this.props;return C.a.createElement(s.a,Object.assign({},e,{jssStyleSheet:h}))}renderDenseListCard(){const{complexContentCardProps:e}=this.props;return C.a.createElement(P,Object.assign({},e))}componentDidMount(){super.componentDidMount(),this.props.onComponentMount&&this.props.onComponentMount()}componentDidUpdate(){if(Object(o.b)())return;const e=A.a.findDOMNode(this),t=e&&e.querySelectorAll("[class*=complexContentCard_headingContent]");if(!t||!t.length)return;const{complexContentCardProps:{contentCards:n}}=this.props;t.forEach((e,t)=>{Object(o.a)(e,n[t].heading.size,n[t].headingMaxLines)})}endDomCompleteMilestone(){this.props.reportDomComplete&&super.endDomCompleteMilestone()}}k.defaultProps={experienceName:"ComplexContentPreview"},k.renderCounterPrefix="Content";var M=n("G82u");class T{}T.contentLoaded=new M.a("contentLoaded"),T.contentError=new M.a("contentError");var E=n("D57K"),_=n("HxRh"),H=n("qg1f"),N=n("LJMo"),L=n("om92"),F=n("3ZGc");const D={inspect:e=>{const{contentResponses:t,physicalWidth:n,physicalHeight:i}=e.state,{serviceContextMetadata:a,telemetryObject:r,visualReadinessHandler:o}=e.connectorArgs;let s;t&&(s=Object(L.a)(e.config,a,t,{height:i,width:n},r,o,a&&a.type===N.a.DenseList));return{props:{complexContentCardProps:s,physicalWidth:n?Object(F.a)(n):void 0,physicalHeight:i?Object(F.a)(i):void 0},missingChildren:[]}}};var z=n("u5KZ"),W=n("Am8i"),U=n("vhqU"),B=n("uEVT"),$=n("KpjL"),G=n("KaPL"),q=n("WfnD"),K=n("pbks");class V extends q.a{constructor(){super(...arguments),this.supportedRiverCardSizes=G.a.Size2Wx6H,this.cardId=Object(U.a)("ccp"),this.useWebWorkerCache=!1,this.reportDomComplete=!1,this.isDenseListCard=!1,this.initializeContentAsync=()=>Object(E.b)(this,void 0,void 0,(function*(){const{subItems:e,type:t}=this.serviceContextMetadata,n=e.length;if(!n)return;const i=yield Promise.all(e.map(e=>this.getComplexContentChild(e))),a=i?Object(B.a)(i,$.a).length:0;a&&(T.contentLoaded.getActionSender(this).send(i),this.reportDomComplete=!0),a<n&&this.contentError(Object.assign(Object.assign({},_.J.LoadError),{message:"Invalid or partial response when loading complex content preview",pb:Object.assign(Object.assign({},_.J.LoadError.pb),{customMessage:`Invalid or partial response when loading complex content preview type "${t}". Loaded ${a} of ${n} content pieces`})}),!a)}))}onComponentConnect(e){return Object(E.b)(this,void 0,void 0,(function*(){yield q.a.prototype.onComponentConnect.call(this,e);const{readinessCounter:t,serviceContextMetadata:n,readinessCounterIndex:i,useWebWorkerCache:a}=e;this.useWebWorkerCache=!0!==this.config.skipWebWorker&&a,this.visualReadinessHandler=t&&t.tryCreateNotificationHandler(i),n&&n.type&&n.subItems&&n.subItems.length?(this.serviceContextMetadata=n,this.setDenseListValues()):this.contentError(Object.assign(Object.assign({},_.J.InitError),{message:"Invalid serviceContextMetadata when initializing complex content preview"}))}))}mapStateToProps(e){const{contentResponses:t}=e,n={serviceContextMetadata:this.serviceContextMetadata,telemetryObject:this.telemetryObject,visualReadinessHandler:this.visualReadinessHandler};let{props:i}=D.inspect({config:this.config,state:e,connectorArgs:n});return i&&this.setupImageStatusNotification(i.complexContentCardProps,e),i=Object.assign(Object.assign(Object.assign(Object.assign({},i),{cardId:this.cardId,onComponentMount:t?void 0:this.initializeContentAsync,reportDomComplete:this.reportDomComplete}),this.telemetryTags||{}),{isDenseListCard:this.isDenseListCard}),i}getComplexContentChild(e){return e.type===N.a.ExternalLink?Promise.resolve(e):e.cardContent?Promise.resolve(e.cardContent):(this.isDenseListCard&&z.a.sendAppErrorEvent(Object.assign(Object.assign({},_.J.ContentError),{message:"Complex content card fetching data instead of using card view response. Please update river config to disable flat view response"})),Object(K.a)(e,this.useWebWorkerCache,this.config.wwFetchTimeoutInMs))}setupImageStatusNotification(e,t){const n=this.visualReadinessHandler;let i=!1;if(!n||null==t.contentLoadError&&null==t.contentResponses)return;const a=e&&e.contentCards;if(a&&a.length)for(const e of a){if(e&&e.image){i=!0;break}}i||n(H.b.Unsupported),this.visualReadinessHandler=null}setDenseListValues(){if(this.isDenseListCard=this.serviceContextMetadata.type===N.a.DenseList,!this.isDenseListCard)return;this.supportedRiverCardSizes=G.a.Size1Wx6H;const e=this.telemetryObject.addOrUpdateChild({name:"MultiHeadlineInterestCard",behavior:W.b.Navigate});this.telemetryTags=e.render()}contentError(e,t=!0){z.a.sendAppErrorEvent(Object.assign({},e)),t&&T.contentError.getActionSender(this).send()}}var J=n("05Au"),Z=n("5p4t");class Q{reduce(e,t){if(!e)return{};if(!t)return e;let n,i=!1;return i=J.a.handleAction(t,T.contentLoaded,t=>{t&&t.length&&e.contentResponses!==t&&(n=Object.assign(Object.assign({},e),{contentResponses:t}))}),i=i||J.a.handleAction(t,Z.a.changeCardSize,(t,i,a)=>{e.physicalHeight===a&&e.physicalWidth===i||(n=Object.assign(Object.assign({},e),{physicalHeight:a,physicalWidth:i}))}),i=i||J.a.handleAction(t,T.contentError,()=>{e.contentLoadError||(n=Object.assign(Object.assign({},e),{contentLoadError:!0}))}),n||e}}var X=n("GytZ"),Y=n("Y9OI"),ee=n("q/M1");const te=Object(a.a)(u)(k),ne={reactComponent:te,experienceConfigSchema:i.ComplexContentPreviewConfigSchema,mockState:Y.mockComplexContentPreviewState,mockConfig:ee.mockConfig,mockConnectorArgs:X.mockComplexContentPreviewConnectorArgs,inspector:D.inspect}},C0IM:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return c}));const i={MSAOptOut:"msaoptout",BrowserOptOut:"TOptOut",AppAnonCookieExist:"aace",taboolaSessionCookieName:"ecasession",cookieDomain:"msn.com",AnonCookieName:"ANON"},a={ContentType:"application/json",Method:"POST",CacheControl:"no-cache",Skipsessioncall:"false",ContentTypeKey:"Content-Type",FlightIdKey:"x-ms-flightId",CacheControlKey:"Cache-Control",ClientIdKey:"x-msEdge-clientId",AuthCookieNameKey:"x-ms-authCookieName"},r={CMSListServiceUrl:"v1/cms/api/amp/Document/",CMSContentServiceURl:"view/v1/Preview/"},o={PreloadCardNumber:12,LastNthPositionToPreload:2,Ecasession:"init",River:"river",DefaultProviderName:"Microsoft",MilliSecondInADay:864e5,DefaultPartnerCookieSyncTimeout:500,BulkCookieSyncTimeout:1e3,UserOptOut:"userOptOut",UserOptOutOptions:"userOptOutOptions",SAMRTBAuctionCallUrl:"https://srtb.msn.com/auction",SAMRTBTimeout:3e3,MyFeedPivotId:"oneriver.myfeed",StripeMyFeedPivotId:"stripe.myfeed",EditInterestPivotId:"oneriver.editinterests",RiverDoubleWide:"river-dbl",RiverHalfTextOnly:"river-half-textonly",RiverHalf:"river-half",OneRiverMain:"oneriver.main",OneRiverMainFlex:"oneriver.flex.main",InfopaneRegion:"infopane",AdServedFireRange:2,StripeInfopaneRegion:"oneriver.stripe.infopane",StripeTabInfopaneRegion:"oneriver.stripe.tabinfopane",StripeRegionKeyWord:".stripe",InfopaneRegionKeyWord:"infopane",TabInfopaneRegionKeyWord:"infopane-tab",TopStripeRegionKeyWord:"top",PersonalizedStripeRegionKeyWord:"personalized",MediatedInfopaneSlides:["6","9","29"]},s={MockTemplate:"mocktemplate",HeadToHead:"mockspartanheadtohead",Triptych:"mockspartantriptych"},c={DisableInterstitialNativeAd:"disable_interstitial_nativead",Base:"base",InterstitialGallery:"interstitialgallery"}},C4R5:function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return y}));var i,a=n("D57K"),r=n("9J8d"),o=n("FaCY"),s=n("s9+9"),c=n("rvYQ"),d=n("Z3LZ");class l{constructor(e,t){this.onUpdateFollowedTopics=()=>{if(!this.connector)return this.onRouteUpdateCallback([]);const e=this.connector.getCurrentState(),t=e.followedTopicIds,n=e.topicMap,a=[];t&&n&&t.forEach(e=>{const t=n[e],r={path:m(t.canonicalName||t.name,e),display:t.name,experienceInfo:this.dynamicRouteExperienceInfo,context:{feedId:e},pivotId:e,dynamicPivotSource:i.TopicsData};a.push(r)}),this.onRouteUpdateCallback(a)},this.onRouteUpdateCallback=e,this.dynamicRouteExperienceInfo=t}getDynamicPivotsFromDataConnector(e){return Object(a.b)(this,void 0,void 0,(function*(){switch(e){case s.a.TopicData:yield this.getPivotsFromTopicData();break;case s.a.NavigationData:yield this.getPivotsFromNavigationData();break;default:return}}))}getPivotsFromTopicData(){return Object(a.b)(this,void 0,void 0,(function*(){yield Object(d.l)(),r.a.getInstance().rootReducer.getDataConnector(s.a.TopicData).then(e=>{this.connector=e,this.connector.getFollowedTopics(!1).then(()=>{this.onUpdateFollowedTopics()})}),o.a.followedTopics.registerObserver(this.onUpdateFollowedTopics),o.a.updateTopicFollowedState.registerObserver(this.onUpdateFollowedTopics)}))}getPivotsFromNavigationData(){return Object(a.b)(this,void 0,void 0,(function*(){if(this.connector=yield r.a.getInstance().rootReducer.getDataConnector(s.a.NavigationData),this.connector){const e=yield this.connector.getNavigationItems(c.a.HostPage.verticalKey,c.a.HostPage.categoryKey);this.onRouteUpdateCallback(this.mapNavigationItemsToDynamicRoutes(e))}else this.onRouteUpdateCallback([])}))}mapNavigationItemsToDynamicRoutes(e){return e.map(e=>({path:e.targetUrl,externalUrl:e.targetUrl,display:e.displayText,pivotId:e.categoryKey,dynamicPivotSource:i.NavigationData}))}}!function(e){e.NavigationData="NavigationDataAdapter",e.TopicsData="TopicsDataAdapter"}(i||(i={}));var u,h=n("b2pY"),p=n("dTwT");class g{constructor(e){this.staticRoutes=[],this.dynamicRoutes=[],this.onUpdateRoutesCallbacks=[],this.switchListeners=[],this.callSwitchListeners=e=>{if(!this.switchListeners.length)return;const t=this.getPivotSelectionInfoFromPath(e.state&&e.state.previousPath),n=this.getPivotSelectionInfoFromPath(e.pathname),i={newSelection:n,oldSelection:t};this.config.enableRememberedPivots&&p.a.setItem(v,n&&n.pivotId),this.switchListeners.sort((e,t)=>e.order-t.order);for(const e of this.switchListeners)e.callback(i)},this.config=e,this.setStaticRoutes(),this.setDynamicRoutes(),h.a.listen(this.callSwitchListeners)}pushHistory(e,t,n,i){const a=h.a.location.pathname;h.a.push(m(e,t),{previousPath:a,context:n},i)}getStaticRoutes(){return this.staticRoutes}getDynamicRoutes(){return this.dynamicRoutes}getDynamicRoute(){return{path:f.interest,experienceInfo:this.config.dynamicRouteExperienceInfo,pivotId:"oneriver.xfeed"}}getCurrentRoute(){const e=h.a.location.pathname;return e.includes("/interest")?this.getDynamicRoute():this.staticRoutes.find(t=>t.path===e)}addDynamicRouteListener(e){this.onUpdateRoutesCallbacks.push(e)}addSwitchListener(e,t=C.AfterLoadContent){this.switchListeners.push({callback:e,order:t})}getRememberedPivot(){if(!this.config.enableRememberedPivots)return;const e=p.a.getItem(v);e&&this.config.staticRoutes.forEach(t=>{t.pivotId===e&&this.pushHistory(t.canonicalName)})}getPivotSelectionInfoFromPath(e){if(!e)return null;if(0===e.indexOf("/interest")){const t=e.split("/");let n=void 0;return t.length>=4&&(n="null"===t[3]?t[2]:t[3]),{pivotId:n,telemetryPageName:"xfeed",telemetryPivotCategory:"news",display:t.length>=3&&t[2]}}const t=this.config.staticRoutes.find(t=>m(t.canonicalName)===e);return t?{pivotId:t.pivotId,telemetryPageName:t.telemetryPageName,telemetryPivotCategory:t.telemetryPivotCategory,display:t.canonicalName}:null}setStaticRoutes(){const{staticRoutes:e}=this.config;e.forEach(e=>{const t={path:m(e.canonicalName)||e.externalUrl,externalUrl:e.externalUrl,experienceInfo:e.experienceInfo,queryParamOverrides:e.queryParamOverrides,display:e.canonicalName,pivotId:e.pivotId};this.staticRoutes.push(t)})}setDynamicRoutes(){return Object(a.b)(this,void 0,void 0,(function*(){const e=new l(this.onUpdateDynamicRoute.bind(this),this.config.dynamicRouteExperienceInfo);yield e.getDynamicPivotsFromDataConnector(this.config.dynamicRouteDataConnector)}))}onUpdateDynamicRoute(e){this.dynamicRoutes=e;for(const e of this.onUpdateRoutesCallbacks)e(this.dynamicRoutes)}}function m(e,t){if(!e)return"";if(t){return`/interest/${e.toLowerCase().replace(/\s/g,"").replace(/\//g,"-")}/${t}`}return f[e]||"/"+e}function b(e){return!!(e&&e.oldSelection&&e.newSelection)&&(!(!e.oldSelection||!e.oldSelection.pivotId)&&!(!e.newSelection||!e.newSelection.pivotId))}!function(e){e.MyFeed="myFeed",e.Personalize="personalize"}(u||(u={}));const f={myFeed:"/",personalize:"/personalize",interest:"/interest/*/:id"};var C;!function(e){e[e.Telemetry=0]="Telemetry",e[e.Monetization=1]="Monetization",e[e.LoadContent=2]="LoadContent",e[e.AfterLoadContent=3]="AfterLoadContent"}(C||(C={}));const v="selectedPivot";let S;const y=e=>(S||(S=new g(e)),S)},DOGQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));const i="#000000",a="#FFFFFF"},DngS:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("ERkP"),a=n.n(i),r=n("IATt");class o extends r.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return a.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),a.a.createElement("path",{d:"M14.0918 19.9707L4.11133 10L14.0918 0.0292969L14.9707 0.908203L5.88867 10L14.9707 19.0918L14.0918 19.9707Z"}))}}o.defaultProps={viewBox:"0 0 20 20",width:"20px",height:"20px",xmlns:"http://www.w3.org/2000/svg"}},"DsD+":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return m}));var i,a=n("qg1f"),r=n("HxRh"),o=n("LJMo"),s=n("Am8i"),c=n("u5KZ"),d=n("pCrc");!function(e){e[e.CMS=0]="CMS",e[e.Bing=1]="Bing"}(i||(i={}));var l=n("ERkP"),u=n.n(l),h=n("BQg2");function p(e,t,n,i=!0){const{metadata:a}=e||{},{url:r}=a||{};r||b(e,"destination");const o=function(e,t,n){if(!e||!n)return null;const i=n.addOrUpdateChild({name:"destination",action:s.a.Click,behavior:s.b.Navigate,type:s.e.Headline,content:{category:"",vertical:""},feed:{id:t||null}}),{id:a,metadata:r}=e;if(!r)return null;const{category:o,subCategory:c}=r;o&&(i.contract.content.vertical=o||null,i.contract.content.category=c||null);return i.contract.content.id=a,i.render()}(e,t,n)||{};return Object.assign({href:r,title:a?a.title:null,target:i?"_blank":null},o)}function g(e,t,n,r,s="jpg"){const{metadata:c,type:d}=e||{};let{primaryImage:l,title:u}=c||{};if(!(c&&t&&(l&&l.url||r)))return void b(e,"image");let h=d===o.a.ExternalLink?i.CMS:i.Bing;l&&l.url||!r||(l=r,h=i.CMS);const p={src:function(e,t,n,a="jpg"){return e===i.CMS?`${t.url}?w=${n.width}&h=${n.height}&q=60&m=6&u=t&o=t&l=f&f=${a}`:`${t.url}&w=${n.width}&h=${n.height}&c=1&rs=1`}(h,l,t,s),alt:u,title:u,style:{maxHeight:t.height}};return n&&(p.onLoad=()=>n(a.b.Ready),p.onError=()=>n(a.b.Unsupported)),p}function m(e){const{metadata:t}=e||{};if(e.type===o.a.ExternalLink&&!e.metadata.uiHint)return{children:t.abstract};const{provider:n}=t||{},{name:i,logo:a}=n||{};if(!t||!n||!i)return;let r=null;if(a&&a.url){const e=new URL(a.url),t=new h.a(e.search);t.set("w","16"),t.set("h","16"),e.search=t.toString(),r={src:e.href,alt:i}}return{image:r?e=>u.a.createElement(d.a,Object.assign(Object.assign({},r),{className:e})):null,children:i}}function b(e,t){const{id:n}=e||{};c.a.sendAppErrorEvent(Object.assign(Object.assign({},r.T.MissingDataForExternalContent),{message:"External content is missing data. Follow up with Editor to ensure it's on purpose.",pb:Object.assign(Object.assign({},r.T.MissingDataForExternalContent.pb),{customMessage:`id: ${n}, property: ${t}`})}))}},E0YY:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));const i={SelectedLayout:"SelectedLayout"};var a;!function(e){e.River="River",e.Stripe="Stripe"}(a||(a={}))},"F+C/":function(e,t,n){"use strict";var i=n("iou+");n.o(i,"AutoSuggestContext")&&n.d(t,"AutoSuggestContext",(function(){return i.AutoSuggestContext})),n.o(i,"ButtonDirection")&&n.d(t,"ButtonDirection",(function(){return i.ButtonDirection})),n.o(i,"ProgressType")&&n.d(t,"ProgressType",(function(){return i.ProgressType})),n.o(i,"RadioSlot")&&n.d(t,"RadioSlot",(function(){return i.RadioSlot}));var a=n("z49O");n.o(a,"AutoSuggestContext")&&n.d(t,"AutoSuggestContext",(function(){return a.AutoSuggestContext})),n.o(a,"ButtonDirection")&&n.d(t,"ButtonDirection",(function(){return a.ButtonDirection})),n.o(a,"ProgressType")&&n.d(t,"ProgressType",(function(){return a.ProgressType})),n.o(a,"RadioSlot")&&n.d(t,"RadioSlot",(function(){return a.RadioSlot}));var r=n("34rd");n.o(r,"AutoSuggestContext")&&n.d(t,"AutoSuggestContext",(function(){return r.AutoSuggestContext})),n.o(r,"ButtonDirection")&&n.d(t,"ButtonDirection",(function(){return r.ButtonDirection})),n.o(r,"ProgressType")&&n.d(t,"ProgressType",(function(){return r.ProgressType})),n.o(r,"RadioSlot")&&n.d(t,"RadioSlot",(function(){return r.RadioSlot}));var o=n("u4M6");n.o(o,"AutoSuggestContext")&&n.d(t,"AutoSuggestContext",(function(){return o.AutoSuggestContext})),n.o(o,"ButtonDirection")&&n.d(t,"ButtonDirection",(function(){return o.ButtonDirection})),n.o(o,"ProgressType")&&n.d(t,"ProgressType",(function(){return o.ProgressType})),n.o(o,"RadioSlot")&&n.d(t,"RadioSlot",(function(){return o.RadioSlot})),t.default=i.default},FIr4:function(e,t){},FaCY:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("G82u");class a{}a.followedTopics=new i.a("FollowedTopics"),a.followedTopicsFailed=new i.a("FollowedTopicsFailedSignature"),a.recommendedTopics=new i.a("RecommendedTopics"),a.recommendedTopicsFailed=new i.a("RecommendedTopicsFailed"),a.topic=new i.a("Topic"),a.topicFailed=new i.a("TopicsFailed"),a.topics=new i.a("Topics"),a.topicsFailed=new i.a("TopicsFailed"),a.topicGroup=new i.a("TopicGroup"),a.topicGroupFailed=new i.a("TopicGroupFailed"),a.updateTopicFollowedState=new i.a("UpdateTopicFollowedState"),a.updateTopicFollowedStateFailed=new i.a("UpdateTopicFollowedStateFailed")},FjFG:function(e,t){},Fpjf:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return u}));var i=n("aHCm"),a=n("HDSB"),r=n("0hJ9");let o;var s,c;!function(e){e.JPG="jpg",e.PNG="png"}(s||(s={})),function(e){e[e.None=0]="None",e[e.Letterbox=1]="Letterbox",e[e.Scale=2]="Scale",e[e.Stretch=3]="Stretch",e[e.Crop=4]="Crop",e[e.FocalCrop=5]="FocalCrop",e[e.FacialCrop=6]="FacialCrop"}(c||(c={}));const d=90;function l(e,t){return u(i.a.prod+e,t)}function u(e,t){const{focalRegion:n,backgroundColor:i}=t;let{width:c=0,height:d=0,format:l=s.JPG}=t,u="";if(n){const e=h(n.x1,n.x2),t=h(n.y1,n.y2);null!=e&&null!=t&&(u+=`&x=${e}&y=${t}`)}i&&(u+="&b="+i);const p=null==t.mode?6:t.mode;if(6===p&&(u+="&u=t"),t.enableDpiScaling){const e=function(){if(o)return o;if(!Object(a.a)()||!window.devicePixelRatio||window.devicePixelRatio<1)return null;o=window.devicePixelRatio,Object(r.a)(4*o)||(o=Math.ceil(10*o)/10);o>3&&(o=3);return o}();e&&(c=Math.round(c*e),d=Math.round(d*e))}return`${e}?w=${c}&h=${d}&q=${t.quality||60}&m=${p}&f=${l}${u}`}function h(e,t){if(null!=e&&null!=t)return Math.floor((e+t)/2)}},G5fg:function(e,t,n){"use strict";n.r(t),n.d(t,"Infopane",(function(){return he})),n.d(t,"InfopaneActions",(function(){return H})),n.d(t,"InfopaneConnector",(function(){return oe})),n.d(t,"InfopaneReducer",(function(){return ce})),n.d(t,"ToolingInfo",(function(){return pe}));var i=n("B5vd"),a=n("/nBc"),r=n("3MbD"),o=n("3ZGc"),s=n("ERkP"),c=n.n(s),d=n("Am8i");const l={inspect(e){const{config:t,state:n,connectorArgs:s}=e,{slides:l,physicalWidth:u,physicalHeight:h,nextActiveSlideId:p,isSingleColumn:g}=n,{telemetryObject:m,carouselAutoRotationEventHandlers:b,activeSlideChanged:f,handleFlipperClick:C}=s,{localizedStrings:v,enableMobileInfopane:S}=t,y=[];let O;const x=s.autoRotationEligible(n,t);if(l&&l.length){const t=x?Object.assign({autoplay:n.autoRotationEnabled,autoplayInterval:n.autoRotateIntervalMs},b||{}):null;O=Object.assign({onActiveIdUpdate:f,label:void 0,activeId:p,items:l.map(t=>{const n=e.children?e.children[t.instanceId]:null;return n||y.push(t),{content:e=>n,id:t.instanceId,theme:i.a.light}}),nextFlipper:(e,t)=>c.a.createElement(a.a,Object.assign({className:t,onClick:t=>{C(),e(t)},title:v&&v.nextSlideLabel},m?m.addOrUpdateChild({name:"nextSlideArrow",behavior:d.b.Show,content:{headline:"nextSlideArrow"},type:d.e.ActionButton}).render():null)),previousFlipper:(e,t)=>c.a.createElement(a.a,Object.assign({className:t,onClick:t=>{C(),e(t)},direction:r.a.previous,title:v&&v.prevSlideLabel},m?m.addOrUpdateChild({name:"previousSlideArrow",behavior:d.b.Show,content:{headline:"previousSlideArrow"},type:d.e.ActionButton}).render():null))},t||{})}return{props:Object.assign(Object.assign({carousel:O,loading:!O||!l||!l.length,physicalWidth:u?Object(o.a)(u):void 0,physicalHeight:h?Object(o.a)(h):void 0,isSingleColumn:g,enableMobileInfopane:S,updateVisibilityFlag:x?s.updateVisibilityFlag:void 0},s.renderProps||{}),s.carouselNavigateEventHandlers||{}),missingChildren:y}}};var u=n("+viU"),h=n("5mwN"),p=n("AMBy"),g=n("Jw3B"),m=n("MF9s"),b=n("objN"),f=n("SP+O"),C=n("rRWH"),v=n("mObi"),S=n("mOQN");const y={infopane:{},infopane_loading:{background:m.k}},O=Object(v.a)((e,t)=>({[t?"left":"right"]:"0",background:"none",cursor:"pointer",height:""+Object(o.a)(56),opacity:"1",top:`calc(50% - ${Object(o.a)(28)})`,width:"30px","&&":{position:"absolute",[Object(g.e)(null,g.a.c1)]:{display:"none"}},"&& > svg":{fill:m.k,[b.D]:{fill:"HighlightText !important"}},"&::before":{background:Object(f.c)(e)+" !important",[b.D]:{background:"WindowText !important"},border:"none !important","border-radius":"0",opacity:".3"},"&:active::before, &:hover::before":{opacity:"1"}}),(...e)=>Object(S.a)(e).join("_")),x=(e,t)=>({"&&":Object.assign(Object.assign({},O(e,t)),{[Object(g.e)(null,g.a.c1)]:{display:"none"}})}),w=Object(v.a)(e=>({carousel:{[b.D]:{"-ms-high-contrast-adjust":"unset"}},carousel_tabPanel:{width:"100%",height:"100%"},carousel_sequenceIndicators:{"margin-bottom":"-8px"},carousel_sequenceIndicator:{"&&":{padding:"3px","&:before":Object.assign(Object.assign({},b.d),{"-ms-high-contrast-adjust":"none",height:"5px",width:"5px"})}},carousel_flipperPrevious:O(e,e.direction===C.a.ltr),carousel_flipperNext:O(e,e.direction===C.a.rtl)})),j=e=>Object.assign(Object.assign({},w(e)),{carousel_sequenceIndicator:{"&&":{padding:"3px","&:before":Object.assign(Object.assign({},b.d),{"-ms-high-contrast-adjust":"none",height:"5px",width:"5px",[Object(g.e)(null,g.a.c1)]:{width:"20px",height:"4px"}})}},carousel_flipperPrevious:x(e,e.direction===C.a.ltr),carousel_flipperNext:x(e,e.direction===C.a.rtl)});var R=n("qibw"),P=n("o1qX"),I=n("q/RY"),A=n("iX/D"),k=n("NZD6"),M=n("qGiF"),T=n("u5KZ");class E extends h.a{constructor(e){super(e),this.handledProps=Object.assign(Object.assign({},h.b),{carousel:void 0,delayCreationOfCarousel:void 0,domCompleteTrackingId:void 0,enableMobileInfopane:void 0,handleSwipeBegin:void 0,handleSwipeEnd:void 0,handleSwiping:void 0,handleSlideClick:void 0,isSingleColumn:void 0,loading:void 0,managedClasses:void 0,onMount:void 0,onUnmount:void 0,physicalHeight:void 0,physicalWidth:void 0,reportDomComplete:void 0,updateVisibilityFlag:void 0}),this.handleSwipeEnd=e=>{const t=this.direction,n=this.infoPaneRef.current.clientWidth/4;this.props.handleSwipeEnd(e,t,n)},this.getAdditionalInfopaneStyles=()=>{const{isSingleColumn:e,physicalHeight:t,physicalWidth:n}=this.props;return{width:e?"100%":n,height:t}},this.infoPaneRef=c.a.createRef(),this.direction=R.a.ltr}componentDidMount(){super.componentDidMount(),this.setIntersectionObserver();const{onMount:e}=this.props;e&&e()}componentDidUpdate(){super.componentDidUpdate(),this.setIntersectionObserver();const{carousel:e}=this.props;e&&T.a.observeElementTree(this.infoPaneRef.current)}componentWillUnmount(){this.unsetIntersectionObserver();const{onUnmount:e}=this.props;e&&e()}render(){super.render();const{carousel:e,enableMobileInfopane:t,handleSwipeBegin:n,handleSwiping:i,handleSlideClick:a,loading:r,managedClasses:o}=this.props,s=t?j:w,d=this.getAdditionalInfopaneStyles(),l=this.generateClassNames(Object(P.a)(o.infopane,[o.infopane_loading,r]));return c.a.createElement("div",{ref:this.infoPaneRef},r?c.a.createElement("div",{className:l,style:d}):this.props.delayCreationOfCarousel&&1===e.items.length?e.items[0].content(l):c.a.createElement(M.a,null,t=>(this.direction=t.direction,c.a.createElement(k.a,Object.assign({},this.unhandledProps(),e,{jssStyleSheet:s,className:l,style:d,onTouchStart:n,onTouchMove:i,onTouchEnd:this.handleSwipeEnd,onClick:a})))))}endDomCompleteMilestone(){this.props.reportDomComplete&&-1===this.domCompleteTracker.getEnd()&&Object(I.a)(this.props.domCompleteTrackingId,()=>{this.dependenciesDomComplete(this.domCompleteTracker,this.props.onExperienceMilestoneTimingUpdate)})}dependenciesDomComplete(e,t){e.setEnd(),t&&t(A.a.domComplete,void 0,e.getEnd())}setIntersectionObserver(){if(!this.props.updateVisibilityFlag)return void this.unsetIntersectionObserver();if(this.intersectionObserver)return;this.intersectionObserver=Object(p.a)(e=>{const{updateVisibilityFlag:t}=this.props;if(t){t(e[0].intersectionRatio>0)}},{threshold:[0]}),this.intersectionObserver.observe(this.infoPaneRef.current)}unsetIntersectionObserver(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0)}}E.defaultProps={experienceName:"Infopane"};var _=n("G82u");class H{}H.clearNavigateSlide=new _.a("clearNavigateSlide"),H.navigateSlide=new _.a("navigateSlide"),H.pauseSlideRotation=new _.a("pauseSlideRotation"),H.resumeSlideRotation=new _.a("resumeSlideRotation"),H.updateColumnArrangement=new _.a("updateColumnArrangement"),H.updateLoadedSlides=new _.a("updateSlides"),H.updateRotationInterval=new _.a("updateRotationInterval");var N=n("BDbC"),L=n("D57K"),F=n("WfnD"),D=n("+ghb"),z=n("qg1f"),W=n("+djJ"),U=n("HxRh"),B=n("5p4t"),$=n("ffy4"),G=n("Z3LZ"),q=n("om92"),K=n("NLaq"),V=n("rvYQ"),J=n("2Mxw"),Z=n("KaPL"),Q=n("C8K2"),X=n("plCa"),Y=n("s9+9"),ee=n("Zn5T"),te=n("9J8d"),ne=n("2ATS"),ie=n("AjgC"),ae=n("ADRF");function re(e,t,n,i){const a=new RegExp("([?&])"+t+"=.*?(&|$)","i"),r=-1!==e.indexOf("?")?"&":"?";return e.match(a)?i?e.replace(a,""):e.replace(a,"$1"+t+"="+n+"$2"):i?e:e+r+t+"="+n}class oe extends F.a{constructor(){super(...arguments),this.supportedRiverCardSizes=Z.a.Size2Wx6H|Z.a.Size1Wx7H,this.childrenOrder=[],this.childReadinessCounterIndex=0,this.inlineComponents=new Map,this.reportDomComplete=!1,this.physicalCardSize={width:600+Q.a,height:326+Q.a},this.useWebWorkerCache=!1,this.riverCardSize=Z.a.Size2Wx6H,this.visualState={isWindowFocused:"visible"===document.visibilityState,isDocumentVisible:"visible"===document.visibilityState,inViewport:!0},this.touchState={touchStarted:!1,touchStartX:0,touchDeltaX:0},this.slideIdToIndex=new Map,this.indexToSlideId=new Map,this.setSlideExperienceSize=(e,t,n)=>{const{slides:i}=this.getCurrentState();this.riverCardSize===e&&this.physicalCardSize.width===t&&this.physicalCardSize.height===n||(this.riverCardSize=e,this.physicalCardSize={width:t,height:n},i&&i.length&&i.forEach(i=>{const a=this.childMap.get(i.instanceId);a&&B.a.changeCardSize.getActionSender(a).send(e,t,n)}))},this.onBreakpointManagerCallback=e=>{const{isSingleColumn:t}=this.getCurrentState();e===g.a.c1!==t&&H.updateColumnArrangement.getActionSender(this).send(e)},this.activeSlideChanged=(e,t)=>{this.getCurrentState().autoRotateIntervalMs!==this.config.autoRotateIntervalMs&&(this.updateAutoRotateInterval(this.config.autoRotateIntervalMs),this.tryResumeAutoRotate()),this.activeSlideId=e;const n=te.a.getInstance().rootReducer.connector(Y.a.PlacementManager);n&&ne.a.infopaneSlideChanged.getActionSender(n).send(this.slideIdToIndex.get(this.activeSlideId))},this.updateVisibilityFlag=e=>{this.visualState.inViewport=e,e?this.tryResumeAutoRotate():this.pauseAutoRotate()},this.canAutoRotate=()=>{const{inViewport:e,carouselHovered:t,carouselFocused:n,isWindowFocused:i,isDocumentVisible:a}=this.visualState,{touchStarted:r}=this.touchState;return!t&&!n&&!r&&e&&i&&a&&this.autoRotationEligible(this.getCurrentState(),this.config)},this.pauseAutoRotate=()=>{H.pauseSlideRotation.getActionSender(this).send()},this.tryResumeAutoRotate=()=>!!this.canAutoRotate()&&(H.resumeSlideRotation.getActionSender(this).send(),!0),this.updateAutoRotateInterval=e=>{H.updateRotationInterval.getActionSender(this).send(e)},this.autoRotationEligible=(e,t)=>e.slides&&e.slides.length>1&&t.autoRotateIntervalMs>0,this.onMount=()=>{window.addEventListener("blur",this.handleWindowBlur),window.addEventListener("focus",this.handleWindowFocus),document.addEventListener("visibilitychange",this.handleDocumentVisibilityChange)},this.onUnmount=()=>{window.removeEventListener("blur",this.handleWindowBlur),window.removeEventListener("focus",this.handleWindowFocus),document.removeEventListener("visibilitychange",this.handleDocumentVisibilityChange)},this.handleMouseOver=()=>{this.visualState.carouselHovered=!0,this.pauseAutoRotate()},this.handleMouseOut=()=>{this.visualState.carouselHovered=!1,this.tryResumeAutoRotate()},this.handleFocus=()=>{this.visualState.carouselFocused=!0,this.pauseAutoRotate()},this.handleBlur=()=>{this.visualState.carouselFocused=!1,this.tryResumeAutoRotate()},this.handleWindowBlur=()=>{this.visualState.isWindowFocused=!1,this.pauseAutoRotate()},this.handleSwipeBegin=e=>{e.preventDefault(),this.pauseAutoRotate(),this.handleMotionStart(e.touches[0].clientX)},this.handleSlideClick=e=>{if("prime"==V.a.TrackInfo.sitePage.page_product){!function(e,t){if(!function(e){if(!e.target)return!1;const t=e.target.closest("a");if(!t||!t.href)return!1;if("#"!==t.href.substr(t.href.length-1)&&"_blank"!==t.target&&(""===t.protocol||":"===t.protocol||"http:"===t.protocol||"https:"===t.protocol))return!0;return!1}(e))return;const n=re(window.location.href,"slide",t,!1);window.history.replaceState(null,"",n)}(e,this.slideIdToIndex.get(this.activeSlideId)||0)}},this.handleSwiping=e=>{this.handleMotionMove(e.targetTouches[0].clientX)},this.handleSwipeEnd=(e,t,n)=>{this.handleMotionEnd(t,n)},this.goToPreviousSlide=()=>{let e=(this.slideIdToIndex.get(this.activeSlideId)||0)-1;e<0&&(e=this.indexToSlideId.size-1);const t=this.indexToSlideId.get(e);this.activeSlideId=t,H.navigateSlide.getActionSender(this).send(t)},this.goToNextSlide=()=>{let e=(this.slideIdToIndex.get(this.activeSlideId)||0)+1;e>this.indexToSlideId.size-1&&(e=0);const t=this.indexToSlideId.get(e);this.activeSlideId=t,H.navigateSlide.getActionSender(this).send(t)},this.getInitialSlideNumber=e=>{const t=ae.a.getQueryParameterByName("slide",window.location.href);let n=t?parseInt(t):0;return n>=e.length&&(n=0),n},this.handleFlipperClick=()=>{this.getCurrentState().nextActiveSlideId&&(H.clearNavigateSlide.getActionSender(this).send(),this.tryResumeAutoRotate())},this.handleWindowFocus=()=>{this.visualState.isWindowFocused=!0,this.tryResumeAutoRotate()},this.handleDocumentVisibilityChange=()=>{this.visualState.isDocumentVisible="visible"===document.visibilityState,this.visualState.isDocumentVisible?this.tryResumeAutoRotate():this.pauseAutoRotate()},this.visualReadyHandler=()=>{this.markAndUpdateParent("InfoPane",z.b.Ready)},this.unsupportedVisualReadyHandler=()=>{this.markAndUpdateParent("InfoPaneNoImg",z.b.Unsupported)},this.markAndUpdateParent=(e,t)=>{Object(W.k)(e),this.parentVisualReadinessHandler&&this.parentVisualReadinessHandler(t)}}onComponentConnect(e){return Object(L.b)(this,void 0,void 0,(function*(){yield F.a.prototype.onComponentConnect.call(this,e);const{serviceContextMetadata:t,readinessCounter:n,readinessCounterIndex:i}=e;this.parentVisualReadinessHandler=n&&n.tryCreateNotificationHandler(i),this.readinessCounter=new z.a(1,this.visualReadyHandler,this.unsupportedVisualReadyHandler),this.useWebWorkerCache=e.useWebWorkerCache;const a=[];if(!t)return void T.a.sendAppErrorEvent(Object.assign(Object.assign({},U.wb.InitializeError),{message:"Infopane has invalid initial connector props to initialize"}));if(this.loadFromServiceMetadata(a,t),!a.length)return void T.a.sendAppErrorEvent(Object.assign(Object.assign({},U.wb.InitializeError),{message:"Infopane has no slide items to initialize"}));this.mergeOrdinalChildExperiences(a,1,e=>{e.initialProps=Object.assign(Object.assign({},e.initialProps),{parentTelemetry:this.telemetryObject})}),this.initializeAutoRotateState(),this.initializeViewportState(),B.a.changeCardSize.registerObserver(e=>{const t=e&&e.params;if(!t||t.length<1)return;const[n,i,a]=t;this.setSlideExperienceSize(n,i,a)},{filterConnector:this});const r=this.getInitialSlideNumber(a);if(window.needsHydrate)yield this.loadSlides(a,!0);else{const e=this.loadSlides(a.slice(r,r+1),!0);(()=>{Object(L.b)(this,void 0,void 0,(function*(){yield Promise.all([Object(G.l)(),e]),this.loadSlides(a,!1)}))})()}"prime"==V.a.TrackInfo.sitePage.page_product&&function(){const e=re(window.location.href,"slide",0,!0);window.history.replaceState(null,"",e)}()}))}mapStateToProps(e){const t={config:this.config,children:this.getChildComponentInstanceList(),state:e,connectorArgs:{autoRotationEligible:this.autoRotationEligible,activeSlideChanged:this.activeSlideChanged,handleFlipperClick:this.handleFlipperClick,updateVisibilityFlag:this.updateVisibilityFlag,carouselAutoRotationEventHandlers:{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onFocus:this.handleFocus,onBlur:this.handleBlur},carouselNavigateEventHandlers:{handleSwipeBegin:this.handleSwipeBegin,handleSwipeEnd:this.handleSwipeEnd,handleSwiping:this.handleSwiping,handleSlideClick:this.handleSlideClick},renderProps:{onMount:this.onMount,onUnmount:this.onUnmount,reportDomComplete:this.reportDomComplete,domCompleteTrackingId:this.namespace,delayCreationOfCarousel:this.config.delayCreationOfCarousel},telemetryObject:this.telemetryObject}},n=l.inspect(t);return Object.assign(Object.assign({},n.props),this.telemetryTags)}getChildComponentInstanceList(){if(this.config.enableInlineContentComponents){const e={};return this.childrenOrder.forEach(t=>{this.inlineComponents.has(t)?e[t]=this.inlineComponents.get(t):this.childMap.has(t)&&(e[t]=this.childMap.get(t).componentInstance)}),e}return this.childComponentInstanceList}createContentCardInline(e){const t={config:this.config.contentPreviewConfig,initialProps:e,cardSize:this.riverCardSize,physicalSize:this.physicalCardSize,parentTelemetry:e.parentTelemetry,visualReadinessHandler:e.readinessCounter&&e.readinessCounter.tryCreateNotificationHandler(e.readinessCounterIndex)};return c.a.createElement(K.a,t,null)}createComplexContentCardInline(e){const t=Object(q.a)(this.config.complexContentPreviewConfig,e.serviceContextMetadata,e.serviceContextMetadata.subItems.map(e=>e.cardContent),this.physicalCardSize,e.parentTelemetry,e.readinessCounter&&e.readinessCounter.tryCreateNotificationHandler(e.readinessCounterIndex));return c.a.createElement(ie.a,t,null)}tryLoadInlineComponent(e,t,n){try{let i=this.inlineComponents.get(e.configInfo.instanceId);return null!=i?(t[e.configInfo.instanceId]=e.configInfo.experienceType,i):(e.configInfo.experienceType===ee.a.contentPreview?i=this.createContentCardInline(e.initialProps):e.configInfo.experienceType===ee.a.complexContentPreview&&(i=this.createComplexContentCardInline(e.initialProps)),i&&(this.inlineComponents.set(e.configInfo.instanceId,i),t[e.configInfo.instanceId]=e.configInfo.experienceType,this.slideIdToIndex.set(e.configInfo.instanceId,n)),i)}catch(e){T.a.sendAppErrorEvent(Object.assign(Object.assign({},U.wb.InitializeError),{message:`Unexpected infopane error while loading slide index ${n}: `+e}))}}isSlideInlineComponent(e){return this.config.enableInlineContentComponents&&(e.configInfo.experienceType===ee.a.contentPreview||e.configInfo.experienceType===ee.a.complexContentPreview)}loadSlides(e,t){return Object(L.b)(this,void 0,void 0,(function*(){const n={};let i=!1;const a=new Set;this.config.enableInlineContentComponents&&(this.childrenOrder=e.map(e=>e.configInfo.instanceId)),yield Promise.all(e.map((e,t)=>Object(L.b)(this,void 0,void 0,(function*(){if(this.isSlideInlineComponent(e))return i=!0,void this.tryLoadInlineComponent(e,n,t);try{const r=yield this.loadSlideExperienceAsync(e);this.monetizationOption=this.monetizationOption||r&&r.monetizationOption===J.a.NonMonetizable?J.a.NonMonetizable:null,i=i||r&&!r.monetizationOption,r&&r.monetizationOption===J.a.Monetization&&a.add(e.configInfo.instanceId),n[e.configInfo.instanceId]=r?r.namespace:void 0,this.slideIdToIndex.set(e.configInfo.instanceId,t)}catch(e){T.a.sendAppErrorEvent(Object.assign(Object.assign({},U.wb.InitializeError),{message:`Unexpected infopane error while loading slide index ${t}: `+e}))}}))));const r=[],o=[];if(e.forEach((e,t)=>{const s=e.configInfo.instanceId,c=n[s];if(!c||!i&&a.has(s)){if(!c||!i){const n=e.configInfo.experienceType||"";o.push(`${t}-${n}`)}}else r.push(e.configInfo),this.indexToSlideId.set(t,e.configInfo.instanceId)}),r.length){if(t){if(this.reportDomComplete=!0,!this.isSlideInlineComponent(e[0])){const t=e[0].configInfo;Object(I.c)(this.namespace,{experienceNamespace:Object(D.b)(t),experienceType:t.experienceType})}this.readinessCounter.markNoNewHandlers()}H.updateLoadedSlides.getActionSender(this).send(r),this.tryResumeAutoRotate()}r.length<e.length&&T.a.sendAppErrorEvent(Object.assign(Object.assign({},U.wb.InitializeError),{message:"Not all infopane slides loaded.",pb:Object.assign(Object.assign({},U.wb.InitializeError.pb),{customMessage:`Infopane loaded ${r.length} of ${e.length} slides. Could not load slide indices [${o}]`})}))}))}loadSlideExperienceAsync(e){return Object(L.b)(this,void 0,void 0,(function*(){let t=this.childMap.get(e.configInfo.instanceId);return t||(yield this.loadChildExperience(e.configInfo,e.initialProps),t=this.childMap.get(e.configInfo.instanceId),t&&B.a.changeCardSize.getActionSender(t).send(this.riverCardSize,this.physicalCardSize.width,this.physicalCardSize.height)),t}))}loadFromServiceMetadata(e,t){const{subItems:n}=t;if(!n||!n.length)return void T.a.sendAppErrorEvent(Object.assign(Object.assign({},U.wb.InitializeError),{message:"Service context metadata contained no sub items to initialize infopane"}));const i=this.config,a=i&&i.childExperienceMap;let r=!1;n.forEach((t,n)=>{const i=$.a[t.type];if(!i)return void T.a.sendAppErrorEvent(Object.assign(Object.assign({},U.wb.InitializeError),{message:`Unable to get experience type for item type '${t.type}' for infopane slide`}));const o=a&&a[i];o?(e.push({configInfo:Object.assign(Object.assign({},o),{experienceType:i,instanceId:`infopane-${n}-${i}`}),initialProps:{serviceContextMetadata:t,parentTelemetry:this.telemetryObject,readinessCounter:0===n?this.readinessCounter:null,readinessCounterIndex:this.childReadinessCounterIndex++,useWebWorkerCache:this.useWebWorkerCache&&0===n}}),r=!0):T.a.sendAppErrorEvent(Object.assign(Object.assign({},U.wb.InvalidConfig),{message:`Unable to get config for experience type '${i}' for infopane slide`}))}),r||T.a.sendAppErrorEvent(Object.assign(Object.assign({},U.wb.InitializeError),{message:"Available service context metadata sub items could not be mapped to initialize infopane"}))}initializeViewportState(){H.updateColumnArrangement.getActionSender(this).send(Object(X.a)().currentColumnArrangement),Object(X.a)().subscribe(this.onBreakpointManagerCallback)}initializeAutoRotateState(){this.updateAutoRotateInterval(this.config.firstAutoRotateIntervalMs||this.config.autoRotateIntervalMs),this.tryResumeAutoRotate()||this.pauseAutoRotate()}handleMotionStart(e){this.touchState={touchStarted:!0,touchStartX:e,touchDeltaX:0}}handleMotionMove(e){this.touchState.touchStarted&&(this.touchState.touchDeltaX=e-this.touchState.touchStartX)}handleMotionEnd(e,t){this.touchState.touchStarted&&(this.onSwipeEnd(e,t),this.touchState={touchStarted:!1,touchStartX:0,touchDeltaX:0})}onSwipeEnd(e,t){this.touchState.touchDeltaX<-t?e===R.a.ltr?this.goToNextSlide():this.goToPreviousSlide():this.touchState.touchDeltaX>t&&(e===R.a.ltr?this.goToPreviousSlide():this.goToNextSlide())}}var se=n("05Au");class ce{reduce(e,t){if(!e)return{slides:[],autoRotationEnabled:!0};if(!t)return e;let n,i;return n=se.a.handleAction(t,H.updateLoadedSlides,t=>{i=Object.assign(Object.assign({},e),{slides:t})}),n=n||se.a.handleAction(t,B.a.changeCardSize,(t,n,a)=>{e.cardSize===t&&e.physicalHeight===a&&e.physicalWidth===n||(i=Object.assign(Object.assign({},e),{cardSize:t,physicalHeight:a,physicalWidth:n}))}),n=n||se.a.handleAction(t,H.pauseSlideRotation,()=>{e.autoRotationEnabled&&(i=Object.assign(Object.assign({},e),{autoRotationEnabled:!1}))}),n=n||se.a.handleAction(t,H.updateRotationInterval,t=>{i=Object.assign(Object.assign({},e),{autoRotateIntervalMs:t,autoRotationEnabled:!1})}),n=n||se.a.handleAction(t,H.updateRotationInterval,t=>{i=Object.assign(Object.assign({},e),{autoRotateIntervalMs:t,autoRotationEnabled:!1})}),n=n||se.a.handleAction(t,H.resumeSlideRotation,()=>{e.autoRotationEnabled||(i=Object.assign(Object.assign({},e),{autoRotationEnabled:!0,nextActiveSlideId:null}))}),n=n||se.a.handleAction(t,H.navigateSlide,t=>{e.nextActiveSlideId!==t&&(i=Object.assign(Object.assign({},e),{nextActiveSlideId:t,autoRotationEnabled:!1}))}),n=n||se.a.handleAction(t,H.clearNavigateSlide,()=>{e.nextActiveSlideId&&(i=Object.assign(Object.assign({},e),{nextActiveSlideId:null}))}),n=n||se.a.handleAction(t,H.updateColumnArrangement,t=>{const n=t===g.a.c1;e.isSingleColumn!==n&&(i=Object.assign(Object.assign({},e),{isSingleColumn:n}))}),i||e}}var de=n("XXDZ"),le=n("y4Zl"),ue=n("70mL");const he=Object(u.a)(y)(E),pe={reactComponent:he,experienceConfigSchema:N.InfopaneConfigSchema,mockConfig:de.mockConfig,mockState:ue.mockInfopaneState,mockConnectorArgs:le.mockConnectorArgs,inspector:l.inspect}},"Gcx/":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e._1x_1y="1x_1y",e._1x_2y="1x_2y",e._1x_3y="1x_3y",e._2x_2y="2x_2y"}(i||(i={}))},GytZ:function(e,t){},H3av:function(e,t,n){"use strict";n.d(t,"d",(function(){return _})),n.d(t,"b",(function(){return H})),n.d(t,"c",(function(){return N})),n.d(t,"a",(function(){return L}));var i,a=n("pCrc"),r=n("NS3c"),o=n("wUxM"),s=n("fIer"),c=n("Gcx/"),d=n("uEMx"),l=n("5neD"),u=n("c1hv");!function(e){e.SlideshowPreview="SlideshowPreview",e.ArticlePreview="ArticlePreview",e.VideoPreview="VideoPreview"}(i||(i={}));var h=n("rRnI"),p=n("6xGu"),g=n("YJhp"),m=n("rvYQ"),b=n("Fpjf"),f=n("ADRF"),C=n("u5KZ"),v=n("Am8i"),S=n("qg1f");function y(e){if(e<1e3)return e;if(e>999499&&e<=1e6)return"1M";if(e>1e6)return"1M+";return function(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}(e/1e3,(Math.log(e)*Math.LOG10E+1|0)%3==1?1:0)+"k"}var O=n("xaBU"),x=n("wirn"),w=n("mwRD"),j=n("ERkP"),R=n.n(j);const P=(e,t,n,i,a)=>{if(!t||!n)return null;const r=i?O.a:O.b;return R.a.createElement(w.a,Object.assign({className:e},t),R.a.createElement(x.a,{glyphType:n,width:a,height:a,jssStyleSheet:r}))};var I=n("KaPL"),A=n("+qLX"),k=n("w0HK"),M=n("C4R5"),T=n("3ZGc");const E={[i.VideoPreview]:e=>R.a.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},R.a.createElement("path",{d:"M24.5 14L7 26.25V1.75L24.5 14ZM8.75 22.8867L21.4512 14L8.75 5.11328V22.8867Z"})),[i.SlideshowPreview]:e=>R.a.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},R.a.createElement("path",{d:"M24 3V21H0V3H6.43359L7.93359 1.5H16.0664L17.5664 3H24ZM22.5 4.5H16.9336L15.4336 3H8.56641L7.06641 4.5H1.5V19.5H22.5V4.5ZM12 6C12.8281 6 13.6055 6.15625 14.332 6.46875C15.0664 6.78125 15.7031 7.21094 16.2422 7.75781C16.7891 8.29688 17.2188 8.93359 17.5312 9.66797C17.8438 10.3945 18 11.1719 18 12C18 12.8281 17.8438 13.6094 17.5312 14.3438C17.2188 15.0703 16.7891 15.707 16.2422 16.2539C15.7031 16.793 15.0664 17.2188 14.332 17.5312C13.6055 17.8438 12.8281 18 12 18C11.1719 18 10.3906 17.8438 9.65625 17.5312C8.92969 17.2188 8.29297 16.793 7.74609 16.2539C7.20703 15.707 6.78125 15.0703 6.46875 14.3438C6.15625 13.6094 6 12.8281 6 12C6 11.1719 6.15625 10.3945 6.46875 9.66797C6.78125 8.93359 7.20703 8.29688 7.74609 7.75781C8.29297 7.21094 8.92969 6.78125 9.65625 6.46875C10.3906 6.15625 11.1719 6 12 6ZM12 16.5C12.6172 16.5 13.1992 16.3828 13.7461 16.1484C14.293 15.9062 14.7695 15.582 15.1758 15.1758C15.582 14.7695 15.9023 14.293 16.1367 13.7461C16.3789 13.1992 16.5 12.6172 16.5 12C16.5 11.3828 16.3789 10.8008 16.1367 10.2539C15.9023 9.70703 15.582 9.23047 15.1758 8.82422C14.7695 8.41797 14.293 8.09766 13.7461 7.86328C13.1992 7.62109 12.6172 7.5 12 7.5C11.3828 7.5 10.8008 7.62109 10.2539 7.86328C9.70703 8.09766 9.23047 8.41797 8.82422 8.82422C8.41797 9.23047 8.09375 9.70703 7.85156 10.2539C7.61719 10.8008 7.5 11.3828 7.5 12C7.5 12.6172 7.61719 13.1992 7.85156 13.7461C8.09375 14.293 8.41797 14.7695 8.82422 15.1758C9.23047 15.582 9.70703 15.9062 10.2539 16.1484C10.8008 16.3828 11.3828 16.5 12 16.5ZM3.75 6C3.95312 6 4.12891 6.07422 4.27734 6.22266C4.42578 6.37109 4.5 6.54688 4.5 6.75C4.5 6.95312 4.42578 7.12891 4.27734 7.27734C4.12891 7.42578 3.95312 7.5 3.75 7.5C3.54688 7.5 3.37109 7.42578 3.22266 7.27734C3.07422 7.12891 3 6.95312 3 6.75C3 6.54688 3.07422 6.37109 3.22266 6.22266C3.37109 6.07422 3.54688 6 3.75 6Z"}))};function _(e,t,n){const{loadedContent:i,physicalWidth:a,physicalHeight:r,contentCardSize:o,isMouseOverContentCard:s}=e;let c;const d=H(t,e.loadedContent,e.contentCardSize);if(d){const{initialProps:l,telemetryContext:u,visualReadinessHandler:h,cardActionConfig:p,useRouter:g}=n;c=N(t,i,l?l.serviceContextMetadata:null,d.propsToMap,o,{width:a,height:r},u,Object.assign({cardActionsMenuOpen:e.cardActionsMenuOpen,cardActionsStatus:e.cardActionsStatus,enabled:t.enableCardAction,enableSaveStoryIcon:t.enableSaveStoryIcon,enableCommentCount:t.enableCommentCount,enableCommentCountOnHover:t.enableCommentCountOnHover,enableSaveStoryOnHover:t.enableSaveStoryOnHover,isMouseOverContentCard:s},p),h,l?l.initializedForUserStory:null,g)}return{contentCardProps:c,disablePlaceholder:t.disablePlaceholder,enableFadeInAnimation:t.enableFadeInAnimation,enableBigImageOn1x2y:o&&o===I.a.Size1Wx7H,enableFlexHeightCards:t.enableFlexHeightCards,enableCommentCountOnHover:t.enableCommentCountOnHover,enableSaveStoryOnHover:t.enableSaveStoryOnHover,onMouseOverContentCard:n.onMouseOverContentCard,physicalHeight:r?Object(T.a)(r):null,physicalWidth:a?Object(T.a)(a):null}}function H(e,t,n){let i;if(t&&n){const a=d.b[Object(l.c)(n)];if(a){const{images:r,abstract:o}=t,{enableImageOn1x1y:s,disableAbstractCards:c}=e,d=n===I.a.Size1Wx7H,h=Object(u.b)(r),p=Object(l.b)({image:h,abstract:o,enableImageOn1x1y:s,disableAbstractCards:c,enableBigImageOn1x2y:d});i=a.find(e=>Object(u.a)(p,e.minContentFeatures))}}return i}function N(e,t,n,i,o,s,g,f,y,O,x){const w=m.a.CurrentMarket,j=e.openLinksInNewTab,P=n&&n.metadata,_=t.category,H=P&&P.category||_&&_.product||"news",N=P&&P.subCategory||_&&_.label||"other",W=P&&P.feed&&P.feed.id,U={headline:t.title,vertical:t.category?t.category.product:null,category:t.category?t.category.label:null,id:t.id,brand:t.provider?t.provider.name:null},B=Object(l.c)(o),$=o===I.a.Size1Wx1H,G=B===c.a._2x_2y,q=B===c.a._1x_1y,K=o===I.a.Size1Wx7H,V=Object(l.e)(B,c.a._1x_3y,i,d.a.PortraitImage_1x);let J=h.a.Heading_1x;$?J=h.a.Heading_Short:G&&!K?J=h.a.Heading_2x:q&&(J=h.a.Heading_Half);const Z=Object(p.e)(t,J),Q=function(e,t,n,i,a,r,o,s){const c=Object(p.c)(e,t,n,i);return r.destination.contract=Object.assign(Object.assign({},r.destination.contract),{destinationUrl:c,content:o,feed:{id:a}}),Object.assign({href:c,target:s?"_blank":void 0},r.destination.render())}(t,w,H,N,W,g,U,j),X=Object(p.i)(t),Y=Object(p.h)(t,X),ee=Object(p.g)(t,e.imageAttributionLabel),te=Object(p.b)(t,e.contentProviderAttributionLabel),ne=function(e){return E[e.type]}(t),ie=G||$?void 0:function(e,t,n,{renderKickerAsLink:i,xfeedConfigIndexHref:a,pivotsNavInstanceId:o,enableVerticalKickerLink:s,enableCategoryKickerLink:c,disableKicker:d},l,h,p){if(d)return;const g=e&&e.metadata;if(!g||!g.kicker)return;const m=Object(u.b)(g.kicker);if(!m||!m.feedName)return;const{feedName:b,id:f}=m;t.kicker.contract=Object.assign(Object.assign({},t.kicker.contract),{destinationUrl:location.href,content:n,action:v.a.Click,behavior:v.b.Navigate});const{subCategory:S}=g,y={};if(s||c){const e=c&&S&&S.length>0;i&&(y.href=e?z(l,S):z(l)),y.children=e?S.toLocaleUpperCase():l.toLocaleUpperCase()}else y.children=b.toLocaleUpperCase(),y.onClick=i?e=>{e&&(e.preventDefault(),n.headline=b,C.a.sendActionEvent(e.target,v.a.Click),e.stopPropagation()),p?Object(M.d)().pushHistory(b,f):Object(k.a)(o).switchPivot({pivotId:f,configIndexHref:a,context:{feedId:f!==b?f:null,userSelected:!0,query:f===b?b:null},telemetryPageName:A.a.Xfeed,display:b})}:null;const O=!i||s||c?{}:{"data-customhandled":1};return Object.assign(Object.assign(Object.assign({appearance:r.a.justified,target:h?"_blank":void 0},y),t.kicker.render()),O)}(n,g,U,e,H,j,x);let ae=Object(u.a)(i,d.a.Image);!ae&&e.stockImage&&(i|=d.a.LandscapeImage_2x,i&=~d.a.Abstract,t.images=[e.stockImage],ae=!0);const re=ae&&!$&&function(e,t,n,i,a,r=!1){const o=Object(u.b)(e.images);if(!o||!o.id)return;let s,c=n.width;if(Object(u.a)(t,d.a.LandscapeImage_2x))i?(s=h.b.BigImage_1x,c=s.width):s=h.b.Landscape_2x;else if(i&&Object(u.a)(t,d.a.BigImage_1x))s=h.b.BigImage_1x,c=s.width;else if(Object(u.a)(t,d.a.LandscapeImage_1x))s=h.b.Landscape_1x;else if(Object(u.a)(t,d.a.PortraitImage_1x))s=h.b.Portrait_1x;else{if(!Object(u.a)(t,d.a.Image_1x1y))return;s=h.b.Image_1x1y,c=s.width}const l=Object(p.j)(s,c),g=Object(p.f)(e,l,r?b.a:60);a&&(g.onLoad=()=>a(S.b.Ready),g.onError=()=>a(S.b.Unsupported));return g}(t,i,s,K,y,e.overrideDefaultImageQuality),oe=Object(u.a)(i,d.a.Abstract)&&!$?Object(p.a)(t):void 0,se=P&&P.commentSummary&&P.commentSummary.totalCount,ce=f&&f.enabled?function(e,t,n,i,a,r,o={},s,d,l,u){const{enabled:h,cardActionsMenuOpen:p,cardActionsStatus:g,enableCommentCount:m,enableCommentCountOnHover:b,enableSaveStoryIcon:f,enableSaveStoryOnHover:C,isMouseOverContentCard:v,onStatusChange:S,showSaveStoryToast:y,updateActionsStatus:O,initActionMenu:x}=e;if(!h)return{};const{provider:w}=r,j={buttonElement:null,cardStatus:g,locale:r.locale,article:{id:r.id,headlineTitle:r.title,href:t.href,image:{alt:i&&i.alt,src:i&&i.src},provider:{id:w&&w.id,name:w&&w.name,image:{alt:n&&n.alt,src:n&&n.src}}},enabled:!0,onStatusChange:S,useTelemetryTags:!0,isUserStoryCardAction:l};s.more.contract.content=d;const R=s.more.render(),P=Object.assign({label:o.moreButtonTitle,title:o.moreButtonTitle,onInvoke:e=>{x(Object.assign(Object.assign({},j),{buttonElement:e.currentTarget}))},"aria-expanded":!!p},R),I=a===c.a._2x_2y,A=f&&C&&v||f&&!C;if(m){const e=m&&u&&(b&&v||!b);return{menuTrigger:P,likeIcon:F(I,A,g,j,r.id,o,O,y,s,d),saveIcon:e?D(I,r.id,o,s,d,t,u):null}}return{menuTrigger:P,likeIcon:L(I,g,o,O,s,d),saveIcon:F(I,A,g,j,r.id,o,O,y,s,d)}}(f,Q,X,re,B,t,e.cardActionTitles,g,U,O,se):{},de=$?h.d.Short_1x1y:V?h.d.Portrait_1x:h.d.Default;return Object.assign(Object.assign({abstract:oe,destination:Object.assign(Object.assign({},Q),{title:ee,"aria-label":te}),heading:Z,image:re?e=>R.a.createElement(a.a,Object.assign(Object.assign({},re),{className:e})):null,kicker:ie,icon:ne,layout:B,height:s&&s.height?Object(T.a)(s.height):null,width:s&&s.width&&!K?Object(T.a)(s.width):null,attribution:Y,headingMaxLines:de},ce),g.contentCard.render())}function L(e,t,n,i,a,r){const c=function(e,t={},n,i){switch(e){case s.a.Like:return n.unlike.contract.content=i,n.unlike.contract.behavior=v.b.Unlike,n.unlike.contract.name="Undo like",{statusButtonProps:Object.assign({title:t.undoLikedButtonTitle},n.unlike?n.unlike.render():null),statusGlyph:g.b.Liked};case s.a.DisLike:return n.dislike.contract.content=i,n.dislike.contract.behavior=v.b.Undislike,n.dislike.contract.name="Undo dislike",{statusButtonProps:Object.assign({title:t.undoDislikedButtonTitle},n.dislike?n.dislike.render():null),statusGlyph:g.b.Disliked};default:return{}}}(t.Like,n,a,r);return c&&c.statusButtonProps&&(c.statusButtonProps.onClick=()=>i(t,o.b.Like)),c.statusButtonProps&&c.statusGlyph?t=>P(t,c.statusButtonProps,c.statusGlyph,e,"20px"):null}function F(e,t,n,i,a,r,s,c,d,l){const u=function(e,t={},n,i,a){if(n.action.contract.content=i,n.action.contract.type=v.e.ActionButton,e)return n.action.contract.name="Undo save",n.action.contract.behavior=v.b.UndoSave,{statusButtonProps:Object.assign({title:t.undoSavedButtonTitle},n.action.render()),statusGlyph:g.b.Saved};if(a&&!e)return n.action.contract.name="Save",n.action.contract.behavior=v.b.Save,{statusButtonProps:Object.assign({title:t.savedButtonTitle},n.action.render()),statusGlyph:g.b.Save};return{}}(n.Save,r,d,l,t);return u&&u.statusButtonProps&&(u.statusButtonProps.onClick=e=>{C.a.sendActionEvent(e.currentTarget,v.a.Click),e.stopPropagation(),s(n,o.b.Save),c(i)}),u.statusButtonProps&&u.statusGlyph?t=>P(t,u.statusButtonProps,u.statusGlyph,e,"16px"):null}function D(e,t,n,i,a,r,o){if(!o)return null;const s=function(e={},t,n,i){return t.comment.contract=Object.assign(Object.assign({},t.comment.contract),{content:n,behavior:v.b.Navigate,destinationUrl:i.href}),{statusButtonProps:Object.assign({title:e.commentCountButtonTitle,href:i.href,target:i.target},t.comment.render())}}(n,i,a,r);return s?t=>((e,t,n,i,a)=>{if(!t||n<1)return null;const r=i?O.a:O.b;return R.a.createElement(w.a,Object.assign({className:e,jssStyleSheet:O.c.bind(void 0,i)},t,{beforeContent:e=>R.a.createElement(x.a,{className:e,glyphType:g.b.Comment,width:a,height:a,jssStyleSheet:r})}),y(n))})(t,s.statusButtonProps,o,e,"14px"):null}function z(e,t){return`https://${Object(m.b)().contentLinkHost}/${Object(m.b)().CurrentMarket}/${e=f.a.encodeURIComponentForPrime(e||"")}/${t=f.a.encodeURIComponentForPrime(t||"")}`}},KaPL:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.None=0]="None",e[e.Size1Wx2H=1]="Size1Wx2H",e[e.Size1Wx3H=2]="Size1Wx3H",e[e.Size1Wx4H=4]="Size1Wx4H",e[e.Size1Wx5H=8]="Size1Wx5H",e[e.Size1Wx6H=16]="Size1Wx6H",e[e.Size1Wx7H=32]="Size1Wx7H",e[e.Size1Wx8H=64]="Size1Wx8H",e[e.Size1Wx9H=128]="Size1Wx9H",e[e.Size1Wx10H=256]="Size1Wx10H",e[e.Size1Wx12H=512]="Size1Wx12H",e[e.Size1Wx18H=1024]="Size1Wx18H",e[e.Size1Wx1H=2048]="Size1Wx1H",e[e.Size2Wx2H=65536]="Size2Wx2H",e[e.Size2Wx3H=131072]="Size2Wx3H",e[e.Size2Wx6H=262144]="Size2Wx6H",e[e.Size2Wx8H=524288]="Size2Wx8H",e[e.Size2Wx12H=1048576]="Size2Wx12H",e[e.Size2Wx18H=2097152]="Size2Wx18H",e[e.Size3Wx2H=4194304]="Size3Wx2H",e[e.Size3Wx6H=8388608]="Size3Wx6H",e[e.Size3Wx12H=16777216]="Size3Wx12H",e[e.Size3Wx18H=33554432]="Size3Wx18H",e[e.Size4Wx2H=67108864]="Size4Wx2H",e[e.Size4Wx3H=134217728]="Size4Wx3H",e[e.Size4Wx6H=268435456]="Size4Wx6H",e[e.Size4Wx12H=536870912]="Size4Wx12H",e[e.Size4Wx18H=1073741824]="Size4Wx18H"}(i||(i={}))},"L+J7":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("+viU"),a=n("MF9s"),r=n("8yfO"),o=n("mDtb"),s=n("XI4f"),c=n("zP2P"),d=n("objN"),l=n("rRWH"),u=n("3ZGc"),h=n("mIHV");var p={attribution:{"box-sizing":"border-box",display:"inline-flex","align-items":"center","& $attribution_image":{"margin-right":Object(l.c)(Object(u.a)(Object(h.c)(a.p,2)),""),"margin-left":Object(l.c)("",Object(u.a)(Object(h.c)(a.p,2)))}},attribution_contentRegion:Object.assign(Object.assign(Object.assign({},Object(r.b)("t8")),Object(o.c)()),{color:s.a}),attribution_image:{height:c.b,[d.D]:Object.assign(Object.assign({},d.w),{background:d.a.background,"border-color":d.a.text})}},g=n("qKya");const m=Object(i.a)(p)(g.default)},LJMo:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Article="article",e.Slideshow="slideshow",e.Video="video",e.Spotlight="content360",e.Infopane="infopane",e.TabbedInfopane="tabbedInfopane",e.HalfPane="HalfPane",e.HeadToHead="HeadToHead",e.Mosaic="Mosaic",e.Triptych="Triptych",e.TabbedInfopaneTab="tabbedInfopaneTab",e.WebContent="webcontent",e.ExternalLink="link",e.DenseList="DenseList"}(i||(i={}))},Mm8i:function(e,t){},NJ5d:function(e,t,n){"use strict";n.r(t),n.d(t,"getTemplateCollectionForType",(function(){return r}));var i=n("D57K"),a=n("2R5J");function r(e){return Object(i.b)(this,void 0,void 0,(function*(){const t=yield n("9IeT")("./"+e).catch(e=>null);return t?new t.default:void 0}))}n.d(t,"UnifiedMobileRowHeight",(function(){return a.UnifiedMobileRowHeight})),n.d(t,"CategoryMobileRowHeight",(function(){return a.CategoryMobileRowHeight})),n.d(t,"CategoryMobile1uHeight",(function(){return a.CategoryMobile1uHeight})),n.d(t,"LegacyCssRowHeight",(function(){return a.LegacyCssRowHeight})),n.d(t,"LegacyGutterSize",(function(){return a.LegacyGutterSize})),n.d(t,"RiverBannerRowHeight",(function(){return a.RiverBannerRowHeight})),n.d(t,"LegacyCssColumnWidth",(function(){return a.LegacyCssColumnWidth})),n.d(t,"LegacyRowVirtualRowCount",(function(){return a.LegacyRowVirtualRowCount})),n.d(t,"DisplayAdCssRowHeight",(function(){return a.DisplayAdCssRowHeight})),n.d(t,"ShortCssRowHeight",(function(){return a.ShortCssRowHeight})),n.d(t,"Column1Row1",(function(){return a.Column1Row1})),n.d(t,"Column2Row1",(function(){return a.Column2Row1})),n.d(t,"Column3Row1",(function(){return a.Column3Row1})),n.d(t,"Column4Row1",(function(){return a.Column4Row1})),n.d(t,"Column5Row1",(function(){return a.Column5Row1})),n.d(t,"Column1Row2",(function(){return a.Column1Row2})),n.d(t,"Column2Row2",(function(){return a.Column2Row2})),n.d(t,"Column3Row2",(function(){return a.Column3Row2})),n.d(t,"Column4Row2",(function(){return a.Column4Row2})),n.d(t,"Column5Row2",(function(){return a.Column5Row2})),n.d(t,"Column1Row3",(function(){return a.Column1Row3})),n.d(t,"Column2Row3",(function(){return a.Column2Row3})),n.d(t,"Column3Row3",(function(){return a.Column3Row3})),n.d(t,"Column4Row3",(function(){return a.Column4Row3})),n.d(t,"Column5Row3",(function(){return a.Column5Row3})),n.d(t,"Column1Row4",(function(){return a.Column1Row4})),n.d(t,"Column2Row4",(function(){return a.Column2Row4})),n.d(t,"Column3Row4",(function(){return a.Column3Row4})),n.d(t,"Column4Row4",(function(){return a.Column4Row4})),n.d(t,"Column5Row4",(function(){return a.Column5Row4})),n.d(t,"Column1Row5",(function(){return a.Column1Row5})),n.d(t,"Column2Row5",(function(){return a.Column2Row5})),n.d(t,"Column3Row5",(function(){return a.Column3Row5})),n.d(t,"Column4Row5",(function(){return a.Column4Row5})),n.d(t,"Column5Row5",(function(){return a.Column5Row5})),n.d(t,"Column1Row6",(function(){return a.Column1Row6})),n.d(t,"Column2Row6",(function(){return a.Column2Row6})),n.d(t,"Column3Row6",(function(){return a.Column3Row6})),n.d(t,"Column4Row6",(function(){return a.Column4Row6})),n.d(t,"Column5Row6",(function(){return a.Column5Row6})),n.d(t,"Column1Row7",(function(){return a.Column1Row7})),n.d(t,"Column2Row7",(function(){return a.Column2Row7})),n.d(t,"Column3Row7",(function(){return a.Column3Row7})),n.d(t,"Column4Row7",(function(){return a.Column4Row7})),n.d(t,"Column5Row7",(function(){return a.Column5Row7})),n.d(t,"Column1Row8",(function(){return a.Column1Row8})),n.d(t,"Column2Row8",(function(){return a.Column2Row8})),n.d(t,"Column3Row8",(function(){return a.Column3Row8})),n.d(t,"Column4Row8",(function(){return a.Column4Row8})),n.d(t,"Column5Row8",(function(){return a.Column5Row8})),n.d(t,"DoubleWide",(function(){return a.DoubleWide})),n.d(t,"HalfHeight",(function(){return a.HalfHeight})),n.d(t,"FullHeight",(function(){return a.FullHeight})),n.d(t,"Tall",(function(){return a.Tall})),n.d(t,"DoubleFullHeight",(function(){return a.DoubleFullHeight})),n.d(t,"DisplayAd",(function(){return a.DisplayAd})),n.d(t,"ShortHeight",(function(){return a.ShortHeight})),n.d(t,"OneRowHeights",(function(){return a.OneRowHeights})),n.d(t,"TwoRowHeights",(function(){return a.TwoRowHeights})),n.d(t,"ThreeRowHeights",(function(){return a.ThreeRowHeights})),n.d(t,"FourRowHeights",(function(){return a.FourRowHeights})),n.d(t,"FiveRowHeights",(function(){return a.FiveRowHeights})),n.d(t,"SixRowHeights",(function(){return a.SixRowHeights})),n.d(t,"SevenRowHeights",(function(){return a.SevenRowHeights})),n.d(t,"EightRowHeights",(function(){return a.EightRowHeights})),n.d(t,"NineRowHeights",(function(){return a.NineRowHeights})),n.d(t,"OneRowHeightsLength",(function(){return a.OneRowHeightsLength})),n.d(t,"TwoRowHeightsLength",(function(){return a.TwoRowHeightsLength})),n.d(t,"ThreeRowHeightsLength",(function(){return a.ThreeRowHeightsLength})),n.d(t,"FourRowHeightsLength",(function(){return a.FourRowHeightsLength})),n.d(t,"FiveRowHeightsLength",(function(){return a.FiveRowHeightsLength})),n.d(t,"SixRowHeightsLength",(function(){return a.SixRowHeightsLength})),n.d(t,"SevenRowHeightsLength",(function(){return a.SevenRowHeightsLength})),n.d(t,"EightRowHeightsLength",(function(){return a.EightRowHeightsLength})),n.d(t,"NineRowHeightsLength",(function(){return a.NineRowHeightsLength})),n.d(t,"OneFlexibleColumnWidths",(function(){return a.OneFlexibleColumnWidths})),n.d(t,"TwoColumnWidths",(function(){return a.TwoColumnWidths})),n.d(t,"ThreeColumnWidths",(function(){return a.ThreeColumnWidths})),n.d(t,"FourColumnWidths",(function(){return a.FourColumnWidths})),n.d(t,"FiveColumnWidths",(function(){return a.FiveColumnWidths}))},NLaq:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("fIer"),a=n("XG5Y"),r=n("BQb/"),o=n("wUxM"),s=n("H3av"),c=n("Gcx/"),d=n("ggrA"),l=n("xaBU"),u=n("w5AX"),h=n("OnwC"),p=n("ERkP"),g=n.n(p),m=n("5neD");class b extends h.a{constructor(e){super(e),this.state={cardLikeActionStatus:void 0};const t=this.props.initialProps.serviceContextMetadata.metadata,n={enabled:this.props.config.enableCardAction};if(n.enabled&&t){const e=t.actions&&this.props.initialProps.serviceContextMetadata.metadata.actions.indexOf(i.a.Like)>=0;n.cardActionsStatus={Like:e?i.a.Like:i.a.None},n.onStatusChange=this.onStatusChange.bind(this),n.updateActionsStatus=this.updateActionsStatus.bind(this),n.showSaveStoryToast=e=>{},n.initActionMenu=this.initActionMenu.bind(this)}this.props.parentTelemetry&&(this.telemetryContext=new u.a(this.props.parentTelemetry));const a=Object(s.b)(this.props.config,this.props.initialProps.serviceContextMetadata.cardContent,this.props.cardSize);this.contentCardProps=Object(s.c)(this.props.config,this.props.initialProps.serviceContextMetadata.cardContent,this.props.initialProps.serviceContextMetadata,a?a.propsToMap:void 0,this.props.cardSize,this.props.physicalSize,this.telemetryContext,n,this.props.visualReadinessHandler),this.contentCardProps.jssStyleSheet=l.g}initActionMenu(e){let t=e.cardStatus;!this.state.cardLikeActionStatus||e.cardStatus&&e.cardStatus.Like===this.state.cardLikeActionStatus||(t=Object.assign(Object.assign({},e.cardStatus),{Like:this.state.cardLikeActionStatus})),a.b.Init.getGlobalActionSender().send(Object.assign(Object.assign({},e),{cardStatus:t}))}updateActionsStatus(e,t){const n=new r.a(window.fetch.bind(window));let s=void 0;switch(t){case o.b.Like:e.Like===i.a.Like?(s=o.b.Like,a.b.UnlikeCard.getGlobalActionSender().send()):e.Like===i.a.DisLike?(s=o.b.Dislike,a.b.UndislikeCard.getGlobalActionSender().send()):s=null}const c=this.props.initialProps.serviceContextMetadata.id;n.PostCardActionEvent(e,s,c,this.onStatusChange.bind(this))}onStatusChange(e){const t=this.props.initialProps.serviceContextMetadata.cardContent,n={headline:t.title,vertical:t.category?t.category.product:null,category:t.category?t.category.label:null,id:t.id,brand:t.provider?t.provider.name:null};this.contentCardProps.likeIcon=Object(s.a)(Object(m.c)(this.props.cardSize)===c.a._2x_2y,e,this.props.config.cardActionTitles,this.updateActionsStatus.bind(this),this.telemetryContext,n),this.setState({cardLikeActionStatus:e.Like})}render(){return g.a.createElement(d.a,this.contentCardProps)}}},NZD6:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var i=n("+viU"),a=n("8MWm"),r=n("OnwC"),o=n("F+C/"),s=n("h/k5"),c=n("o1qX"),d=n("yqT/"),l=n("r6MD"),u=n("XJ1h"),h=n("ERkP"),p=n.n(h),g=n("3MbD"),m=n("/nBc"),b=n("yR4y"),f=n("B5vd");class C extends r.a{constructor(e){super(e),this.handledProps={autoplay:void 0,autoplayInterval:void 0,managedClasses:void 0,nextFlipper:void 0,previousFlipper:void 0,label:void 0,loop:void 0,activeId:void 0,onActiveIdUpdate:void 0,items:void 0},this.slideTransitionDirection=null,this.assignTransitionDirectionClassName=()=>{const{carousel__slideAnimateNext:e,carousel__slideAnimatePrevious:t}=this.props.managedClasses;return" "+(this.slideTransitionDirection===g.a.next?e:t)},this.assignSlideThemeClassName=()=>{const{carousel__themeLight:e,carousel__themeDark:t}=this.props.managedClasses;return" "+(this.getSlideTheme()===f.a.light?e:t)},this.handleUpdate=e=>{"function"==typeof this.props.onActiveIdUpdate&&this.props.onActiveIdUpdate(e,!1),this.setState({activeId:e});const t=this.slides.map(e=>e.id).indexOf(e);this.setTransitionDirection(t)},this.autoplayNextSlide=()=>{let e=this.getActiveIndex()+1;e>this.slides.length-1&&(e=0);const t=this.slides[e].id;this.setTransitionDirection(e),"function"==typeof this.props.onActiveIdUpdate&&this.props.onActiveIdUpdate(t,!0),this.setState({activeId:t})},this.nextSlide=()=>{let e=this.getActiveIndex()+1;e>this.slides.length-1&&(e=0),this.setTransitionDirection(e),this.setNewSlidePosition(e)},this.previousSlide=()=>{let e=this.getActiveIndex()-1;e<0&&(e=this.slides.length-1),this.setTransitionDirection(e),this.setNewSlidePosition(e)},this.rootEl=p.a.createRef(),Array.isArray(this.props.items)&&(this.state={activeId:"string"==typeof this.props.activeId?this.props.activeId:Object(l.a)(this.props.items[0],"id"," ")})}static getDerivedStateFromProps(e,t){return e.activeId&&e.activeId!==t.activeId?{activeId:e.activeId}:null}render(){return p.a.createElement("div",Object.assign({},this.unhandledProps(),{className:this.generateClassNames(),ref:this.rootEl}),this.generatePreviousFlipper(),p.a.createElement(o.default,{label:this.props.label,activeId:this.state.activeId,onUpdate:this.handleUpdate,items:this.slides,managedClasses:this.generateTabsClassNames(),orientation:s.a.horizontal,disableTabFocus:this.props.autoplay}),this.generateNextFlipper())}componentDidMount(){Object(d.a)()&&this.props.autoplay&&(this.autoplayTimer=window.setInterval(this.autoplayNextSlide,this.props.autoplayInterval))}componentDidUpdate(){this.props.autoplay&&Object(u.a)(this.autoplayTimer)?this.autoplayTimer=window.setInterval(this.autoplayNextSlide,this.props.autoplayInterval):this.props.autoplay||Object(u.a)(this.autoplayTimer)||(this.autoplayTimer=window.clearInterval(this.autoplayTimer))}componentWillUnmount(){Object(u.a)(this.autoplayTimer)||(this.autoplayTimer=window.clearInterval(this.autoplayTimer))}generateClassNames(){return super.generateClassNames(Object(c.a)(this.props.managedClasses.carousel,[this.assignSlideThemeClassName,!!this.getSlideTheme()],[this.assignTransitionDirectionClassName(),!!this.slideTransitionDirection]))}generateTabsClassNames(){const{carousel_slides:e,carousel_tabPanels:t,carousel_sequenceIndicators:n,carousel_tabPanelContent:i,carousel_sequenceIndicator:a,carousel_sequenceIndicator__active:r,carousel_tabPanel:o,carousel_tabPanel__hidden:s}=this.props.managedClasses;return{tabs:e,tabs_tabPanels:t,tabs_tabList:n,tabs_tabPanelContent:i,tab:a,tab__active:r,tabPanel:o,tabPanel__hidden:s}}get slides(){return Array.isArray(this.props.items)?this.props.items.map(e=>Object.assign({},e,{tab:()=>p.a.createElement(p.a.Fragment,null)})):[]}get isMultipleSlides(){return 1!==this.slides.length}get isFirstSlide(){if(this.slides.length){return this.slides[0].id===this.state.activeId}return!1}get isLastSlide(){const e=this.slides.length-1;if(e>=0){return this.slides[e].id===this.state.activeId}return!1}getActiveIndex(){return this.slides.map(e=>e.id).indexOf(this.state.activeId)}getSlideTheme(){if(!(this.slides.length<=0))return this.slides[this.getActiveIndex()].theme?this.slides[this.getActiveIndex()].theme:f.a.dark}setTransitionDirection(e){this.getActiveIndex()<e?this.slideTransitionDirection=g.a.next:this.slideTransitionDirection=g.a.previous}generatePreviousFlipper(){if(!this.isMultipleSlides||this.isFirstSlide&&!this.props.loop)return;const e=this.props.managedClasses.carousel_flipperPrevious;return"function"==typeof this.props.previousFlipper?this.props.previousFlipper(this.previousSlide,e):p.a.createElement(m.a,{direction:g.a.previous,onClick:this.previousSlide,className:e})}generateNextFlipper(){if(!this.isMultipleSlides||this.isLastSlide&&!this.props.loop)return;const e=this.props.managedClasses.carousel_flipperNext;return"function"==typeof this.props.nextFlipper?this.props.nextFlipper(this.nextSlide,e):p.a.createElement(m.a,{direction:g.a.next,onClick:this.nextSlide,className:e})}setNewSlidePosition(e){const t=this.slides[e].id;"function"==typeof this.props.onActiveIdUpdate&&this.props.onActiveIdUpdate(t,!1),this.setState({activeId:t})}}C.displayName=b.a+"Carousel",C.defaultProps={autoplay:!1,autoplayInterval:6e3,loop:!0,managedClasses:{}};var v=C;const S=Object(i.a)(a.a)(v)},Nt1x:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("G82u");class a{}a.contentRegionSizeChanged=new i.a("contentRegionSizeChanged")},PTSW:function(e,t){},PVsn:function(e,t){},RNO0:function(e,t){},U9NI:function(e,t,n){"use strict";n.r(t),n.d(t,"createContentPreviewConfigProperties",(function(){return i.createContentPreviewConfigProperties})),n.d(t,"ContentPreview",(function(){return Y})),n.d(t,"ContentPreviewActions",(function(){return O})),n.d(t,"ContentPreviewConnector",(function(){return q})),n.d(t,"ContentPreviewReducer",(function(){return J})),n.d(t,"ContentCardWrapper",(function(){return S.a})),n.d(t,"ToolingInfo",(function(){return ee}));var i=n("x0ne"),a=n("+viU"),r=n("5mwN"),o=n("2R5J"),s=n("Gcx/"),c=n("ggrA"),d=n("xaBU"),l=n("B9ci"),u=n("OnwC"),h=n("ERkP"),p=n.n(h);class g extends u.a{constructor(){super(...arguments),this.handledProps={height:void 0,width:void 0,placeholderId:void 0}}render(){const e={height:this.props.height,width:this.props.width};return p.a.createElement("div",Object.assign({},this.unhandledProps(),{"data-ad-placeholder":JSON.stringify(e),id:this.props.placeholderId,style:{display:"none"}}))}}var m=n("7nmT"),b=n.n(m),f=n("o1qX");const C=()=>({});class v extends r.a{constructor(e){super(e),this.handledProps=Object.assign(Object.assign({},r.b),{cardId:void 0,contentCardProps:void 0,disablePlaceholder:void 0,managedClasses:void 0,onComponentMount:void 0,onMouseOverContentCard:void 0,physicalHeight:void 0,physicalWidth:void 0,renderAdPlaceholderOnLayout:void 0,reportDomComplete:void 0,styles:void 0,overlayComponent:void 0,enableFadeInAnimation:void 0,enableBigImageOn1x2y:void 0,enableCommentCountOnHover:void 0,enableSaveStoryOnHover:void 0,iframeOverlayComponent:void 0,enableFlexHeightCards:void 0,useRegularFontHeading:void 0}),this.onMouseOverContentCard=e=>()=>{this.props.onMouseOverContentCard(e)},this.getAdditionalCardStyles=()=>{const{contentCardProps:e,enableBigImageOn1x2y:t,physicalHeight:n,useRegularFontHeading:i,enableFlexHeightCards:a}=this.props;return a?d.k:i?e.layout===s.a._1x_1y?d.l:t&&e.layout===s.a._2x_2y?d.e:d.d:e.layout===s.a._1x_1y?n===o.UnifiedMobileRowHeight+"px"?d.n:n===o.CategoryMobileRowHeight+"px"?d.f:e.image?d.m:null:t&&e.layout===s.a._2x_2y?n===o.CategoryMobile1uHeight+"px"?d.i:d.h:Object(d.g)(e.headingMaxLines)}}render(){super.render();const{cardId:e,contentCardProps:t,disablePlaceholder:n,enableBigImageOn1x2y:i,physicalWidth:a,physicalHeight:r,styles:o,overlayComponent:s,managedClasses:c,iframeOverlayComponent:d,enableFadeInAnimation:l}=this.props;if(n&&!t)return null;const u=s||t&&this.renderContentCard(),h=this.renderAdPlaceholder(),g=Object(f.a)(c.contentPreview,[c.fadeInAnimation,l&&!!t],[c.contentPreview_loading,!t]),m=i?Object.assign({height:r},o):Object.assign({width:a,height:r},o);return p.a.createElement("div",Object.assign({},this.unhandledProps(),{"data-card-id":e,className:this.generateClassNames(g),style:m}),h,u,d)}renderContentCard(){const{enableCommentCountOnHover:e,enableSaveStoryOnHover:t}=this.props;return p.a.createElement(c.a,Object.assign({jssStyleSheet:this.getAdditionalCardStyles()},this.props.contentCardProps,{onMouseEnter:e||t?this.onMouseOverContentCard(!0):C,onMouseLeave:e||t?this.onMouseOverContentCard(!1):C}))}renderAdPlaceholder(){const{contentCardProps:e,cardId:t,physicalWidth:n,physicalHeight:i,renderAdPlaceholderOnLayout:a}=this.props;return e&&e.layout&&a&&a.indexOf(e.layout)>-1?p.a.createElement(g,{height:i,width:n,placeholderId:"rivervideo-"+t}):null}componentDidMount(){super.componentDidMount(),this.props.onComponentMount&&this.props.onComponentMount()}componentDidUpdate(){if(Object(l.b)())return;const{contentCardProps:e}=this.props,{heading:t,headingMaxLines:n}=e,i=b.a.findDOMNode(this),a=i&&i.querySelector("[class*=contentCard_headingContent]");Object(l.a)(a,t.size,n)}endDomCompleteMilestone(){this.props.reportDomComplete&&super.endDomCompleteMilestone()}}v.defaultProps={experienceName:"ContentPreview"},v.renderCounterPrefix="Content";var S=n("NLaq"),y=n("G82u");class O{}O.actionsChanged=new y.a("actionsChanged"),O.contentError=new y.a("contentError"),O.contentLoaded=new y.a("contentLoaded"),O.overlayReady=new y.a("overlayReady"),O.iframeOverlayReady=new y.a("iframeOverlayReady"),O.mouseOverContentCard=new y.a("mouseOverContentCard"),O.updateCardActionsMenuState=new y.a("cardActionsMenuClosed");var x=n("D57K"),w=n("ADRF"),j=n("y+Kz"),R=n("BQb/"),P=n("wUxM"),I=n("fIer"),A=n("XG5Y"),k=n("WfnD"),M=n("HxRh"),T=n("qg1f"),E=n("Z/Ea"),_=n("KaPL"),H=n("s9+9"),N=n("H3av"),L=n("Zn5T");const F={inspect:e=>{const{config:t,state:n,connectorArgs:i,children:a}=e,r=Object(N.d)(n,t,i),o=[];if(t.openInIframeOverlay&&t.childExperienceMap.Overlay&&r.contentCardProps&&r.contentCardProps.destination){const e=r.contentCardProps.destination.href;r.contentCardProps.destination.href=void 0,r.contentCardProps.destination.target=void 0,r.iframeOverlayComponent=a&&t.childExperienceMap?a[t.childExperienceMap.Overlay.instanceId]:null,r.iframeOverlayComponent||o.push({instanceId:L.a.overlay,experienceType:L.a.overlay}),r.contentCardProps.destination.onClick=()=>i.onClick(e)}return r&&(r.useRegularFontHeading=t.useRegularFontHeading),{props:r,missingChildren:o}}};var D=n("w5AX"),z=n("0MnL"),W=n("9J8d"),U=n("u5KZ"),B=n("pbks"),$=n("5neD"),G=n("vhqU");class q extends k.a{constructor(){super(...arguments),this.cardId=Object(G.a)("cp"),this._supportedRiverCardSizes=_.a.None,this.useRouter=!1,this.reportDomComplete=!1,this.onClick=e=>{const{childExperienceMap:t,openInIframeOverlay:n}=this.config;if(!t)return void U.a.sendAppErrorEvent(Object.assign(Object.assign({},M.Ub.LoadExperienceError),{message:"Child experience map in content preview config is invalid"}));const{Overlay:i}=t;if(!i)return void U.a.sendAppErrorEvent(Object.assign(Object.assign({},M.Ub.LoadExperienceError),{message:"Overlay child experience is not found in content preview config"}));const a=this.childMap.get(i.instanceId);if(a)E.a.setOpen.getActionSender(a).send(!0);else{const t={iframeSourceUrl:this.getOverlayUrl(e),openInIframeOverlay:n};this.loadChildExperience(i,t).then(()=>{O.iframeOverlayReady.getActionSender(this).send(!0)})}},this.getOverlayUrl=e=>{let t=new URL(e);return t=w.a.appendSearchParam(t,j.w.ocid,this.config.overlayOcid),t.href},this.onStatusChange=e=>{O.actionsChanged.getActionSender(this).send(e),this.config.enableOverlay&&e&&e.Hide&&this.loadOverlay(e)},this.updateActionsStatus=(e,t)=>{const n=new R.a(window.fetch.bind(window)),i=this.getCurrentState().loadedContent;if(!i)return void U.a.sendAppErrorEvent(Object.assign(Object.assign({},M.T.ErrorWhileFetchingContentPreviewContent),{message:"Error while fetching a single ContentPreview content for updating action"}));const{id:a}=i;let r=void 0;switch(t){case P.b.Like:r=e.Like===I.a.Like?P.b.Like:e.Like===I.a.DisLike?P.b.Dislike:null;break;case P.b.Save:r=P.b.Save;break;case P.b.HideStory:r=e.Hide?P.b.HideStory:null}n.PostCardActionEvent(e,r,a,this.onStatusChange)},this.initActionMenu=e=>{A.b.Init.getGlobalActionSender().send(Object.assign(Object.assign({},e),{onMenuClose:()=>O.updateCardActionsMenuState.getActionSender(this).send(!1)})),e.enabled&&O.updateCardActionsMenuState.getActionSender(this).send(!0)},this.showSaveStoryToast=e=>{const{article:{id:t},cardStatus:n}=e;t&&(n.Save?A.b.UnsaveCard.getGlobalActionSender().send(t,e):A.b.SaveCard.getGlobalActionSender().send(t,e))},this.onMouseOverContentCard=e=>{O.mouseOverContentCard.getActionSender(this).send(e)}}onComponentConnect(e){return Object(x.b)(this,void 0,void 0,(function*(){yield k.a.prototype.onComponentConnect.call(this,e);const{readinessCounter:t,serviceContextMetadata:n,readinessCounterIndex:i}=e;this.initialProps=e,this.visualReadinessHandler=t&&t.tryCreateNotificationHandler(i),this.contentId=n&&n.id,this.telemetryContext=new D.a(this.telemetryObject);const a=W.a.getInstance().rootReducer.connector(H.a.SharedState);this.useRouter=a&&a.getCurrentState().useHistory}))}mapStateToProps(e){const t={initialProps:this.initialProps,telemetryContext:this.telemetryContext,visualReadinessHandler:this.visualReadinessHandler,onClick:this.onClick,onMouseOverContentCard:this.onMouseOverContentCard,cardActionConfig:{onStatusChange:this.onStatusChange,updateActionsStatus:this.updateActionsStatus,initActionMenu:this.initActionMenu,showSaveStoryToast:this.showSaveStoryToast},useRouter:this.useRouter},{loadedContent:n,cardActionsStatus:i}=e;let a,{props:r}=F.inspect({config:this.config,state:e,connectorArgs:t,children:this.childComponentInstanceList});if(r&&this.setupImageStatusNotification(r.contentCardProps,e),i&&i.Hide){const t=this.childMap.get(e.overlayInstanceId);t&&(a=t.componentInstance)}return r=Object.assign(Object.assign(Object.assign({},r),{cardId:this.cardId,onComponentMount:n?void 0:this.initializeContentAsync.bind(this),reportDomComplete:this.reportDomComplete,renderAdPlaceholderOnLayout:this.config.renderAdPlaceholderOnLayout,overlayComponent:a}),this.telemetryTags||{}),r}get supportedRiverCardSizes(){if(this._supportedRiverCardSizes||!this.initialProps.serviceContextMetadata)return this._supportedRiverCardSizes;const e=this.config.disableAbstractCards,{titleLength:t,abstractLength:n,primaryImage:i}=this.initialProps.serviceContextMetadata.metadata;return this._supportedRiverCardSizes=Object($.d)({titleLength:t,abstractLength:n,primaryImage:i,disableAbstractCards:e})}initializeContentAsync(){return Object(x.b)(this,void 0,void 0,(function*(){const{serviceContextMetadata:e}=this.initialProps,{metadata:t,cardContent:n}=e;let i;if(n)i=n;else{const t=!0!==this.config.skipWebWorker&&(this.initialProps&&this.initialProps.useWebWorkerCache);i=yield Object(B.a)(e,t,this.config.wwFetchTimeoutInMs)}if(!i)return O.contentError.getActionSender(this).send(),void(this.visualReadinessHandler&&this.visualReadinessHandler(T.b.Unsupported));this.reportDomComplete=!0;const a=t&&t.actions&&t.actions.indexOf(I.a.Like)>=0?I.a.Like:I.a.None,r=t&&t.actions&&t.actions.indexOf(P.b.Save)>=0,o=t&&t.actions&&t.actions.indexOf(P.b.HideStory)>=0;O.contentLoaded.getActionSender(this).send(i,{Like:a,Save:r,Hide:o})}))}loadOverlay(e){return Object(x.b)(this,void 0,void 0,(function*(){const t="hidden-content-card-"+this.cardId;let n=this.childMap.get(t);if(!n){const{configInfo:e}=this.getOverlayExperienceInfo(t);yield this.loadChildExperience(e),n=this.childMap.get(e.instanceId),O.overlayReady.getActionSender(this).send(e.instanceId),z.a.actionStatusHandler.getActionSender(n).send(this.updateActionsStatus)}n&&z.a.actionsStatusChanged.getActionSender(n).send(e)}))}getOverlayExperienceInfo(e){const t=this.config,n=t&&t.childExperienceMap,i=n&&n.HiddenContent;return{configInfo:Object.assign(Object.assign({},i),{instanceId:e})}}setupImageStatusNotification(e,t){const n=this.visualReadinessHandler;if(!n||null==t.contentLoadError&&null==t.loadedContent)return;e&&e.image||n(T.b.Unsupported)}}var K=n("05Au"),V=n("5p4t");class J{reduce(e,t){if(!e)return{};if(!t)return e;let n,i=!1;return i=K.a.handleAction(t,O.contentLoaded,(t,i)=>{!t||e.loadedContent===t&&e.cardActionsStatus===i||(n=Object.assign(Object.assign({},e),{cardActionsStatus:i,loadedContent:t}))}),i=i||K.a.handleAction(t,O.actionsChanged,t=>{t!==e.cardActionsStatus&&(n=Object.assign(Object.assign({},e),{cardActionsStatus:t}))}),i=i||K.a.handleAction(t,O.overlayReady,t=>{n=Object.assign(Object.assign({},e),{overlayInstanceId:t})}),i=i||K.a.handleAction(t,V.a.changeCardSize,(t,i,a)=>{e.contentCardSize===t&&e.physicalHeight===a&&e.physicalWidth===i||(n=Object.assign(Object.assign({},e),{contentCardSize:t,physicalHeight:a,physicalWidth:i}))}),i=i||K.a.handleAction(t,O.contentError,()=>{e.contentLoadError||(n=Object.assign(Object.assign({},e),{contentLoadError:!0}))}),i=i||K.a.handleAction(t,O.updateCardActionsMenuState,t=>{n=Object.assign(Object.assign({},e),{cardActionsMenuOpen:t})}),i=i||K.a.handleAction(t,O.iframeOverlayReady,t=>{n=Object.assign(Object.assign({},e),{iframeOverlayReady:t})}),i=i||K.a.handleAction(t,O.mouseOverContentCard,t=>{t!==e.isMouseOverContentCard&&(n=Object.assign(Object.assign({},e),{isMouseOverContentCard:t}))}),n||e}}var Z=n("bPP+"),Q=n("7wJ/"),X=n("x2Ry");const Y=Object(a.a)(d.j)(v),ee={reactComponent:Y,experienceConfigSchema:i.ContentPreviewConfigSchema,mockState:X.mockContentPreviewState,mockConfig:Z.mockConfig,mockConnectorArgs:Q.mockContentPreviewConnectorArgs,inspector:F.inspect}},"USk/":function(e,t){},UyrJ:function(e,t,n){"use strict";n.r(t),n.d(t,"River",(function(){return we})),n.d(t,"RiverActions",(function(){return A})),n.d(t,"RiverConnector",(function(){return fe})),n.d(t,"RiverReducer",(function(){return ve})),n.d(t,"ToolingInfo",(function(){return je}));var i=n("uT2j"),a=n("FPTP"),r=n("5mwN"),o=n("JpJ4"),s=n("q/RY"),c=n("iX/D"),d=n("I6Lx"),l=n("DYG5"),u=n("1aPi"),h=n("1j0g"),p=n("Zn5T"),g=n("OnwC"),m=n("HxRh"),b=n("3ZGc");class f{static getTemplateColumnCss(e){let t="";return e.columnWidths.forEach(e=>{if("number"==typeof e)t+=Object(b.a)(e)+" ";else{const n=e;t+=`minmax(${Object(b.a)(n.minWidthPx)}, ${Object(b.a)(n.maxWidthPx)}) `}}),t}static getTemplateColumnCssMsGrid(e,t){let n="";const i=e.columnWidths.length;return e.columnWidths.forEach((e,a)=>{if("number"==typeof e)n+=a!==i-1?`${Object(b.a)(e)} ${Object(b.a)(t)} `:Object(b.a)(e)+" ";else{const r=e;n+=a!==i-1?`minmax(${Object(b.a)(r.minWidthPx)}, ${Object(b.a)(r.maxWidthPx)}) ${Object(b.a)(t)} `:`minmax(${Object(b.a)(r.minWidthPx)}, ${Object(b.a)(r.maxWidthPx)}) `}}),n}static getTemplateRowCss(e){if(!e.rowHeights||!e.rowHeights.length)return"auto";let t="";return e.rowHeights.forEach(e=>{t+=Object(b.a)(e)+" "}),t}static getTemplateRowCssMsGrid(e,t){let n="";const i=e.rowHeights.length;return e.rowHeights.forEach((e,a)=>{n+=a!==i-1?`${Object(b.a)(e)} ${Object(b.a)(t)} `:Object(b.a)(e)+" "}),n}static getCombinedGridSize(e,t,n,i){let a=0;const r=e-1;for(let e=0;e<t;e++){if("number"!=typeof i[r+e])return;a+=i[r+e]}return a+=(t-1)*n,a}}var C=n("ERkP"),v=n.n(C),S=n("u5KZ");class y extends g.a{constructor(){super(...arguments),this.rootRef=v.a.createRef(),this.handledProps={gutterSize:void 0,managedClasses:void 0,onChangeSize:void 0,sectionCards:void 0,sectionTemplate:void 0,shouldFocusOnUpdate:void 0,useMsGrid:void 0}}render(){return v.a.createElement("div",Object.assign({},this.unhandledProps(),{"data-template-key":this.props.sectionTemplate.templateKey},this.generateSectionStyleAttributes(this.props.sectionTemplate),{ref:this.props.shouldFocusOnUpdate?this.rootRef:null}),this.generateGridSectionCards())}shouldComponentUpdate(e){const t=this.props.sectionTemplate,n=e.sectionTemplate;if(!t||!n||t.templateKey!==n.templateKey)return!0;const i=this.props.sectionCards,a=e.sectionCards;if(!i||!a||i.length!==a.length)return!0;for(let e=0;e<i.length;e++)if(i[e].instanceId!==a[e].instanceId)return!0;return!0===this.props.shouldFocusOnUpdate}componentDidUpdate(){if(this.props.shouldFocusOnUpdate){const e=this.rootRef.current.querySelectorAll('button, [href], input, select, textarea, iframe, contentEditable, [tabindex]:not([tabindex="-1"])');e&&e[e.length-1].focus()}}generateGridSectionCards(){const e=this.props.sectionTemplate,t=this.props.sectionCards,n=e.cardTemplates;if(!Array.isArray(t)||!Array.isArray(n)||t.length!==n.length)return void S.a.sendAppErrorEvent(Object.assign(Object.assign({},m.ub.GridSectionCardGenerationError),{message:"Unable to generate grid section cards: invalid sectionCards or cardTemplates"}));const i=this.props.gutterSize;return this.props.sectionCards.map((t,a)=>{const r=n[a],o=f.getCombinedGridSize(r.cssGridRowStart,r.cssGridRowSpan,i,e.rowHeights),s=f.getCombinedGridSize(r.cssGridColumnStart,r.cssGridColumnSpan,i,e.columnWidths);this.props.onChangeSize&&this.props.onChangeSize(t.instanceId,r.virtualCardSize,s,o);const c=this.generateCardAttributes(r,a);return v.a.createElement("div",c,t.cardComponentInstance)})}generateSectionStyleAttributes(e){const t=Object(b.a)(this.props.gutterSize);return this.props.useMsGrid?{style:{display:"-ms-grid",msGridRows:f.getTemplateRowCssMsGrid(e,this.props.gutterSize),msGridColumns:f.getTemplateColumnCssMsGrid(e,this.props.gutterSize),marginBottom:t}}:{style:{display:"grid",gridGap:t,gridTemplateColumns:f.getTemplateColumnCss(e),gridTemplateRows:f.getTemplateRowCss(e),marginBottom:t}}}generateCardAttributes(e,t){return this.props.useMsGrid?{key:t,style:{msGridColumn:""+(2*e.cssGridColumnStart-1),msGridColumnSpan:""+(2*(e.cssGridColumnStart+e.cssGridColumnSpan)-3),msGridRow:""+(2*e.cssGridRowStart-1),msGridRowSpan:""+(2*(e.cssGridRowStart+e.cssGridRowSpan)-3)}}:{key:t,style:{gridColumn:`${e.cssGridColumnStart} / span ${e.cssGridColumnSpan}`,gridRow:`${e.cssGridRowStart} / span ${e.cssGridRowSpan}`}}}}var O=n("+viU");const x=Object(O.a)(e=>({}))(y);var w=n("ABUT"),j=n("Nt1x"),R=n("o1qX");class P extends r.a{constructor(e){super(e),this.handledProps=Object.assign(Object.assign({},r.b),{breakpointManager:void 0,contentExhausted:void 0,disablePagination:void 0,domCompleteTrackingId:void 0,emptyRiverMessage:void 0,gutterSize:void 0,managedClasses:void 0,manualPaginationEnabled:void 0,manualPaginationText:void 0,onBreakpointChange:void 0,onChangeSize:void 0,onUserPaginate:void 0,paginationSentinelPositionFromBottomPx:void 0,designSystemOverrides:void 0,riverSections:void 0,reportDomComplete:void 0,showMoreTelemetry:void 0}),this.checkPaginationCore=()=>{if(!this.paginationSentinelRef||!this.paginationSentinelRef.current)return;const e=this.paginationSentinelRef.current.getBoundingClientRect();this.windowInnerHeight=this.windowInnerHeight||window.innerHeight||document.documentElement.clientHeight,e&&e.top<=this.windowInnerHeight&&this.paginate()},this.onSentinelChange=e=>{if(!e||e.length<1)return;e[0].isIntersecting?(this.sentinelInView=!0,this.paginate()):this.sentinelInView=!1},this.paginate=()=>{this.props.onUserPaginate&&this.props.onUserPaginate()},this.manualPaginate=()=>{this.paginate()},this.checkPagination=Object(l.a)(this.checkPaginationCore,100),this.nullifyWindowHeightCache=Object(u.a)(()=>{this.windowInnerHeight=null},100),this.paginationSentinelRef=v.a.createRef(),this.riverContainerRef=v.a.createRef()}componentDidMount(){super.componentDidMount(),this.props.onBreakpointChange&&(this.props.breakpointManager.subscribe(this.props.onBreakpointChange),this.props.onBreakpointChange(this.props.breakpointManager.currentColumnArrangement)),this.props.disablePagination||("IntersectionObserver"in window&&!this.props.manualPaginationEnabled?d.b.IsPrerender&&"visible"!==document.visibilityState?this.addScrollObserver():this.addSentinelObserver():this.addScrollObserver(),window.addEventListener("resize",this.nullifyWindowHeightCache,!1),this.checkPaginationListeners())}componentWillUnmount(){this.props.onBreakpointChange&&this.props.breakpointManager.unsubscribe(this.props.onBreakpointChange),this.sentinelObserver?(this.sentinelObserver.disconnect(),this.sentinelObserver=null,this.observingSentinel=!1):window.removeEventListener("scroll",this.checkPagination,!1),window.removeEventListener("resize",this.nullifyWindowHeightCache,!1)}render(){super.render();const{managedClasses:e,designSystemOverrides:t}=this.props,n=Object(R.a)(e.river,"river-rc",[e.riverAutoPagination,!this.props.manualPaginationEnabled]);return v.a.createElement("div",Object.assign({},this.unhandledProps(),{className:this.generateClassNames(n),ref:this.riverContainerRef}),v.a.createElement("div",{className:e.riverSections},v.a.createElement(i.a,Object.assign({},o.a),v.a.createElement(h.a,{designSystem:t},this.generateRiverSections(),!this.props.manualPaginationEnabled||this.props.contentExhausted||this.props.disablePagination?null:v.a.createElement(w.a,{linkText:this.props.manualPaginationText,onShowMoreClick:this.manualPaginate,showMoreTelemetry:this.props.showMoreTelemetry}))),this.props.disablePagination?null:v.a.createElement("div",{className:e.paginationSentinel,ref:this.paginationSentinelRef,style:{height:this.props.paginationSentinelPositionFromBottomPx}})))}componentDidUpdate(){if(super.componentDidUpdate(),!this.props.manualPaginationEnabled&&!this.props.disablePagination)return this.sentinelObserver&&this.observingSentinel&&this.props.contentExhausted?(this.sentinelObserver.unobserve(this.paginationSentinelRef.current),void(this.observingSentinel=!1)):void this.checkPaginationListeners()}endDomCompleteMilestone(){this.props.reportDomComplete&&-1===this.domCompleteTracker.getEnd()&&Object(s.a)(this.props.domCompleteTrackingId,()=>{this.dependenciesDomComplete(this.domCompleteTracker,this.props.onExperienceMilestoneTimingUpdate),S.a.resetContentViewTimeout()})}generateRiverSections(){const{riverSections:e,emptyRiverMessage:t,contentExhausted:n,onChangeSize:i,manualPaginationEnabled:r,disablePagination:o}=this.props;return Array.isArray(e)&&0!==e.length?e.map((e,t)=>v.a.createElement(x,Object.assign({},e,{onChangeSize:i,key:t,shouldFocusOnUpdate:r&&!o}))):n?[v.a.createElement(a.a,Object.assign({key:"emptyRiverSection"},t))]:void 0}checkPaginationListeners(){!this.props.disablePagination&&!this.props.manualPaginationEnabled&&this.props.riverSections&&this.props.riverSections.length&&(this.sentinelObserver?(this.startObservingSentinel(),this.paginationAnimationFrameId&&cancelAnimationFrame(this.paginationAnimationFrameId),this.checkPaginationTimeout&&clearTimeout(this.checkPaginationTimeout),this.checkPaginationTimeout=setTimeout(()=>{this.sentinelInView&&(this.paginationAnimationFrameId=requestAnimationFrame(()=>{this.paginationAnimationFrameId=null,this.checkPaginationTimeout=null,this.checkPaginationCore()}))},100)):requestAnimationFrame(()=>{setTimeout(this.checkPagination,100)}))}startObservingSentinel(){this.observingSentinel||this.props.contentExhausted||(this.observingSentinel=!0,requestAnimationFrame(()=>{this.sentinelObserver.observe(this.paginationSentinelRef.current)}))}dependenciesDomComplete(e,t){e.setEnd(),t&&t(c.a.domComplete,void 0,e.getEnd())}addScrollObserver(){this.props.manualPaginationEnabled||(window.addEventListener("scroll",this.checkPagination,!1),requestAnimationFrame(()=>{setTimeout(this.checkPagination,100)})),j.a.contentRegionSizeChanged.registerObserver(e=>this.checkPagination())}addSentinelObserver(){window.removeEventListener("scroll",this.checkPagination,!1),this.sentinelObserver=new IntersectionObserver(this.onSentinelChange,{threshold:[0,1]}),this.observingSentinel=!1}}P.defaultProps={experienceName:p.a.river,riverSections:[]};var I=n("G82u");class A{}A.setSections=new I.a("SetSectionsSignature"),A.contentExhausted=new I.a("ContentExhausted");var k=n("bqTr"),M=n("D57K"),T=n("Jw3B"),E=n("plCa"),_=n("KaPL"),H=n("9l6q");const N={[_.a.None]:{columns:0,rows:0},[_.a.Size1Wx1H]:{columns:1,rows:1},[_.a.Size1Wx2H]:{columns:1,rows:2},[_.a.Size1Wx3H]:{columns:1,rows:3},[_.a.Size1Wx4H]:{columns:1,rows:4},[_.a.Size1Wx5H]:{columns:1,rows:5},[_.a.Size1Wx6H]:{columns:1,rows:6},[_.a.Size1Wx7H]:{columns:1,rows:7},[_.a.Size1Wx8H]:{columns:1,rows:8},[_.a.Size1Wx9H]:{columns:1,rows:9},[_.a.Size1Wx10H]:{columns:1,rows:10},[_.a.Size1Wx12H]:{columns:1,rows:12},[_.a.Size1Wx18H]:{columns:1,rows:18},[_.a.Size2Wx2H]:{columns:2,rows:2},[_.a.Size2Wx3H]:{columns:2,rows:3},[_.a.Size2Wx6H]:{columns:2,rows:6},[_.a.Size2Wx8H]:{columns:2,rows:8},[_.a.Size2Wx12H]:{columns:2,rows:12},[_.a.Size2Wx18H]:{columns:2,rows:18},[_.a.Size3Wx2H]:{columns:3,rows:3},[_.a.Size3Wx6H]:{columns:3,rows:6},[_.a.Size3Wx12H]:{columns:3,rows:12},[_.a.Size3Wx18H]:{columns:3,rows:18},[_.a.Size4Wx2H]:{columns:4,rows:3},[_.a.Size4Wx3H]:{columns:4,rows:3},[_.a.Size4Wx6H]:{columns:4,rows:6},[_.a.Size4Wx12H]:{columns:4,rows:12},[_.a.Size4Wx18H]:{columns:4,rows:18}};class L{static getColumnAndRowSpan(e){return N[e]}static getColumnPositionFromCardPositionBits(e){return H.a[H.a[e&H.a.ColumnMask]]}static getColumnPositionFromColumnNumber(e){return"number"==typeof e&&e%1==0&&e>0&&e<=L.MaxColumns?1<<e-1:void 0}static getRowPositionsFromCardPositionBits(e){const t=e&H.b.RowMask;return t&t-1?t===H.b.Any?H.b.Any:H.b.None:t}static getRowNumberFromCardPositionBits(e){const t=(e&H.b.RowMask)>>L.MaxColumns;return t&&0==(t&t-1)?Math.log2(t)+1:0}static getRowPositionBitFromRow(e){return e?e>H.b.RowMax?H.b.None:H.b.Row1<<e-1:H.b.Any}}L.MaxColumns=8,L.MaxRows=L.getRowNumberFromCardPositionBits(H.b.RowMax);var F,D=n("qTXI"),z=n("0dho");!function(e){e.CategoryRiverSections="CategoryRiverSections",e.DisplayAdsRiverSections="DisplayAdsRiverSections",e.LegacyRiverSections="LegacyRiverSections",e.OfficeNewsSections="OfficeNewsSections",e.OneColumnFullHeightRiverSections="OneColumnFullHeightRiverSections",e.OneColumnLegacyRiverSections="OneColumnLegacyRiverSections",e.OneColumnUnifiedMobileRiverSections="OneColumnUnifiedMobileRiverSections",e.OneColumnCategoryRiverSections="OneColumnCategoryRiverSections",e.OneColumnSuperAppRiverSections="OneColumnSuperAppRiverSections",e.FinanceThreeColumnRiverSections="FinanceThreeColumnRiverSections"}(F||(F={}));var W=n("NJ5d");const U={[D.a.Any]:null,[D.a.OneColumn]:T.a.c1,[D.a.TwoColumn]:T.a.c2,[D.a.ThreeColumn]:T.a.c3,[D.a.FourColumn]:T.a.c4,[D.a.FiveColumn]:T.a.c5},B=z.a.fiveColSupported();var $=n("H3ag"),G=n("2Mxw");class q{static getSectionTemplate(e,t,n,i,a,r,o,s,c,d,l,u){$.a.startMark("getRiverSectionTemplate");const h=t.length,p=h-n,g=i.length,b=o.length,f=c.length;if(p<=0&&d>=f&&a>=g)return{newTemplate:null};let C=q.tryGetSectionTemplate(e,0,t,n,i,a,r,o,s,c,d,l);if(C.newTemplate)return $.a.endMark("getRiverSectionTemplate"),C;$.a.singleMark("getRiverSectionTemplate-strict-failed");let v="";const S=g-a;if(S){v=", next:";i.slice(a,a+5).forEach(e=>{const{instanceId:t,supportedCardSizes:n,cardGridPosition:i}=e;v+=` [id: ${t} - s: ${n} p: ${JSON.stringify(i)}],`})}let y="";const O=f-d;if(O){y=", next:";c.slice(d,d+5).forEach(e=>{const{instanceId:t,supportedCardSizes:n,cardGridPosition:i}=e;y+=` [id: ${t} - s: ${n} p: ${JSON.stringify(i)}],`})}let x="";const w=b-s;if(w){x=", next:";o.slice(s,s+5).forEach(e=>{const{instanceId:t,supportedCardSizes:n,cardOrdinalPosition:i}=e;x+=` [id: ${t} - s: ${n} p: ${i}],`})}const j=` cards rendered: ${n}, remaining: ${h-n}; column-constrained cards rendered: ${a}, remaining: ${S}${v}; positioned cards rendered: ${d}, remaining: ${O}${y}; ordinal cards rendered: ${s}, remaining: ${w}${x}; template count: ${e.length}, column count: ${e[0].columnCount}`;if(C.positionedCardsTried&&(u?this.trackAppErrorHelper(m.rb,"Couldn't find a section template to satisfy the positioned and column-constrained cards. Trying again by forcing full height cards.",j):this.trackAppErrorHelper(m.sb,"Couldn't find a section template to satisfy the positioned and column-constrained cards. If there are content cards, we'll try to render them.",j)),p<=0)return{newTemplate:null};let R=0;if(C.positionedCardsTried&&!u){const t=e.length;for(;R<t&&!e[R].isFallback;)++R}return C=this.tryGetSectionTemplate(e,R,t,n,i,a,r,o,s,c,d,l,{useFullHeightCardFallback:u}),$.a.endMark("getRiverSectionTemplate"),C.newTemplate?C:(p>=e[0].columnCount&&(u?this.trackAppErrorHelper(m.tb,"Forcing fullheight cards did not work, and we have enough cards to render a full row. Rendering blank.",j):this.trackAppErrorHelper(m.oc.SkipPositionedCardsFallbackStrategyFailed,"Couldn't find an appropriate template despite skipping positioned and column constrained cards and having enough content cards for the columns.",j)),{newTemplate:null})}static tryGetSectionTemplate(e,t,n,i,a,r,o,s,c,d,l,u,h=null){const p=H.a.ColumnMask,g=H.b.RowMask,m=h&&h.useFullHeightCardFallback,b=!h||m;let f=!1;const C=e.length;for(;t<C;){const h=e[t++];let C=i,v=r,S=c,y=l,O=1+C+v+S+y,x=s[S],w=a[v],j=w&&w.cardGridPosition,R=j&&j.columnPosition,P=d[y],I=P&&P.cardGridPosition,A=I&&I.row-u;for(;P&&A<=0;)P=d[++y],I=P&&P.cardGridPosition,A=I&&I.row-u;let k=L.getRowPositionBitFromRow(A),M=I&&I.columnPosition|k;const T=[];if(h.cardTemplates.every(e=>{const t=e.virtualCardSize,i=e.virtualCardPosition;if(P)if((i&M)===i){if(f=!0,(!o||P.monetizationOption!==G.a.Monetization)&&q.tryAddChildCard(t,P,T))return P=d[++y],P&&(I=P&&P.cardGridPosition,k=I&&L.getRowPositionBitFromRow(I.row-u),M=I&&I.columnPosition|k),++O,!0;if(b)return!1}else if(b){const e=i&p,n=i&g,a=I.columnPosition;if(n<k||e<a){const i=L.getColumnAndRowSpan(t),r=e<<i.columns,o=n<<i.rows;for(let t=e;t<r;t<<=1)for(let e=n;e<o;e<<=1)if(t===a&&e===k)return f=!0,!1}}if(i&R){if(f=!0,w&&(!o||w.monetizationOption!==G.a.Monetization)&&q.tryAddChildCard(t,w,T))return++O,w=a[++v],j=w&&w.cardGridPosition,R=j&&j.columnPosition,!0;if(b)return!1}return x&&x.cardOrdinalPosition<=O&&(!o||x.monetizationOption!==G.a.Monetization)?!!q.tryAddChildCard(t,x,T)&&(++O,x=s[++S],!0):(++O,o=o||n[C]&&n[C].monetizationOption===G.a.NonMonetizable,q.tryAddChildCard(t,n[C++],T,m))}))return{newTemplate:h,sectionCards:T,nextCardIndex:C,nextColumnConstrainedCardIndex:v,nextOrdinalCardIndex:S,nextPositionedCardIndex:y,hasNonMonetizableContent:o}}return{newTemplate:null,positionedCardsTried:f}}static tryAddChildCard(e,t,n,i=!1){if(!t)return;let a=t.supportedCardSizes;return i&&a!==_.a.Size2Wx6H&&(a|=_.a.Size1Wx6H),e&a?(n.push(t),!0):void 0}static trackAppErrorHelper(e,t,n){S.a.sendAppErrorEvent(Object.assign(Object.assign({},e),{message:t,pb:Object.assign(Object.assign({},e.pb),{customMessage:n})}))}}var K,V=n("5p4t"),J=n("ffy4"),Z=n("rGfm"),Q=n("zfSW"),X=n("Z3LZ"),Y=n("+8mm");!function(e){e.OneService="OneService",e.WindowsShell="WindowsShell"}(K||(K={}));var ee=n("rPvf"),te=n("tMmC"),ne=n("zJcZ");class ie{constructor(e){this.config=e}fetch(e){return Object(M.b)(this,void 0,void 0,(function*(){let t,n=this.config.initialRequest;if(e&&(n=Object.assign(Object.assign({},n),e)),!e)try{t=JSON.parse(yield window.ShellFeedsApp.tryGetIDXContentAsync())}catch(e){window.ShellFeedsApp&&window.ShellFeedsApp.tryGetIDXContentAsync&&te.a.log("failed to get content from shell")}if(!t)return te.a.log("shell response provided no content, failing over to oneservice"),yield this.getOneServiceCardProvider().fetch(n);const{nextPageUrl:i,feedItems:a}=Array.isArray(t.subCards)?Object(ne.a)(t):t;if(!a)return te.a.log("shell response is invalid, failing over to oneservice"),yield this.getOneServiceCardProvider().fetch(n);let r;return a.length>=0&&(r=Object.assign(Object.assign({},n),{nextPageUrl:i,start:(n.start||0)+n.count})),{cardMetadata:a,nextPageRequest:r}}))}clearCache(){}getOneServiceCardProvider(){return this.oneServiceCardProvider?this.oneServiceCardProvider:this.oneServiceCardProvider=new ee.a(this.config)}}var ae=n("+djJ"),re=n("qg1f"),oe=n("Am8i");var se;(se||(se={})).inspect=function(e){const{state:t,config:n,connectorArgs:i}=e,a=[],r=function(e,t){let n,i;return e&&e.templateScreenConfigs&&e.templateScreenConfigs.length?(e.templateScreenConfigs.forEach(e=>{const a=e.gutterSize;if(a){if(e.screenWidth===D.a.Any)return void(n=a);U[e.screenWidth]===t&&(i=a)}}),i||n||24):24}(n.riverTemplateConfig,i.breakpointManager.currentColumnArrangement),o=[];t.riverSections.forEach(t=>{const i={gutterSize:r,useMsGrid:n.useMsGrid,sectionCards:[],sectionTemplate:t.sectionTemplate};t.sectionCards.forEach(t=>{const n={cardComponentInstance:e.children?e.children[t.instanceId]:null,instanceId:t.instanceId};n.cardComponentInstance||a.push({instanceId:t.instanceId,experienceType:t.experienceType}),i.sectionCards.push(n)}),i.gutterSize=r,i.useMsGrid=n.useMsGrid,o.push(i)});const s=i.telemetryObject?i.telemetryObject.addOrUpdateChild({name:"show more",type:oe.e.ActionButton}):null;return{props:{contentExhausted:t.contentExhausted,emptyRiverMessage:n.emptyRiverMessage,gutterSize:r,riverSections:o,manualPaginationEnabled:n.manualPaginationEnabled,manualPaginationText:n.localizedStrings&&n.localizedStrings.manualPaginationText?n.localizedStrings.manualPaginationText:n.manualPaginationText||"",paginationSentinelPositionFromBottomPx:Object(b.a)(n.paginationSentinelPositionFromBottom||500),disablePagination:n.disablePagination,breakpointManager:i.breakpointManager,onUserPaginate:i.onUserPaginate,onBreakpointChange:i.onBreakpointChange,onChangeSize:i.onChangeSize,showMoreTelemetry:s?s.render():null,reportDomComplete:i.reportDomComplete,domCompleteTrackingId:i.domCompleteTrackingId,designSystemOverrides:n.designSystemOverrides},missingChildren:a}};var ce=n("6UxA"),de=n("vhqU"),le=n("WfnD"),ue=n("l+Jz"),he=n("HDSB"),pe=n("C8K2");var ge=n("wKWo");class me{constructor(){this.subscribers=[],this.initialize()}get currentColumnArrangement(){return this.lastKnownColumnArrangement}subscribe(e){this.subscribers.push(e)}unsubscribe(e){Object(ge.a)(this.subscribers,e)}updateSubscribers(){const e=this.lastKnownColumnArrangement;this.subscribers.forEach(t=>t(e))}initialize(){const e=this,t=[{query:Object(T.c)(null,T.a.c2),columnArrangement:T.a.c2},{query:Object(T.d)(T.a.c3),columnArrangement:T.a.c3}];z.a.fiveColSupported()?t.push({query:Object(T.d)(T.a.c4),columnArrangement:T.a.c4},{query:Object(T.c)(T.a.c5,null),columnArrangement:T.a.c5}):t.push({query:Object(T.c)(T.a.c4,null),columnArrangement:T.a.c4}),t.forEach(t=>{window.matchMedia(t.query).matches&&(e.lastKnownColumnArrangement=t.columnArrangement)}),t.forEach(t=>{window.matchMedia(t.query).addListener(()=>{window.matchMedia(t.query).matches&&(e.lastKnownColumnArrangement=t.columnArrangement,e.updateSubscribers())})})}}let be;class fe extends le.a{constructor(e,t,n,i,a,r,o){super(e,t,n,i,a,r,o),this.arrangementToColumnCount={[T.a.c1]:1,[T.a.c2]:2,[T.a.c3]:3,[T.a.c4]:4,[T.a.c5]:5},this.isFetchingContent=!1,this.providerContentExhausted=!1,this.reportDomComplete=!1,this.ordinalRiverChildExperiences=new Map,this.positionedRiverChildExperiences=new Map,this.columnArrangementToConfigMap=new Map,this.cardProviders=new WeakMap,this.riverContentConnectorMap=new WeakMap,this.childReadinessCounterIndex=0,this.isInitialLoad=!0,this.onBreakpointChange=()=>{this.isInitialLoad?this.isInitialLoad=!1:(this.providerContentExhausted=!1,this.riverContentConnectors.size?this.updateFirstPage(!0):(this.contentResponse=null,this.fetchContentForFirstPage(!1).then(()=>{this.firstSectionResponse&&this.updateFirstPage()})))},this.onChangeSize=(e,t,n,i)=>{const a=this.childMap.get(e);a&&V.a.changeCardSize.getActionSender(a).send(t,n,i)},this.onUserPaginate=()=>{if(!this.firstSectionResponse)return;if(this.fetchingNextPageContent)return void(this.paginationPending=!0);const{riverSections:e,contentExhausted:t,cardCount:n,columnConstrainedCardCount:i,hasNonMonetizableContent:a,ordinalCardCount:r,positionedCardCount:o,rowCount:s}=this.getCurrentState(),{useFullHeightCardFallback:c}=this.config,d=this.getSectionTemplate(n,i,a,r,o,s,c);this.displayRiverPage(d,e,s,t)},this.onPerfMarkersReady=()=>{Object(he.a)()&&window.requestAnimationFrame(()=>{setTimeout(()=>{this.ttvrTimeout&&clearTimeout(this.ttvrTimeout),Object(ae.j)(p.a.river),this.parentVisualReadinessHandler&&this.parentVisualReadinessHandler(re.b.Ready);const e=Object(X.g)();e&&Y.a.updateVisuallyReadyTiming.getActionSender(e).send(Object(X.c)(p.a.river,void 0,void 0,void 0,window.performance.now()))},0)})},this.visuallyReadyComplete=()=>{this.markRiverTttvrStatus("sup")},this.visuallyReadyUnsupportedComplete=()=>{this.markRiverTttvrStatus("uns")},this.visuallyReadyTimeout=()=>{this.markRiverTttvrStatus("to")},this.markRiverTttvrStatus=e=>{Object(ae.k)(`${p.a.river}_${e}`),this.onPerfMarkersReady()},this.readinessCounter=new re.a(this.config.visualReadinessCounter||4,this.visuallyReadyComplete,this.visuallyReadyUnsupportedComplete),this.ttvrTimeout=setTimeout(this.visuallyReadyTimeout,this.config.onVisuallyReadyTimeoutMs||1e4),this.breakpointManager=this.config.useMediaBreakpointManager?(be||(be=new me),be):Object(E.a)(),this.oneServiceMetadataTypeToExperienceTypeMap=Object(J.b)(this.config.oneServiceMetadataTypeToExperienceTypeMapOverride),this.config.riverTemplateConfig=function(e){const t=e.riverTemplateConfig||{templateScreenConfigs:[]},n=e.gutterSize||pe.a;return t&&t.templateScreenConfigs&&t.templateScreenConfigs.length||(t.templateScreenConfigs=[{screenWidth:D.a.Any,templateTypes:[F.LegacyRiverSections],gutterSize:n}]),e.templateCategoryName&&!t.templateCategoryName&&(t.templateCategoryName=e.templateCategoryName),e.templateCategoryFiltersMap&&!t.templateCategoryFiltersMap&&(t.templateCategoryFiltersMap=e.templateCategoryFiltersMap),t.templateScreenConfigs.forEach(i=>{t.templateCategoryFiltersMap&&(i.templateTypes=[F.CategoryRiverSections]),e.singleColumnRiverTemplatesEnabled&&!i.templateTypes.includes(F.OneColumnLegacyRiverSections)&&i.templateTypes.push(F.OneColumnLegacyRiverSections),e.singleColumnFullHeightRiverTemplatesEnabled&&!i.templateTypes.includes(F.OneColumnFullHeightRiverSections)&&i.templateTypes.push(F.OneColumnFullHeightRiverSections),e.useDisplayAdsTemplates&&!i.templateTypes.includes(F.DisplayAdsRiverSections)&&i.templateTypes.unshift(F.DisplayAdsRiverSections),i.gutterSize||(i.gutterSize=n)}),t}(this.config)}mapStateToProps(e){const t={config:this.config,children:this.childComponentInstanceList,state:e,connectorArgs:{breakpointManager:this.breakpointManager,onUserPaginate:this.onUserPaginate,onBreakpointChange:this.onBreakpointChange,onChangeSize:this.onChangeSize,telemetryObject:this.telemetryObject,reportDomComplete:this.reportDomComplete,domCompleteTrackingId:this.namespace}},n=se.inspect(t);return Object.assign(Object.assign({},n.props),this.telemetryTags||{})}onComponentConnect(e){return Object(M.b)(this,void 0,void 0,(function*(){const t=le.a.prototype.onComponentConnect.call(this,e);Z.a.refreshRiver.registerObserver(()=>{this.refreshRiver()}),Z.a.repaintRiver.registerObserver(()=>{this.repaintRiver()}),this.initialProps=e;const{readinessCounter:n,readinessCounterIndex:i}=this.initialProps||{};this.parentVisualReadinessHandler=n&&n.tryCreateNotificationHandler(i);const a=this.canUseWebWorker();this.ordinalChildExperienceInfo=this.getOrdinalChildExperiences();const r=window.needsHydrate&&this.getCurrentState().feedServiceFirstSectionResponse;if(r)return yield t,void(yield this.hydrateFirstPage(r));Promise.all([this.getRiverSectionTemplates(),t,this.fetchContentForFirstPage(a)]).then(([e])=>{this.sectionTemplates=e,this.displayFirstPage()})}))}getPositionedChildExperiences(){const e=this.config,t=[];if(!e||!e.riverGridChildren||0===e.riverGridChildren.length)return t;const n=this.getGridObjectForCurrentBreakpoint(e.riverGridChildren);if(n){const e=this.arrangementToColumnCount[this.breakpointManager.currentColumnArrangement];n.children.forEach(n=>{const i=n.arrangement,a=i&&i.column;a&&a<=e&&t.push({configInfo:n.childExperienceConfigInfo,initialProps:{gridArrangement:i}})})}return t}getGridObjectForCurrentBreakpoint(e){switch(this.breakpointManager.currentColumnArrangement){case T.a.c1:return this.getGridByScreenWidth(D.a.OneColumn,e);case T.a.c2:return this.getGridByScreenWidth(D.a.TwoColumn,e);case T.a.c3:return this.getGridByScreenWidth(D.a.ThreeColumn,e);case T.a.c4:return this.getGridByScreenWidth(D.a.FourColumn,e);case T.a.c5:return this.getGridByScreenWidth(D.a.FiveColumn,e);default:return this.getGridByScreenWidth(D.a.FourColumn,e)}}revalidateExperienceStaleState(e){const t=Object.create(null,{revalidateExperienceStaleState:{get:()=>super.revalidateExperienceStaleState}});return Object(M.b)(this,void 0,void 0,(function*(){t.revalidateExperienceStaleState.call(this,e),e&&this.refreshRiver(!0,!0)}))}canUseWebWorker(){if(this.config.bypassWebWorkerCache)return!1;const e=this.initialProps&&this.initialProps.context;return!(e&&(e.feedId||e.query))&&Q.b&&!this.currentColumnOverrides}getGridByScreenWidth(e,t){return t.find(t=>t.screenWidth===e)}get cardProviderConfig(){const e=this.breakpointManager.currentColumnArrangement,t=this.currentColumnOverrides;if(!t)return this.config.cardProviderConfig;const n=this.columnArrangementToConfigMap.get(e);if(n)return n;const i=Object(ce.a)({},this.config.cardProviderConfig,t);return this.columnArrangementToConfigMap.set(e,i),i}get currentColumnOverrides(){return this.config.cardProviderConfigColumnOverrides&&this.config.cardProviderConfigColumnOverrides[this.breakpointManager.currentColumnArrangement]}refreshRiver(e=!1,t=!1){return Object(M.b)(this,void 0,void 0,(function*(){this.cardProvider.clearCache(),this.riverContentConnectors.clear(),this.firstSectionResponse=null,this.contentResponse=null,this.providerContentExhausted=!1,yield this.fetchContentForFirstPage(!1),this.firstSectionResponse&&this.displayFirstPage(),!e&&Z.a.riverRefreshed.getActionSender(this).send(),t&&this.repaintRiver(),S.a.sendPageView(null,!1)}))}getRiverSectionTemplates(){return Object(M.b)(this,void 0,void 0,(function*(){const{riverTemplateConfig:e}=this.config;return e.templateCategoryFiltersMap&&!e.templateCategoryName&&this.initialProps&&this.initialProps.context&&this.initialProps.context.canonicalName&&(e.templateCategoryName=this.initialProps.context.canonicalName),yield function(e){return Object(M.b)(this,void 0,void 0,(function*(){const t={[T.a.c1]:[],[T.a.c2]:[],[T.a.c3]:[],[T.a.c4]:[],[T.a.c5]:[]};if(!e||!e.templateScreenConfigs.length)return t;const n={[T.a.c1]:null,[T.a.c2]:null,[T.a.c3]:null,[T.a.c4]:null};B&&(n[T.a.c5]=null);const i={[F.CategoryRiverSections]:{},[F.DisplayAdsRiverSections]:{},[F.LegacyRiverSections]:{},[F.OfficeNewsSections]:{},[F.OneColumnFullHeightRiverSections]:{},[F.OneColumnLegacyRiverSections]:{},[F.OneColumnUnifiedMobileRiverSections]:{},[F.OneColumnCategoryRiverSections]:{},[F.OneColumnSuperAppRiverSections]:{},[F.FinanceThreeColumnRiverSections]:{}},a=[];e.templateScreenConfigs.forEach(e=>{const t=e.screenWidth;t===D.a.Any?Object.keys(n).forEach(t=>{n[t]||(n[t]=e)}):n[U[t]]=e,e.templateTypes.forEach(e=>{if(!i[e])return;const t=e&&i[e];t&&!t.fetched&&(t.fetched=!0,a.push(Object(W.getTemplateCollectionForType)(F[e]).then(e=>{t.collection=e})))})}),yield Promise.all(a);return Object.keys(n).forEach(a=>{n[a].templateTypes.forEach(n=>{if(!i[n])return;const r=n&&i[n];r&&!r.collection||t[a].push(...r.collection.getCollectionTemplates(T.a[a],e))})}),0===t[T.a.c1].length&&(t[T.a.c1]=t[T.a.c2]),B&&t[T.a.c5]&&0===t[T.a.c5].length&&(t[T.a.c5]=t[T.a.c4]),t}))}(e)}))}repaintRiver(){return Object(M.b)(this,void 0,void 0,(function*(){this.updateFirstPage(!0)}))}get riverContentConnectors(){const e=this.cardProviderConfig;let t=this.riverContentConnectorMap.get(e);return t||(t=new Map,this.riverContentConnectorMap.set(e,t),t)}get cardProvider(){const e=this.cardProviderConfig;let t=this.cardProviders.get(e);return t||(t=this.config.cardProviderName===K.WindowsShell?new ie(e):new ee.a(e),this.cardProviders.set(e,t),t)}fetchContentForFirstPage(e){return Object(M.b)(this,void 0,void 0,(function*(){let t=!1;const n=[],i=[];try{i.push(this.fetchContent(e).then(e=>{this.firstSectionResponse=e,n.push("content")},e=>{throw"Cancelled"===e&&(t=!0),e})),i.push(this.getPositionedChildConnectors(this.getPositionedChildExperiences()).then(()=>n.push("positioned"))),yield Promise.all(i),this.ordinalChildExperienceInfo=this.getOrdinalChildExperiences(),yield this.getOrdinalChildConnectors(0,0,0,0),n.push("ordinal")}catch(e){t||S.a.sendAppErrorEvent(Object.assign(Object.assign({},m.oc.InitialDataLoadError),{message:`Incomplete initial river data. Loaded parts: ${n.length?n:"None"}, Error: ${e}`}))}}))}updateManualPaginationState(){if(!this.config.manualPaginationEnabled)return;const{contentExhausted:e,cardCount:t,columnConstrainedCardCount:n,hasNonMonetizableContent:i,ordinalCardCount:a,positionedCardCount:r,rowCount:o}=this.getCurrentState(),{useFullHeightCardFallback:s}=this.config,c=this.getSectionTemplate(t,n,i,a,r,o,s),d=!c||!c.sectionCards;e!==d&&A.contentExhausted.getActionSender(this).send(d)}getSectionTemplate(e,t,n,i,a,r,o){const s=this.sectionTemplates&&this.sectionTemplates[this.breakpointManager.currentColumnArrangement];if(!s)return null;const c=this.getGridSectionCardsForExperiences(this.riverContentConnectors),{columnConstrainedRiverCardExperiences:d,positionedRiverCardExperiences:l}=this.getSortedPositionedCardExperiences(),u=this.getGridSectionCardsForExperiences(this.ordinalRiverChildExperiences);return o=void 0===o||o,q.getSectionTemplate(s,c,e,d,t,n,u,i,l,a,r,o)}displayFirstPage(){if(!this.firstSectionResponse)return;const{useFullHeightCardFallback:e}=this.config,t=this.getSectionTemplate(0,0,!1,0,0,0,e);t&&(this.displayRiverPage(t,[],0,!1,!1,this.firstSectionResponse),this.reportDomComplete=!0,t.sectionCards&&t.sectionCards.length&&t.sectionCards.forEach(e=>{Object(s.c)(this.namespace,{experienceNamespace:e.cardNamespace,experienceType:e.experienceType})}),this.readinessCounter.markNoNewHandlers(),Object(ae.k)("RiverFirstSection"))}updateFirstPage(e=!1){return Object(M.b)(this,void 0,void 0,(function*(){if(!this.firstSectionResponse)return;const{cardCount:t,columnConstrainedCardCount:n,ordinalCardCount:i,positionedCardCount:a,contentExhausted:r}=this.getCurrentState(),{useFullHeightCardFallback:o}=this.config;this.positionedRiverChildExperiences.clear();const s=this.getPositionedChildExperiences();yield this.getPositionedChildConnectors(s),this.ordinalRiverChildExperiences.clear(),this.ordinalChildExperienceInfo=this.getOrdinalChildExperiences(),yield this.getOrdinalChildConnectors(t,n,i,a);const c=this.getSectionTemplate(0,0,!1,0,0,0,o);this.displayRiverPage(c,[],0,r,e)}))}hydrateFirstPage(e){return Object(M.b)(this,void 0,void 0,(function*(){e&&(this.firstSectionResponse=this.contentResponse=e,yield Promise.all([this.getContentCardConnectors(e),this.getPositionedChildConnectors(this.getPositionedChildExperiences())]),yield this.getOrdinalChildConnectors(0,0,0,0),this.fetchNextPageContent(),this.onPerfMarkersReady())}))}displayRiverPage(e,t,n,i,a=!1,r=null){if(!e||!e.newTemplate)return void(0!==n&&!this.providerContentExhausted||this.isFetchingContent||i||A.contentExhausted.getActionSender(this).send(!0));const o=this.config.manualPaginationEnabled&&!e.sectionCards,{newTemplate:s,sectionCards:c,nextCardIndex:d,nextColumnConstrainedCardIndex:l,nextPositionedCardIndex:u,nextOrdinalCardIndex:h,hasNonMonetizableContent:p}=e,g={sectionTemplate:s,sectionCards:c};n+=s.templateVirtualRowCount;const m=[...t,g];A.setSections.getActionSender(this).send(m,d,l,h,u,n,p,o,r),this.initialProps&&this.initialProps.sectionAddedCallback&&this.initialProps.sectionAddedCallback(this.initialProps&&this.initialProps.context&&this.initialProps.context.feedId),a||this.isFetchingContent||this.hasSufficientCardsForPage()||o||(this.fetchingNextPageContent=!0,Object(X.l)().then(()=>Object(M.b)(this,void 0,void 0,(function*(){yield this.fetchNextPageContent(),this.fetchingNextPageContent=!1,this.paginationPending&&(this.paginationPending=!1,this.onUserPaginate())}))))}fetchNextPageContent(){return Object(M.b)(this,void 0,void 0,(function*(){yield this.fetchContent();const{cardCount:e,columnConstrainedCardCount:t,ordinalCardCount:n,positionedCardCount:i}=this.getCurrentState();yield this.getOrdinalChildConnectors(e,t,n,i),this.updateManualPaginationState()}))}getGridSectionCardsForExperiences(e){const t=[];return e.forEach((e,n)=>{t.push({cardNamespace:e.namespace,cardOrdinalPosition:e.ordinalPosition,experienceType:e.experienceType,instanceId:n,monetizationOption:e.monetizationOption,supportedCardSizes:e.supportedRiverCardSizes})}),t}hasSufficientCardsForPage(){const{cardCount:e}=this.getCurrentState();return!!this.config.disablePagination||this.riverContentConnectors.size>e+15}fetchContent(e=!1){return Object(M.b)(this,void 0,void 0,(function*(){if(this.providerContentExhausted)return;const t=yield this.getRiverContent(e);return yield this.getContentCardConnectors(t,e),t}))}getRiverContent(e=!1){return Object(M.b)(this,void 0,void 0,(function*(){const t=this.contentResponse,n=t&&t.nextPageRequest;if(!t||n){this.isFetchingContent=!0;try{let t;e?this.config.disableWaitForWebWorkerResponse?t=yield Promise.race([this.getFeedFromWebWorker(),this.getFeedFromCardProvider(n)]):(t=yield this.getFeedFromWebWorker(),t||(t=yield this.getFeedFromCardProvider(n))):t=yield this.getFeedFromCardProvider(n),t&&(this.contentResponse=t),this.config.superAppSkipInitialCards&&this.config.superAppSkipInitialCards>0&&(this.contentResponse.cardMetadata.splice(0,this.config.superAppSkipInitialCards),this.config.superAppSkipInitialCards=null),this.initialProps&&this.initialProps.getSessionIdCallback&&this.initialProps.getSessionIdCallback(t&&t.sessionId)}catch(n){S.a.sendAppErrorEvent(Object.assign(Object.assign({},m.oc.RiverContentProviderFetchException),{message:"River content provider fetch exception "+n,pb:Object.assign(Object.assign({},m.oc.RiverContentProviderFetchException.pb),{customMessage:`Config: ${this.configHref}, UseWebWorkerCache: ${e}, ContentResponse: ${JSON.stringify(t)}`})}))}finally{this.isFetchingContent=!1}return this.contentResponse}}))}getContentCardConnectors(e,t=!1){return Object(M.b)(this,void 0,void 0,(function*(){if(!e||!e.cardMetadata||!e.cardMetadata.length)return e&&e.cardMetadata&&!e.cardMetadata.length&&(this.providerContentExhausted=!0),[];const n=this.config,i=n&&n.childExperienceMap;if(!i)return S.a.sendAppErrorEvent(Object.assign(Object.assign({},m.oc.InvalidConfig),{message:"Invalid childExperienceMap in river",pb:Object.assign(Object.assign({},m.oc.InvalidConfig.pb),{customMessage:`Namespace: ${this.namespace}, ParentNamespace: ${this.parentNamespace}, configHref: '${this.configHref}'`})})),[];const a=[];e.cardMetadata.forEach(e=>{const n=this.oneServiceMetadataTypeToExperienceTypeMap[e.type];if(!n)return void S.a.sendAppErrorEvent(Object.assign(Object.assign({},m.oc.MissingExperienceTypeMap),{message:"Unable to map river card type to experience",pb:Object.assign(Object.assign({},m.oc.MissingExperienceTypeMap.pb),{customMessage:`Item type '${e.type}', configHref: '${this.configHref}', cardProviderConfig: '${JSON.stringify(this.config.cardProviderConfig)}'`})}));const r=i[n];r?a.push({configInfo:Object.assign(Object.assign({},r),{experienceType:n,instanceId:`river-${Object(de.a)()}-${n}`}),initialProps:{serviceContextMetadata:e,parentTelemetry:this.telemetryObject,readinessCounter:this.readinessCounter,readinessCounterIndex:this.childReadinessCounterIndex++,useWebWorkerCache:t,contentId:this.initialProps&&this.initialProps.contentId}}):S.a.sendAppErrorEvent(Object.assign(Object.assign({},m.oc.InvalidConfig),{message:"Unable to get river card config",pb:Object.assign(Object.assign({},m.oc.InvalidConfig.pb),{customMessage:`Item type '${e.type}', configHref: '${this.configHref}', cardProviderConfig: '${JSON.stringify(this.config.cardProviderConfig)}'`})}))}),yield Promise.all(a.map(e=>this.loadChildExperience(e.configInfo,e.initialProps)));const r=[],o=this.riverContentConnectors;return a.forEach(e=>{const t=e.configInfo.instanceId,n=this.childMap.get(t);this.tryValidateRiverChildConnector(n,t)&&(n.isExcluded||(r.push(n),o.set(t,n)))}),r}))}getOrdinalChildConnectors(e,t,n,i){return Object(M.b)(this,void 0,void 0,(function*(){if(!this.ordinalChildExperienceInfo)return;!this.ordinalRiverChildExperiences.size&&this.ordinalChildExperienceInfo.length&&this.ordinalChildExperienceInfo.forEach(e=>{const t=e.configInfo;if(!t)return;const n=t.instanceId;if(!n||!this.childMap.has(n))return;const i=this.childMap.get(n);this.ordinalRiverChildExperiences.set(n,i)});const a=t+i;let r=e+n+a+(this.riverContentConnectors.size-e)+(this.ordinalRiverChildExperiences.size-n)+(this.positionedRiverChildExperiences.size-a);const o=new Map,s=this.ordinalChildExperienceInfo.filter(e=>{const t=e.initialProps,n=t&&t.experienceArrangement,i=n&&n.startPosition;if(!i)return S.a.sendAppErrorEvent(Object.assign(Object.assign({},m.oc.InvalidConfig),{message:"Unable to get river card experience arrangement for ordinal child",pb:Object.assign(Object.assign({},m.oc.InvalidConfig.pb),{customMessage:`LoadInfo: ${JSON.stringify(e)}, configHref: '${this.configHref}'`})})),!1;const a=e.configInfo;return a?!(i>r)&&(o.has(a.instanceId)?(this.trackDuplicateInstanceId(a.instanceId,o.get(a.instanceId),i),!1):(o.set(a.instanceId,i),++r,!this.childMap.has(a.instanceId))):(S.a.sendAppErrorEvent(Object.assign(Object.assign({},m.oc.InvalidConfig),{message:"Unable to get river card config for ordinal child",pb:Object.assign(Object.assign({},m.oc.InvalidConfig.pb),{customMessage:`LoadInfo: ${JSON.stringify(e)}, configHref: '${this.configHref}'`})})),!1)}),c=s.map(e=>Object(M.b)(this,void 0,void 0,(function*(){const t=e.configInfo,n=e.initialProps;return n.parentTelemetry=this.telemetryObject,n.readinessCounter=this.readinessCounter,this.initialProps&&this.initialProps.contentId&&(n.contentId=this.initialProps.contentId),this.loadChildExperience(t,n)})));yield Promise.all(c),s.forEach(e=>{const t=e.configInfo.instanceId,n=this.childMap.get(t);this.tryValidateRiverChildConnector(n,t)&&(n.ordinalPosition=e.initialProps.experienceArrangement.startPosition,this.ordinalRiverChildExperiences.set(t,n))})}))}updateCardPosition(e,t){if(!e||!t)return;const{gridArrangement:n,experienceArrangement:i}=t;e.gridPosition=this.getCardPositionFromConfigPosition(n),e.ordinalPosition=n&&n.ordinalPosition||i&&i.startPosition}getPositionedChildConnectors(e){return Object(M.b)(this,void 0,void 0,(function*(){const t=e.map(e=>{const t=e.configInfo;if(!t)return void S.a.sendAppErrorEvent(Object.assign(Object.assign({},m.oc.InvalidConfig),{message:"Unable to get river card config for positioned child",pb:Object.assign(Object.assign({},m.oc.InvalidConfig.pb),{customMessage:`LoadInfo: ${JSON.stringify(e)}, configHref: '${this.configHref}'`})}));if(this.childMap.has(t.instanceId))return;const n=e.initialProps;return n.parentTelemetry=this.telemetryObject,n.readinessCounter=this.readinessCounter,n.context=this.initialProps&&this.initialProps.context,this.loadChildExperience(t,n)});yield Promise.all(t),e.forEach(e=>{const t=e.configInfo.instanceId,n=this.childMap.get(t);if(!this.tryValidateRiverChildConnector(n,t))return;const i=e.initialProps,a=i&&i.gridArrangement;a||!a.column?(this.positionedRiverChildExperiences.set(t,n),this.updateCardPosition(n,i)):S.a.sendAppErrorEvent(Object.assign(Object.assign({},m.oc.ChildLoadError),{message:"River child instance id does not have a valid grid position",pb:Object.assign(Object.assign({},m.oc.ChildLoadError.pb),{customMessage:"LoadInfo: "+JSON.stringify(e)})}))})}))}getCardPositionFromConfigPosition(e){if(!e)return;const t=L.getColumnPositionFromColumnNumber(e.column);return t?{columnPosition:t,row:e.row}:void 0}getSortedPositionedCardExperiences(){const e=[],t=[],n={};return this.positionedRiverChildExperiences.forEach((i,a)=>{const r=i.gridPosition,o=r.row,s=r.columnPosition;if(!i.supportedRiverCardSizes)return;const c={cardNamespace:i.namespace,cardGridPosition:r,cardOrdinalPosition:i.ordinalPosition,monetizationOption:i.monetizationOption,instanceId:a,supportedCardSizes:i.supportedRiverCardSizes};if(o){const e=`${s},${o}`;n[e]||(n[e]=!0,t.push(c))}else e.push(c)}),t.sort((e,t)=>{const{cardGridPosition:n}=e,{cardGridPosition:i}=t,{columnPosition:a,row:r}=n,{columnPosition:o,row:s}=i;return r===s?a-o:r-s}),{columnConstrainedRiverCardExperiences:e,positionedRiverCardExperiences:t}}tryValidateRiverChildConnector(e,t){return e?null!==e.supportedRiverCardSizes||(S.a.sendAppErrorEvent(Object.assign(Object.assign({},m.oc.ChildLoadError),{message:`River child instance id '${t}' does not have a valid card size`,pb:Object.assign(Object.assign({},m.oc.ChildLoadError.pb),{customMessage:`Child type: ${e.experienceType}, Child configHref: ${e.configHref}, Namespace: ${this.namespace}`})})),!1):(S.a.sendAppErrorEvent(Object.assign(Object.assign({},m.oc.ChildLoadError),{message:`Unable to find child connector for instance id '${t}'`,pb:Object.assign(Object.assign({},m.oc.ChildLoadError.pb),{customMessage:`Namespace: ${this.namespace}, ParentNamespace: ${this.parentNamespace}`})})),!1)}getFeedFromWebWorker(){const e=!(!this.config.templateCategoryFiltersMap||!this.config.templateCategoryFiltersMap.myFeed),t=this.config.wwFetchTimeoutInMs||1e3;return new Promise(n=>{Object(Q.a)({id:e?ue.a.StripeMyFeed:ue.a.MyFeed},t).then(e=>{const t=e.payload;if(!e.fetched||!t)return void(this.config.disableWaitForWebWorkerResponse||n());const i=this.config.cardProviderConfig.initialRequest,a=Object.assign(Object.assign({},i),{start:(i.start||0)+i.count,nextPageUrl:t.nextPageUrl||null});n({cardMetadata:t.feedItems,nextPageRequest:a,sessionId:t.sessionId})})})}getFeedFromCardProvider(e){const t=this.cardProvider,n=e||this.initialProps&&this.initialProps.context;return new Promise((i,a)=>Object(M.b)(this,void 0,void 0,(function*(){const r=yield t.fetch(n);t!==this.cardProvider?(e||a("Cancelled"),i()):i(r)})))}trackDuplicateInstanceId(e,t,n){S.a.sendAppErrorEvent(Object.assign(Object.assign({},m.oc.DuplicateInstanceIdWarning),{message:"Instance id appears multiple times in river config",pb:Object.assign(Object.assign({},m.oc.DuplicateInstanceIdWarning.pb),{customMessage:`instanceId: ${e}, startPosition: ${t}, duplicate startPosition: ${n}`})}))}}var Ce=n("05Au");class ve{constructor(){}reduce(e,t){if(!e)return{cardCount:0,columnConstrainedCardCount:0,contentExhausted:!1,hasNonMonetizableContent:!1,ordinalCardCount:0,positionedCardCount:0,riverSections:[],rowCount:0};if(!t)return e;let n;return Ce.a.handleAction(t,A.setSections,(t,i,a,r,o,s,c,d,l=null)=>{n=Object.assign(Object.assign({},e),{riverSections:t,cardCount:i,columnConstrainedCardCount:a,hasNonMonetizableContent:c,ordinalCardCount:r,positionedCardCount:o,rowCount:s,contentExhausted:d}),l&&(n.feedServiceFirstSectionResponse=l)}),Ce.a.handleAction(t,A.contentExhausted,t=>{e.contentExhausted!==t&&(n=Object.assign(Object.assign({},e),{contentExhausted:t}))}),n||e}}const Se={river:{position:"relative"},riverAutoPagination:{"min-height":"100vh"},riverSections:{position:"relative"},paginationSentinel:{bottom:"0",position:"absolute",width:"100%","z-index":""+n("0fst").a.Below}};var ye=n("xaDv"),Oe=n("PVsn"),xe=n("RNO0");const we=Object(O.a)(Se)(P),je={reactComponent:we,experienceConfigSchema:k.RiverConfigSchema,mockState:xe.mockState,mockConfig:ye.mockConfig,mockConnectorArgs:Oe.mockConnectorArgs,inspector:se.inspect}},"WsQ+":function(e,t){},XG5Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i,a=n("G82u");!function(e){e.LikeCard="LikeCard",e.UnlikeCard="UnlikeCard",e.DislikeCard="DislikeCard",e.UndislikeCard="UndislikeCard",e.SaveCard="SaveCard",e.UnsaveCard="UnsaveCard",e.HideCard="HideCard",e.UnhideCard="UnhideCard"}(i||(i={}));class r{}r.LikeCard=new a.a(i.LikeCard),r.UnlikeCard=new a.a(i.UnlikeCard),r.DislikeCard=new a.a(i.DislikeCard),r.UndislikeCard=new a.a(i.UndislikeCard),r.SaveCard=new a.a(i.SaveCard),r.UnsaveCard=new a.a(i.UnsaveCard),r.HideCard=new a.a(i.HideCard),r.UnhideCard=new a.a(i.UnhideCard),r.MutePublisher=new a.a("MutePublisher"),r.ServiceError=new a.a("CardActionServiceError"),r.Init=new a.a("Init"),r.DisableMenu=new a.a("DisableMenu"),r.ProviderIconAvailable=new a.a("ProviderIconAvailable"),r.UnshowToast=new a.a("UnshowToast"),r.Report=new a.a("Report"),r.AdChoice=new a.a("AdChoice")},XXDZ:function(e,t){},Xbrc:function(e,t,n){"use strict";var i=n("fz//"),a=n("3ZGc"),r=n("iuMt"),o=n("rRWH"),s=n("SP+O"),c=n("LD6M"),d=n("QhQn"),l=n("7b0X"),u=n("zP2P"),h=n("MF9s"),p=n("ZEO0"),g=n("objN");const m={flipper:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Object(p.c)()),{width:Object(u.d)(),height:Object(u.d)(),display:"inline-flex","justify-content":"center","align-items":"center",margin:"0",position:"relative",fill:s.c,color:s.c,background:"transparent",border:"none",padding:"0","&::before":Object.assign({transition:"all 0.1s ease-in-out",content:"''",opacity:"0.8",background:c.c,border:Object(i.a)("{0} solid {1}",Object(a.a)(h.U),d.c),"border-radius":"50%",position:"absolute",top:"0",right:"0",bottom:"0",left:"0"},g.h),"&:active":{"&::before":{background:c.a,"border-color":d.a}},"&:hover":{"&::before":Object.assign({background:c.b,"border-color":d.b},g.p),"& $flipper_glyph":Object.assign({},g.B)}}),Object(r.a)({"&::before":{"box-shadow":Object(i.a)("0 0 0 1px {0} inset",l.a),border:l.a}})),{"&::-moz-focus-inner":{border:"0"}}),g.x),flipper_glyph:{position:"relative",transform:Object(o.c)("none","rotate(180deg)"),width:u.b,height:u.b},flipper__next:{},flipper__previous:{}};t.a=m},Y9OI:function(e,t){},YZCi:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Backfill="Backfill",e.CMSNativeAd="CMSNativeAd"}(i||(i={}))},Ysry:function(e,t,n){"use strict";n.r(t),n.d(t,"RiverPlaceholder",(function(){return c})),n.d(t,"RiverPlaceholderConnector",(function(){return m})),n.d(t,"RiverPlaceholderReducer",(function(){return b})),n.d(t,"ToolingInfo",(function(){return C}));var i=n("73ct"),a=n("5mwN"),r=n("lWfA"),o=n("ERkP"),s=n.n(o);class c extends a.a{constructor(e){super(e),this.handledProps=Object.assign(Object.assign({},a.b),{childExperience:void 0})}render(){return super.render(),s.a.createElement(r.a,null,this.props.childExperience)}}c.defaultProps={experienceName:"RiverPlaceholder"};var d=n("Mm8i"),l=n("D57K"),u=n("2Mxw"),h=n("KaPL"),p=n("WfnD");const g={inspect:e=>{const{children:t}=e;let n=null;for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){n=t[e];break}return{props:{childExperience:n},missingChildren:null}}};class m extends p.a{onComponentConnect(e){return Object(l.b)(this,void 0,void 0,(function*(){if(p.a.prototype.onComponentConnect.call(this,e),this.config.disableExperience)return void(this.supportedRiverCardSizes=h.a.None);this.monetizationOption=this.config.isMonetizationPlaceholder&&u.a.Monetization,this.supportedRiverCardSizes=this.config.supportedRiverCardSizes;const t=[this.config.childExperienceConfigInfo];yield this.loadChildrenExperiences(t,e)}))}mapStateToProps(e){const t={config:this.config,children:this.childComponentInstanceList,state:e};return g.inspect(t).props}}class b{reduce(e,t){return e||{}}}var f=n("2QEW");const C={reactComponent:c,experienceConfigSchema:d.RiverPlaceholderConfigSchema,defaultMockState:i.mockDefaultState,mockState:i.mockState,mockConfig:f.mockConfig,inspector:g.inspect}},"Z/Ea":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("G82u");const a={setLoadState:new i.a("SetLoadState"),setOpen:new i.a("SetOpen")}},"bPP+":function(e,t){},bqTr:function(e,t){},c1hv:function(e,t,n){"use strict";function i(e,t){return(e&t)===t}function a(e){return e&&e[0]}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},cMsr:function(e,t,n){"use strict";n.r(t),n.d(t,"MyBriefRiverCard",(function(){return Ae})),n.d(t,"MyBriefRiverCardActions",(function(){return ne})),n.d(t,"MyBriefRiverCardConnector",(function(){return ye})),n.d(t,"MyBriefRiverCardReducer",(function(){return we})),n.d(t,"ToolingInfo",(function(){return ke}));var i,a,r=n("+viU"),o=n("gQ8m"),s=n("5mwN"),c=n("Fao1"),d=n("e0li"),l=n("lWfA"),u=n("XI4f"),h=n("mwRD"),p=n("ygW+"),g=n("0SLC"),m=n("OnwC"),b=n("y2Il"),f=n("o1qX"),C=n("ERkP"),v=n.n(C),S=n("FPTP"),y=n("yR4y");!function(e){e[e._1=1]="_1",e[e._2=2]="_2",e[e._3=3]="_3",e[e._4=4]="_4",e[e._5=5]="_5",e[e._6=6]="_6",e[e._7=7]="_7"}(i||(i={})),function(e){e.h1="h1",e.h2="h2",e.h3="h3",e.h4="h4",e.h5="h5",e.h6="h6",e.p="p"}(a||(a={}));class O extends m.a{constructor(){super(...arguments),this.handledProps={size:void 0,managedClasses:void 0,tag:void 0}}get size(){switch(this.props.size){case i._1:return b.a._3;case i._2:return b.a._4;case i._3:return b.a._5;case i._4:return b.a._6;case i._5:return b.a._7;case i._6:return b.a._8;case i._7:return b.a._9}}render(){return v.a.createElement(S.a,Object.assign({},this.unhandledProps(),{tag:b.b[this.props.tag],size:this.size,className:this.generateClassNames()}),this.props.children)}generateClassNames(){const e=this.props.managedClasses;return super.generateClassNames(Object(f.a)(e.subheading,e["subheading__"+this.props.size]))}}O.defaultProps={size:i._1,tag:a.h3,managedClasses:{}},O.displayName=y.a+"Subheading";var x=O;const w=Object(r.a)(g.a)(x);var j=n("LOMp"),R=n("wirn"),P=n("YJhp"),I=n("AxnZ"),A=n("0fst"),k=n("rRWH");const M={container:{left:Object(k.c)("230px","auto"),position:"absolute",right:Object(k.c)("auto","230px"),top:"30px",width:"306px"},hintIcon:{cursor:"pointer",padding:"4px 4px 0px 0px"},navLink:{height:"19px"}},T=e=>({dialog_positioningRegion:{left:"auto",overflow:"visible","z-index":""+A.a.Dialog,position:"absolute"},dialog_contentRegion:{padding:"16px","box-sizing":"border-box",display:"flex","flex-direction":"column","justify-content":"space-between",outline:"none"}}),E=e=>({button:{background:"transparent",height:"24px",left:Object(k.c)("auto","4px"),"min-width":"auto",position:"absolute",right:Object(k.c)("4px","auto"),top:"4px",width:"24px","z-index":""+A.a.Neutral},button_contentRegion:{"& svg":{height:"12px",width:"12px"}}});var _=n("9tDq"),H=n("qGiF"),N=n("Gy7L"),L=n("vhqU");class F extends m.a{constructor(){super(...arguments),this.handledProps={isVisible:void 0,localizedStrings:void 0,managedClasses:void 0,onClickNav:void 0,onClickReadingHistory:void 0,onToggleVisible:void 0},this.rootRef=v.a.createRef(),this.render=()=>v.a.createElement("div",{ref:this.rootRef},this.renderDialogButton(),this.renderDialog()),this.renderDialogButton=()=>{const{managedClasses:e}=this.props;return v.a.createElement(h.a,{onClick:this.handleToggle},v.a.createElement(H.a,null,t=>v.a.createElement(R.a,{fill:Object(u.a)(t),className:e.hintIcon,glyphType:P.b.Information})))},this.renderDialog=()=>{const{isVisible:e,managedClasses:t}=this.props;return v.a.createElement(p.a,{className:t.container,modal:!1,onDismiss:this.handleToggle,visible:e,id:"HintDialog",contentHeight:"initial",contentWidth:"306px",jssStyleSheet:T,onKeyDown:this.handleKeyDown},this.renderCloseButton(),this.renderHeading(),this.renderBody())},this.renderCloseButton=()=>v.a.createElement(h.a,{jssStyleSheet:E,onClick:this.handleToggle},v.a.createElement(_.a,null)),this.renderHeading=()=>{const{localizedStrings:{hintDialogHeadingText:e}}=this.props;return v.a.createElement(c.a,{size:d.a._6},e)},this.renderBody=()=>{const{localizedStrings:{hintDialogBodyText:e,hintDialogInterestsNavText:t,hintDialogReadingHistoryNavText:n},onClickNav:a,onClickReadingHistory:r}=this.props;return v.a.createElement(w,{size:i._5},Object(I.a)(e,this.getNavElem(t,a),this.getNavElem(n,r)))},this.getNavElem=(e,t)=>{const{managedClasses:n}=this.props;return v.a.createElement(j.a,{className:n.navLink,onClick:t,key:Object(L.a)()},e)},this.handleKeyDown=e=>{e.keyCode===N.h&&this.handleToggle()},this.handleOutsideClick=e=>{const t=e.target;(t instanceof HTMLElement||t instanceof SVGElement)&&this.rootRef.current.contains(t)||this.handleToggle()},this.handleToggle=()=>{const{isVisible:e,onToggleVisible:t}=this.props;e?document.removeEventListener("mousedown",this.handleOutsideClick):document.addEventListener("mousedown",this.handleOutsideClick),t()}}}const D=Object(r.a)(M)(F);var z=n("pCrc"),W=n("xDbA"),U=n("NS3c"),B=n("wUxM"),$=n("fIer"),G=n("Fpjf"),q=n("CiAa"),K=n("scFN"),V=n("mObi");class J extends m.a{constructor(){super(...arguments),this.handledProps={articleCard:void 0,managedClasses:void 0,onClickActionMenu:void 0,onHideSuccess:void 0,articleTelemetryTag:void 0,buttonTelemetryTag:void 0},this.render=()=>{const{managedClasses:e,onClick:t}=this.props;return v.a.createElement("div",{className:e.container,onClick:t},this.renderContent(),this.renderFooter())},this.renderContent=()=>{const{articleCard:{images:e,url:t,title:n},managedClasses:i}=this.props;let a;if(e&&e.length>0){a={src:Object(G.c)(e[0].url,{width:48,height:48,focalRegion:e[0].focalRegion,enableDpiScaling:!0}),alt:n}}return v.a.createElement("div",{className:i.contentContainer},v.a.createElement(q.default,Object.assign({target:"_blank",href:t,className:i.title},this.props.articleTelemetryTag),v.a.createElement(c.a,{size:d.a._7},n)),a&&v.a.createElement(z.a,Object.assign({},a,{className:i.imageClass})))},this.renderFooter=()=>{const{articleCard:{provider:e,publishedDateTime:t},managedClasses:n}=this.props;return v.a.createElement("div",{className:n.footer},v.a.createElement("span",{className:n.attributionContainer},e&&e.name&&v.a.createElement("span",{className:n.attribution},e.name),e&&e.name&&t&&v.a.createElement("span",{className:n.attributionSeparator},"Â·"),t&&v.a.createElement("span",null,this.getPublishedTimeDiff()(t))),v.a.createElement("span",{className:n.actionMenuContainer},v.a.createElement(W.a,Object.assign({appearance:U.a.stealth,onClick:this.handleActionMenuClick},this.props.buttonTelemetryTag),v.a.createElement(H.a,null,e=>v.a.createElement(K.a,{fill:Object(u.a)(e)})))))},this.getPublishedTimeDiff=()=>Object(V.a)(e=>{if(!e)return;let t=(Date.now()-new Date(e).getTime())/1e3/60;return t<60?Math.floor(t)+"m":(t/=60,t<24?Math.floor(t)+"h":(t/=24,Math.floor(t)+"d"))}),this.handleActionMenuClick=e=>{const{articleCard:{actions:t,id:n,locale:i,provider:a,title:r,url:o},onClickActionMenu:s,onHideSuccess:c}=this.props,d=t?{Like:t.indexOf(B.b.Like)?$.a.Like:$.a.None,Hide:-1!==t.indexOf(B.b.HideStory),Save:-1!==t.indexOf(B.b.Save)}:{Like:$.a.None,Hide:!1,Save:!1};s({article:{headlineTitle:r,href:o,id:n,image:null,provider:{id:a&&a.id,name:a&&a.name,image:{alt:a&&a.name,src:a&&a.logoUrl}}},buttonElement:e.currentTarget,cardStatus:d,enabled:!0,locale:i,onHideSuccess:c,useTelemetryTags:!0})}}}var Z=n("SP+O");const Q={actionMenuContainer:{color:u.a,"z-index":"2"},attribution:{overflow:"hidden","white-space":"nowrap"},attributionContainer:{"& > div":{overflow:"hidden"},color:u.a,display:"flex","max-width":"180px"},attributionSeparator:{margin:"0 3px"},container:{position:"relative"},contentContainer:{display:"flex"},footer:{"align-items":"center",display:"flex","font-size":"12px",height:"17px","justify-content":"space-between","line-height":"16px"},imageClass:{"border-radius":"2px",height:"48px !important","padding-top":"3px",width:"48px !important"},title:{"&::after":{bottom:"0",content:"''",left:"0",position:"absolute",right:"0",top:"0","z-index":"1"},"&:hover, &:focus":{outline:"none","text-decoration":"underline"},color:Z.c,height:"60px",margin:"0px 10px 8px 0px",overflow:"hidden","text-decoration":"none"}},X=Object(r.a)(Q)(J);var Y=n("Am8i");class ee extends s.a{constructor(){super(...arguments),this.handledProps=Object.assign(Object.assign({},s.b),{articles:void 0,children:void 0,customField:void 0,experienceName:void 0,height:void 0,hintDialogProps:void 0,localizedStrings:void 0,managedClasses:void 0,onClickActionMenu:void 0,onClickHint:void 0,onExperienceMilestoneTimingUpdate:void 0,onHideSuccess:void 0,requestContext:void 0,tag:void 0,width:void 0,riverCardTelemetryObject:void 0}),this.renderHeader=()=>{const{localizedStrings:{headingText:e},managedClasses:t}=this.props;return v.a.createElement("div",{className:t.headingContainer},v.a.createElement(c.a,{className:t.title,size:d.a._6},e),this.renderDialog())},this.renderBody=()=>{const{articles:e,managedClasses:t}=this.props;if(e)return v.a.createElement("ol",{className:t.body},e.map(this.renderArticle))},this.renderArticle=e=>{const{onClickActionMenu:t,onHideSuccess:n,riverCardTelemetryObject:i}=this.props,a=i?i.addOrUpdateChild({name:"MyBriefRiverCardArticle",behavior:Y.b.Navigate,content:{id:e.id,brand:e.provider?e.provider.name:"",headline:e.title},destinationUrl:e.url,feed:{id:e.feed?e.feed.id:""}}).render():null,r=i?i.addOrUpdateChild({name:"MyBriefRiverCardEllipsis",behavior:Y.b.More}).render():null;return v.a.createElement("li",{key:e.id},v.a.createElement(X,{articleCard:e,onClickActionMenu:t,onHideSuccess:n,articleTelemetryTag:a,buttonTelemetryTag:r}))},this.renderDialog=()=>{const{hintDialogProps:e}=this.props;return v.a.createElement(D,Object.assign({},e))}}render(){super.render();const{height:e,managedClasses:t,tag:n,width:i}=this.props;return v.a.createElement(l.a,Object.assign({},this.unhandledProps(),{className:t.myBriefRiverCardContainer,height:e,tag:n,width:i}),this.renderHeader(),this.renderBody())}}ee.defaultProps={experienceName:"MyBriefRiverCard"};var te=n("G82u");class ne{}ne.contentHasLoaded=new te.a("ContentHasLoaded"),ne.toggleHintDialog=new te.a("ToggleHintDialog");var ie=n("WsQ+"),ae=n("D57K"),re=n("XG5Y"),oe=n("/tlR"),se=n("9J8d"),ce=n("rGfm"),de=n("zfSW"),le=n("3ZGc");const ue={inspect:e=>{const{config:t,state:n,connectorArgs:i}=e,{localizedStrings:a}=t,{articles:r,height:o,width:s}=n,{onClickActionMenu:c,onClickHint:d,onHideSuccess:l,riverCardTelemetryObject:u}=i;return{props:{articles:r,height:Object(le.a)(o),hintDialogProps:{isVisible:n.isHintDialogVisible,localizedStrings:a,onToggleVisible:i&&i.onClickHint,onClickNav:i&&i.onClickInterestsNav,onClickReadingHistory:i&&i.onClickReadingHistory},localizedStrings:a,onClickActionMenu:c,onClickHint:d,onHideSuccess:l,width:Object(le.a)(s),riverCardTelemetryObject:u},missingChildren:[]}}};var he=n("C4R5"),pe=n("l+Jz"),ge=n("KaPL"),me=n("WfnD"),be=n("s9+9"),fe=n("+qLX"),Ce=n("w0HK"),ve=n("HxRh"),Se=n("u5KZ");class ye extends me.a{constructor(e,t,n,i,a,r){super(e,t,n,i,a,r),this.supportedRiverCardSizes=ge.a.Size1Wx9H,this.fetchContent=e=>Object(ae.b)(this,void 0,void 0,(function*(){const t=[this.dailyBriefServiceClient.getDailyBriefArticles(8)];this.canUseWebWorker()&&!e&&t.push(this.fetchContentFromWebWorker());const n=yield Promise.race(t);n&&n.length?(ne.contentHasLoaded.getActionSender(this).send(n.slice(0,4)),this.extraArticles=n.slice(4).filter(e=>!this.hiddenArticles.some(t=>t===e.id))):Se.a.sendAppErrorEvent(Object.assign(Object.assign({},ve.Kb),{message:"Briefing call returned an empty or null response",pb:Object.assign(Object.assign({},ve.Kb.pb),{customMessage:"Attempting to make the initial service call for My Briefing"})}))})),this.fetchContentFromWebWorker=()=>new Promise(e=>{Object(de.a)({id:pe.a.MyBriefing},1e3).then(t=>{const n=t.payload;t.fetched&&n&&e(n)})}),this.onClickActionMenu=e=>{re.b.Init.getGlobalActionSender().send(e)},this.onClickHint=()=>{ne.toggleHintDialog.getActionSender(this).send()},this.onClickInterestsNav=()=>{this.handleInterestsNavigation()},this.onClickReadingHistory=()=>{this.handleInterestsNavigation(!0)},this.onHideSuccess=e=>Object(ae.b)(this,void 0,void 0,(function*(){this.hiddenArticles.push(e);let t=this.getCurrentState().articles;if(t)return(!this.extraArticles||this.extraArticles.length<1)&&(yield this.fetchExtraContent(t)),t=t.map(t=>t.id!==e?t:this.extraArticles&&this.extraArticles.length?this.extraArticles.shift():void 0).filter(e=>!!e),ne.contentHasLoaded.getActionSender(this).send(t),0===this.extraArticles.length?this.fetchExtraContent(t):void 0;this.fetchContent(!0)})),this.fetchExtraContent=e=>Object(ae.b)(this,void 0,void 0,(function*(){const t=yield this.dailyBriefServiceClient.getDailyBriefArticles(8);t&&t.length?this.extraArticles=t.filter(t=>!this.hiddenArticles.some(e=>e===t.id)&&!e.some(e=>e.id===t.id)):Se.a.sendAppErrorEvent(Object.assign(Object.assign({},ve.Kb),{message:"Briefing call returned an empty or null response",pb:Object.assign(Object.assign({},ve.Kb.pb),{customMessage:"Attempting to get extra articles for My Briefing"})}))})),this.handleInterestsNavigation=(e=!1)=>{const{interestPivotInfo:t}=this.config,n={isRequestForReadingHistory:e};this.useRouter?Object(he.d)().pushHistory(he.b.Personalize,"",n):t?Object(Ce.a)().switchPivot({pivotId:t.pivotId,configIndexHref:t.configIndexHref,telemetryPageName:fe.a.Interests,display:t.displayName,context:n}):Se.a.sendAppErrorEvent(Object.assign(Object.assign({},ve.Lb),{message:"Interest Pivot Info config option is missing",pb:Object.assign(Object.assign({},ve.Lb.pb),{customMessage:"Config: "+JSON.stringify(this.config)})}))},this.canUseWebWorker=()=>de.b,this.dailyBriefServiceClient=new oe.a,this.hiddenArticles=[]}mapStateToProps(e){const t={config:this.config,children:this.childComponentInstanceList,state:e,connectorArgs:{onClickActionMenu:this.onClickActionMenu,onClickHint:this.onClickHint,onClickInterestsNav:this.onClickInterestsNav,onClickReadingHistory:this.onClickReadingHistory,onHideSuccess:this.onHideSuccess,riverCardTelemetryObject:this.telemetryObject}},n=ue.inspect(t);return Object.assign(Object.assign({},n.props),this.telemetryTags)}onComponentConnect(e){return Object(ae.b)(this,void 0,void 0,(function*(){me.a.prototype.onComponentConnect.call(this,e),ce.a.refreshRiver.registerObserver(()=>this.fetchContent(!0)),this.fetchContent(!1);const t=se.a.getInstance().rootReducer.connector(be.a.SharedState);this.useRouter=t&&t.getCurrentState().useHistory}))}}var Oe=n("05Au"),xe=n("5p4t");class we{reduce(e,t){if(!e)return{articles:[],isHintDialogVisible:!1};if(!t)return e;let n,i=!1;return i=i||Oe.a.handleAction(t,ne.contentHasLoaded,t=>{n=Object.assign(Object.assign({},e),{articles:t})}),i=i||Oe.a.handleAction(t,ne.toggleHintDialog,()=>{n=Object.assign(Object.assign({},e),{isHintDialogVisible:!e.isHintDialogVisible})}),i=i||Oe.a.handleAction(t,xe.a.changeCardSize,(t,i,a)=>{e.height===a&&e.width===i||(n=Object.assign(Object.assign({},e),{height:a,width:i}))}),n||e}}var je=n("zeXT"),Re=n("odxL");const Pe={body:{"& li":{"&::before":{color:Z.c,content:"counter(step-counter)'.'","font-size":"12px","line-height":"16px","margin-right":"12px","padding-top":"3px"},"counter-increment":"step-counter",display:"flex"},display:"flex","flex-direction":"column",height:"calc(100% - 60px)","justify-content":"space-between","list-style-type":"none",margin:"18px 0px 0px 0px",padding:"0px"},date:{color:u.a,display:"inline"},headingContainer:{"border-bottom":"1px solid","border-color":je.a,display:"flex",height:"42px","justify-content":"space-between",position:"relative"},myBriefRiverCardContainer:{"box-sizing":"border-box",padding:"16px",overflow:"visible"},title:{color:Re.c,display:"inline"}};var Ie=n("/o8t");const Ae=Object(r.a)(Pe)(ee),ke={reactComponent:Ae,experienceConfigSchema:ie.MyBriefRiverCardConfigSchema,defaultMockState:o.mockDefaultState,mockState:o.mockState,mockConfig:Ie.mockConfig,inspector:ue.inspect}},egFJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("8AuO"),a=n("+viU"),r=n("0NrY");const o=Object(a.a)(r.a)(i.a)},fIer:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.None="none",e.Like="like",e.DisLike="dislike"}(i||(i={}))},ffy4:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p}));var i=n("Zn5T"),a=n("LJMo");const{complexContentPreview:r,contentPreview:o,infopane:s,externalContentPreview:c,spotlightPreview:d,tabbedInfopane:l,tabbedInfopaneTabPreview:u}=i.a,h={[a.a.Article]:o,[a.a.Slideshow]:o,[a.a.Video]:o,[a.a.Spotlight]:d,[a.a.Infopane]:s,[a.a.HalfPane]:r,[a.a.HeadToHead]:r,[a.a.Mosaic]:r,[a.a.Triptych]:r,[a.a.DenseList]:r,[a.a.WebContent]:c,[a.a.ExternalLink]:c,[a.a.TabbedInfopane]:l,[a.a.TabbedInfopaneTab]:u};function p(e){if(!e)return h;const t=Object.assign({},h);for(const n in e)void 0!==t[n]&&Object.values(i.a).includes(e[n])&&(t[n]=e[n]);return t}},gQ8m:function(e,t){},ggrA:function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var i=n("+viU"),a=n("7FLv"),r=n("8yfO"),o=n("MF9s"),s=n("mDtb"),c=n("XI4f"),d=n("SP+O"),l=n("objN"),u=n("PfRV"),h=n("LD6M"),p=n("3ZGc"),g=n("AuhI"),m=n("fz//"),b=n("rRWH"),f=n("iuMt"),C=n("DOGQ");const v={display:"inline-flex","align-items":"center"};var S={contentCard:{position:"relative",overflow:"hidden",display:"flex","flex-direction":"column","&:hover":Object.assign(Object.assign({},Object(a.b)(a.a.e6)),{"& $contentCard_headingContent":{"text-decoration":"underline"},"& $contentCard_image":{opacity:".9"}})},contentCard_positioningRegion:{height:"100%",display:"flex","flex-direction":"column"},contentCard_abstract:Object.assign(Object.assign({position:"relative","margin-top":"6px","min-height":Object(p.a)(9*r.h.t7.lineHeight)},Object(g.a)(9,r.h.t7.lineHeight)),{"&::after":{"box-shadow":Object(m.a)("inset 0 -20px 30px 0 {0}",o.k),margin:"0 -20px",width:"calc(100% + 40px)",height:"60px"}}),contentCard_attributionRegion:Object.assign(Object.assign({},v),{"box-sizing":"border-box","align-self":"flex-end",padding:`8px ${Object(p.a)(16)} ${Object(p.a)(16)}`,width:"100%","max-height":Object(p.a)(42)}),contentCard_attribution:{"& + $contentCard_timestamp":{"& > span":{"margin-left":Object(b.c)("6px",""),"margin-right":Object(b.c)("","6px")}}},contentCard_timestamp:Object.assign(Object.assign(Object.assign(Object.assign({},Object(r.d)("t8")),Object(s.c)()),v),{color:c.a}),contentCard_contentRegion:{display:"flex","flex-direction":"row","flex-wrap":"wrap","align-content":"flex-start",padding:`${Object(p.a)(12)} ${Object(p.a)(16)} 0`,"max-height":`calc(100% - ${Object(p.a)(42)})`},contentCard_heading:Object.assign({display:"block","text-decoration":"none",transition:"all .2s ease-in-out",width:"100%","&::after":{top:"0",right:"0","z-index":"1"}},Object(f.a)("& $contentCard_headingContent",{"text-decoration":"underline"})),contentCard_headingContent:Object.assign({},Object(s.d)()),contentCard_imageRegion:{position:"relative",display:"inline-flex","align-self":"flex-start",background:Object(d.c)(()=>C.b)},contentCard_image:{opacity:"1"},contentCard_icon:Object.assign({width:"24px",height:"24px",fill:C.b},l.o),contentCard_iconWrapper:Object.assign(Object.assign({position:"absolute"},v),{width:"48px",height:"48px","justify-content":"center","border-radius":"50%",background:"rgba(0,0,0,0.4)","margin-left":Object(b.c)("12px",""),"margin-right":Object(b.c)("","12px"),bottom:"8px"}),contentCard_kicker:Object.assign({position:"relative",overflow:"auto",display:"flex","margin-bottom":"4px","z-index":"2","text-decoration":"none",background:"none",border:"none",padding:"0","font-family":"inherit","&:hover":{"& $contentCard_kickerContent":{"text-decoration":"underline"}}},Object(f.a)("& $contentCard_kickerContent",{"text-decoration":"underline"})),contentCard_kickerRegion:{display:"grid","grid-template-columns":"1fr auto",width:"100%"},contentCard_curatedBy:{"margin-left":Object(b.c)("auto",""),"margin-right":Object(b.c)("","auto"),"max-height":"20px"},contentCard_kickerContent:{color:c.a,transition:"all .2s ease-in-out"},contentCard_actionIcon__trigger:{"box-sizing":"border-box"},contentCard_menuGlyph:{},contentCard__hideHeadingHover:{"&:hover":{"& $contentCard_headingContent":{"text-decoration":"none"}}},contentCard__imagePriority:{},contentCard_actionRegion:{display:"inline-flex",position:"absolute",right:Object(b.c)(Object(p.a)(16),""),left:Object(b.c)("",Object(p.a)(16)),bottom:"8px","z-index":"2","flex-grow":"1","justify-content":"flex-end"},contentCard_actionIcon:{height:"32px",width:"32px","margin-left":Object(b.c)("4px",""),"margin-right":Object(b.c)("","4px")},contentCard__1x_1y:{"& $contentCard_positioningRegion":{"flex-direction":"row"},"& $contentCard_contentRegion":{flex:"1"},"& $contentCard_imageRegion":{order:"2","margin-top":Object(p.a)(16),"margin-right":Object(b.c)(Object(p.a)(16),""),"margin-left":Object(b.c)("",Object(p.a)(16))},"& $contentCard_iconWrapper":{width:"32px",height:"32px","margin-right":Object(b.c)("8px",""),"margin-left":Object(b.c)("","8px")},"& $contentCard_icon":{width:"16px",height:"16px"},"& $contentCard_imageRegion, & $contentCard_image":Object.assign({},Object(u.b)())},contentCard__1x_2y:{},contentCard__1x_3y:{},contentCard_obscuredRegion:{"&::after":{content:'""',position:"absolute",bottom:"0",left:"0"}},contentCard__2x_2y:{"& $contentCard_imageRegion":{position:"absolute","&::after":{background:Object(m.a)("linear-gradient(0deg, {0} 0, transparent 100%)",()=>C.a),height:"190px",width:"100%"},"& + $contentCard_contentRegion":{position:"static","margin-top":"auto","& $contentCard_headingContent":{color:C.b},"& $contentCard_kicker, & $contentCard_curatedBy":{position:"absolute",top:"24px",left:Object(b.c)("24px",""),right:Object(b.c)("","24px")},"& $contentCard_iconWrapper":{"border-color":C.b},"& $contentCard_icon":{fill:C.b}}},"& $contentCard_curatedBy":{"margin-left":Object(b.c)("0",""),"margin-right":Object(b.c)("","0")},"& $contentCard_iconWrapper":{display:"inline-block",bottom:"auto",background:"none",width:"auto",height:"30px","border-radius":"0","border-left":Object(b.c)("2px solid",""),"border-right":Object(b.c)("","2px solid"),"border-color":d.c,position:"relative","vertical-align":"middle"},"& $contentCard_icon":{"margin-left":Object(b.c)("10px",""),"margin-right":Object(b.c)("","10px"),display:"block","margin-top":"2px"},"& $contentCard_contentRegion":{"z-index":"1"},"& $contentCard_attributionRegion":{position:"relative",padding:`${Object(p.a)(12)} ${Object(p.a)(16)} ${Object(p.a)(26)}`},"& $contentCard_actionIcon__trigger":{bottom:"18px"},"&$contentCard__imagePriority":{"& $contentCard_attributionRegion":{"& $contentCard_timestamp, & $contentCard_attribution > span":{color:C.b}},"& $contentCard_actionIcon":Object.assign(Object.assign(Object.assign({"background-color":"transparent"},l.f),{"& $contentCard_menuGlyph":Object.assign({fill:C.b},l.o),"&:hover":Object.assign(Object.assign({"background-color":Object(h.b)(()=>C.a)},l.p),{"& $contentCard_menuGlyph":Object.assign({},l.B)}),"&:active":{background:Object(h.a)(()=>C.a)}}),Object(f.a)(Object.assign(Object.assign({"background-color":Object(h.b)(()=>C.a),"border-color":C.b,"box-shadow":Object(m.a)("inset 0 0 0 1px {0}",()=>C.b)},l.p),{"& $contentCard_menuGlyph":Object.assign({},l.B)})))}}},y=n("ERkP"),O=n.n(y),x=n("OnwC"),w=n("egFJ"),j=n("FPTP"),R=n("idb7"),P=n("4YCp"),I=n("uhNu"),A=n("mwRD"),k=n("y2Il"),M=n("U6fx"),T=n("CiAa"),E=n("gQ7Y"),_=n("scFN"),H=n("Gcx/"),N=n("L+J7"),L=n("XJ1h"),F=n("mObi"),D=n("o1qX"),z=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n};class W extends x.a{constructor(e){super(e),this.handledProps={abstract:void 0,attribution:void 0,curatedBy:void 0,destination:void 0,icon:void 0,heading:void 0,headingMaxLines:void 0,height:void 0,image:void 0,imagePriority:void 0,kicker:void 0,layout:void 0,likeIcon:void 0,managedClasses:void 0,menuTrigger:void 0,saveIcon:void 0,timestamp:void 0,width:void 0},this.handleSecondaryActionHover=()=>{this.setState({hideHeadingHover:!this.state.hideHeadingHover})},this.handleMenuTriggerClick=e=>{Object(L.a)(this.props.menuTrigger)||"function"!=typeof this.props.menuTrigger.onInvoke||this.props.menuTrigger.onInvoke(e)},this.state={hideHeadingHover:!1}}render(){return O.a.createElement(w.a,Object.assign({},this.generateAttributes(),{className:this.generateClassNames(),tag:this.props.tag}),O.a.createElement("div",{className:Object(D.a)(this.props.managedClasses.contentCard_positioningRegion)},this.renderImage(),this.renderContentArea()),this.renderAttributionRegion())}generateClassNames(){const{contentCard:e,contentCard__imagePriority:t,contentCard__hideHeadingHover:n}=this.props.managedClasses,i=this.props.imagePriority||this.props.layout===H.a._2x_2y&&!!this.props.image;return super.generateClassNames(Object(D.a)(e,[this.getClassNameByLayout(),!!this.props.layout],[t,i],[n,this.state.hideHeadingHover]))}generateAttributes(){const e=Object.assign({},this.unhandledProps());return Object.assign(Object.assign({},e),{style:Object.assign(Object.assign({},e.style),{height:this.props.height,width:this.props.width})})}getClassNameByLayout(){const{contentCard__1x_1y:e,contentCard__1x_2y:t,contentCard__1x_3y:n,contentCard__2x_2y:i}=this.props.managedClasses;switch(this.props.layout){case H.a._1x_2y:return t;case H.a._1x_3y:return n;case H.a._2x_2y:return i;case H.a._1x_1y:default:return e}}renderImage(){const{contentCard_imageRegion:e,contentCard_obscuredRegion:t,contentCard_image:n}=this.props.managedClasses;if("function"==typeof this.props.image)return O.a.createElement("div",{className:Object(D.a)(e,t)},this.props.image(Object(D.a)(n)),this.props.layout!==H.a._2x_2y?this.generateIcon():null)}renderContentArea(){return O.a.createElement("div",{className:this.props.managedClasses.contentCard_contentRegion},this.renderKickerRegion(),this.renderHeading(),this.renderAbstract())}renderKickerRegion(){if(this.props.kicker||"function"==typeof this.props.curatedBy)return O.a.createElement("div",{className:this.props.managedClasses.contentCard_kickerRegion},this.renderKicker(),this.renderCuratedBy())}renderHeading(){if(!this.props.heading)return;const e=this.getHeadingProps(),{children:t,jssStyleSheet:n}=e,i=z(e,["children","jssStyleSheet"]),{contentCard_heading:a,contentCard_obscuredRegion:r,contentCard_headingContent:o}=this.props.managedClasses;return O.a.createElement(T.default,Object.assign({},this.props.destination,{className:Object(D.a)(a,r)}),O.a.createElement(j.a,Object.assign({},i,{jssStyleSheet:W.generateHeadingMaxlines(i.size,this.props.headingMaxLines),className:Object(D.a)(o)}),t,this.props.layout===H.a._2x_2y?this.generateIcon():null))}renderAbstract(){if(!this.props.abstract||this.props.imagePriority||this.props.layout===H.a._1x_2y&&this.props.image)return;const{contentCard_abstract:e,contentCard_obscuredRegion:t}=this.props.managedClasses;return O.a.createElement(R.a,Object.assign({},this.getAbstractProps(),{className:Object(D.a)(e,t)}))}renderKicker(){if(!this.props.kicker)return;const e=this.props.kicker,{children:t}=e,n=z(e,["children"]),{contentCard_kicker:i,contentCard_kickerContent:a}=this.props.managedClasses;return O.a.createElement(E.default,Object.assign({},n,{className:Object(D.a)(i),onMouseEnter:this.handleSecondaryActionHover,onMouseLeave:this.handleSecondaryActionHover}),O.a.createElement(P.a,{className:Object(D.a)(a),filled:!1,size:I.a.small},t))}renderCuratedBy(){if("function"==typeof this.props.curatedBy)return this.props.curatedBy(this.props.managedClasses.contentCard_curatedBy)}renderAttributionRegion(){return O.a.createElement("div",{className:Object(D.a)(this.props.managedClasses.contentCard_attributionRegion)},this.renderAttribution(),this.renderTimestamp(),this.renderActionRegion())}renderAttribution(){if(this.props.attribution)return O.a.createElement(N.a,Object.assign({},this.props.attribution,{className:Object(D.a)(this.props.managedClasses.contentCard_attribution)}))}renderTimestamp(){if(this.props.timestamp)return O.a.createElement("span",{className:Object(D.a)(this.props.managedClasses.contentCard_timestamp)},this.props.attribution?O.a.createElement("span",null,"â€¢"):null,O.a.createElement("span",null,this.props.timestamp))}renderActionRegion(){if(!this.props.saveIcon&&!this.props.likeIcon&&!this.props.menuTrigger)return;const{contentCard_actionRegion:e,contentCard_actionIcon:t,contentCard_saveIcon:n,contentCard_likeIcon:i}=this.props.managedClasses,a="function"==typeof this.props.saveIcon&&this.props.saveIcon(Object(D.a)(t,n)),r="function"==typeof this.props.likeIcon&&this.props.likeIcon(Object(D.a)(t,i));return O.a.createElement("div",{className:Object(D.a)(e),onMouseEnter:this.handleSecondaryActionHover,onMouseLeave:this.handleSecondaryActionHover},a,r,this.renderMenuTrigger())}renderMenuTrigger(){if(this.props.menuTrigger){const e=this.props.menuTrigger,{label:t,onInvoke:n}=e,i=z(e,["label","onInvoke"]),{contentCard_menuGlyph:a,contentCard_actionIcon:r,contentCard_actionIcon__trigger:o,contentCard_menuTrigger:s}=this.props.managedClasses;return O.a.createElement(A.a,Object.assign({},i,{"aria-label":t,className:Object(D.a)(r,o,s),onClick:this.handleMenuTriggerClick}),O.a.createElement(_.a,{className:Object(D.a)(a)}))}}generateIcon(){if("function"==typeof this.props.icon){const{contentCard_icon:e,contentCard_iconWrapper:t}=this.props.managedClasses;return O.a.createElement("span",{className:Object(D.a)(t)},this.props.icon(Object(D.a)(e)))}}getHeadingProps(){const e=this.props.layout!==H.a._1x_1y?k.a._5:this.props.image?k.a._7:k.a._6;return Object.assign({},{size:e},this.props.heading)}getAbstractProps(){return Object.assign({},{size:M.a._3},this.props.abstract)}}W.defaultProps={height:"163px",width:"300px",layout:H.a._1x_1y,managedClasses:{},headingMaxLines:3},W.displayName="ContentCard",W.generateHeadingMaxlines=Object(F.a)((e,t)=>({typography:Object.assign(Object.assign({},Object(g.a)(t,r.h["t"+e].lineHeight)),{"white-space":"normal",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":t})}),(...e)=>e.join());var U=W;const B=Object(i.a)(S)(U)},"h/k5":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.horizontal="horizontal",e.vertical="vertical"}(i||(i={}))},hxZq:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return b}));var i=n("pAXR"),a=n("k3mM"),r=n("rvYQ"),o=n("zfSW"),s=n("s9+9"),c=n("HxRh"),d=n("9J8d"),l=n("u5KZ"),u=n("l+Jz"),h=n("tWvP");const p="cbypass";function g(){const e=d.a.getInstance().rootReducer.connector(s.a.OneServiceContent);if(!e)return void(l.a&&l.a.sendAppErrorEvent(c.Rb.FailedToUpdateBypassValueConnectorNotInitialized));const t=Date.now();return Object(h.a)(p,t.toString(),10/1440,r.a.HostPage.topDomain,"/"),i.a.updateCacheBypassValue.getActionSender(e).send(t),a.b.purgeCacheAsync(a.a.river).then(()=>{Object(o.c)({id:u.a.UpdateMyFeed,payload:t})})}function m(){const e=d.a.getInstance().rootReducer.connector(s.a.OneServiceContent);return e?e.getCurrentState().cacheBypassValue:0}function b(e){const t=m();t>0&&e.searchParams.set(p,t.toString())}},"iou+":function(e,t,n){"use strict";var i,a,r=n("OnwC"),o=n("h/k5"),s=n("Gy7L"),c=n("o1qX"),d=n("r6MD"),l=n("ERkP"),u=n.n(l),h=n("eGM7"),p=n("z49O"),g=n("34rd"),m=n("u4M6"),b=n("BAt3");n.o(b,"AutoSuggestContext")&&n.d(t,"AutoSuggestContext",(function(){return b.AutoSuggestContext})),n.o(b,"ButtonDirection")&&n.d(t,"ButtonDirection",(function(){return b.ButtonDirection})),n.o(b,"ProgressType")&&n.d(t,"ProgressType",(function(){return b.ProgressType})),n.o(b,"RadioSlot")&&n.d(t,"RadioSlot",(function(){return b.RadioSlot})),function(e){e[e.first=0]="first",e[e.last=1]="last",e[e.previous=2]="previous",e[e.next=3]="next"}(i||(i={})),function(e){e.tab="tab",e.tabItem="tab-item",e.tabPanel="tab-panel"}(a||(a={}));class f extends r.a{constructor(e){if(super(e),this.handledProps={activeId:void 0,disableTabFocus:void 0,label:void 0,managedClasses:void 0,onUpdate:void 0,orientation:void 0,tabItemSlot:void 0,tabPanelSlot:void 0,tabSlot:void 0,items:void 0},this.renderTabItem=(e,t)=>this.props.items?this.getChildrenBySlot(e.props.children,this.getSlot(a.tab))[0]:u.a.cloneElement(this.getChildrenBySlot(e.props.children,this.getSlot(a.tab))[0],{key:e.props.id,"aria-controls":e.props.id,active:this.state.activeId===e.props.id,onClick:this.handleClick,onKeyDown:this.handleKeyDown,tabIndex:this.state.activeId!==e.props.id?-1:0}),this.renderTabPanel=(e,t)=>this.props.items?this.getChildrenBySlot(e.props.children,this.getSlot(a.tabPanel))[0]:u.a.cloneElement(this.getChildrenBySlot(e.props.children,this.getSlot(a.tabPanel))[0],{key:e.props.id,id:e.props.id,"aria-labelledby":e.props.id,active:this.state.activeId===e.props.id}),this.handleClick=e=>{this.props.activeId?"function"==typeof this.props.onUpdate&&this.props.onUpdate(e.currentTarget.getAttribute("aria-controls")):this.setState({activeId:e.currentTarget.getAttribute("aria-controls")})},this.handleKeyDown=e=>{const t=e.keyCode;if(this.props.orientation===o.a.horizontal)switch(t){case s.c:e.preventDefault(),this.activateTab(i.previous);break;case s.d:e.preventDefault(),this.activateTab(i.next)}else switch(e.keyCode){case s.e:e.preventDefault(),this.activateTab(i.previous);break;case s.b:e.preventDefault(),this.activateTab(i.next)}switch(t){case s.i:this.activateTab(i.first);break;case s.f:this.activateTab(i.last)}},this.getCurrentIndexById=e=>e.props.id===this.state.activeId,this.tabListRef=u.a.createRef(),this.props.items)this.state={activeId:""};else{const e=u.a.Children.toArray(this.tabItems());this.state={activeId:this.props.activeId?this.props.activeId:e.length>0?Object(d.a)(e[0],"props.id"):""}}}static getDerivedStateFromProps(e,t){return e.activeId&&e.activeId!==t.activeId?{activeId:e.activeId}:null}render(){const e=this.renderTabElements(),{tabs_tabList:t,tabs_tabPanels:n}=this.props.managedClasses;return u.a.createElement("div",Object.assign({},this.unhandledProps(),{className:this.generateClassNames()}),u.a.createElement("div",{role:"tablist",ref:this.tabListRef,className:Object(c.a)(t),"aria-label":this.props.label,"aria-orientation":this.props.orientation},e),u.a.createElement("div",{className:Object(c.a)(n)},this.renderTabPanels()),this.withoutSlot(a.tabItem,this.props.children))}componentDidUpdate(e){if("string"==typeof this.props.activeId&&this.props.activeId!==e.activeId&&!0!==this.props.disableTabFocus){const e=u.a.Children.toArray(this.tabItems()).findIndex(this.getCurrentIndexById);-1!==e&&Array.from(this.tabListRef.current.children)[e].focus()}}generateClassNames(){return super.generateClassNames(Object(c.a)(this.props.managedClasses.tabs))}generateTabContentClassNames(){return Object(c.a)(this.props.managedClasses.tabs_tabContent)}generateTabPanelContentClassNames(){return Object(c.a)(this.props.managedClasses.tabs_tabPanelContent)}generateTabClassNames(){const{tab:e,tab__active:t}=this.props.managedClasses;return{managedClasses:{tab:Object(c.a)(e),tab__active:Object(c.a)(t)}}}generateTabPanelClassNames(){const{tabPanel:e,tabPanel__hidden:t}=this.props.managedClasses;return{managedClasses:{tabPanel:Object(c.a)(e),tabPanel__hidden:Object(c.a)(t)}}}renderTabElements(){return u.a.Children.map(this.tabItems(),this.renderTabItem)}setActive(e,t){return this.state.activeId?this.state.activeId===e.id:0===t}tabItems(){return this.props.items?this.props.items.map((e,t)=>u.a.createElement(g.default,{key:e.id,id:e.id,slot:a.tabItem},u.a.createElement(p.default,Object.assign({},this.generateTabClassNames(),{slot:a.tab,key:e.id,"aria-controls":e.id,active:this.setActive(e,t),onClick:this.handleClick,onKeyDown:this.handleKeyDown,tabIndex:this.setActive(e,t)?0:-1}),e.tab(this.generateTabContentClassNames())),u.a.createElement(m.default,Object.assign({},this.generateTabPanelClassNames(),{slot:a.tabPanel,key:e.id,id:e.id,"aria-labelledby":e.id,active:this.setActive(e,t)}),e.content(this.generateTabPanelContentClassNames())))):this.getChildrenBySlot(this.props.children,this.getSlot(a.tabItem))}renderTabPanels(){return u.a.Children.map(this.tabItems(),this.renderTabPanel)}activateTab(e){const t=u.a.Children.toArray(this.tabItems()),n=t.length,a=u.a.Children.toArray(t).findIndex(this.getCurrentIndexById);let r;switch(e){case i.first:r=0;break;case i.last:r=n-1;break;case i.previous:r=a>0?a-1:n-1;break;case i.next:r=a<n-1?a+1:0}const o=Object(d.a)(t[r],"props.id");this.props.activeId?"function"==typeof this.props.onUpdate&&this.props.onUpdate(o):(this.setState({activeId:o}),Array.from(this.tabListRef.current.children)[r].focus())}getSlot(e){switch(e){case a.tab:return"string"==typeof this.props.tabSlot?this.props.tabSlot:a.tab;case a.tabItem:return"string"==typeof this.props.tabItemSlot?this.props.tabItemSlot:a.tabItem;case a.tabPanel:return"string"==typeof this.props.tabPanelSlot?this.props.tabPanelSlot:a.tabPanel}}getChildrenBySlot(e,t){const n=this.filterChildren(this.withSlot(t,e));return t!==this.getSlot(a.tabItem)?n:u.a.Children.map(n,e=>this.isValidTabItem(e)?e:null)}filterChildren(e){return Array.isArray(e)?e.filter(Boolean):e}isValidTabItem(e){const t=Object(d.a)(e,"props.children");return!!this.getChildrenBySlot(t,this.getSlot(a.tab))[0]&&!!this.getChildrenBySlot(t,this.getSlot(a.tabPanel))[0]}}f.defaultProps={orientation:o.a.horizontal,disableTabFocus:!1,managedClasses:{}},f.displayName=h.DisplayNamePrefix+"Tabs",t.default=f},kpPY:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r}));n("nwjK");function i(e,...t){return e.replace(/{(\d+)}/g,(function(e,n){if(n>=t.length)return e;const i=t[n];return"number"==typeof i||i?i:""}))}function a(e,t,n=0){return!(!e||!t)&&e.substr(n,t.length)===t}function r(e){return!e||!e.trim()}},lWfA:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("egFJ"),a=n("OnwC"),r=n("ERkP"),o=n.n(r),s=n("mObi");class c extends a.a{constructor(){super(...arguments),this.handledProps={children:void 0,height:void 0,managedClasses:void 0,width:void 0,tag:void 0}}render(){const{width:e,height:t}=this.props;return o.a.createElement(i.a,Object.assign({},this.unhandledProps(),{className:this.generateClassNames(this.props.managedClasses.cardBase),jssStyleSheet:c.generateStyles(e,t),tag:this.props.tag}),this.props.children)}}c.generateStyles=Object(s.a)((e,t)=>({card:{width:e,height:t}}),(...e)=>e.join());var d=c,l=n("+viU");var u={cardBase:{}};const h=Object(l.a)(u)(d)},mfUY:function(e,t,n){"use strict";n.r(t),n.d(t,"CMSAdType",(function(){return r.a})),n.d(t,"PlacementManagerActions",(function(){return s.a})),n.d(t,"PlacementManagerConnector",(function(){return he})),n.d(t,"PlacementManagerReducer",(function(){return ge})),n.d(t,"PlacementManagerConst",(function(){return a.d})),n.d(t,"MockTemplateData",(function(){return a.c})),n.d(t,"mockConfig",(function(){return o.mockConfig})),n.d(t,"ToolingInfo",(function(){return me})),n.d(t,"UniqueSettingsKey",(function(){return a.f})),n.d(t,"StripeTopicMap",(function(){return ce.b}));var i,a=n("C0IM"),r=n("YZCi"),o=n("FIr4"),s=n("2ATS"),c=n("Ak5j"),d=n("D57K"),l=n("1w6q"),u=n("9J8d"),h=n("9Vdd"),p=n("Bwzq"),g=n("rvYQ"),m=n("I6Lx"),b=n("hOj1"),f=n("y+Kz"),C=n("loKy"),v=n("w0HK"),S=n("tWvP"),y=n("s9+9"),O=n("ypwz"),x=n("4wjP"),w=n("HxRh"),j=n("+djJ"),R=n("Fpjf"),P=n("ADRF"),I=n("aHCm");!function(e){e.SlideshowPreview="ss",e.ArticlePreview="ar",e.VideoPreview="vi"}(i||(i={}));var A=n("u5KZ"),k=n("KETb");class M{constructor(e){this.connector=e}loadCMSListAsync(e,t,n){return Object(d.b)(this,void 0,void 0,(function*(){if(!e)return null;const i=[];for(const a of e){if(!a)return null;const e=yield this.getCMSList(a,t,n);if(!e||!e.id||!e.items)return null;i.push(e)}i.length>0&&this.sendCMSFetchCompletedAction(i,t)}))}generateCMSItemMapAsync(e,t){return Object(d.b)(this,void 0,void 0,(function*(){if(!e)return null;const n=new Map,i=new Map;for(const a of e){const e=a.id,o=a.indices,s=a.mappedRegion,c=a.positionInParentExperience;if(!(e&&o&&0!==o.length&&s&&c&&0!==c.length))continue;if(!n.has(e)){const i=yield this.getCMSList(e,r.a.CMSNativeAd,t);if(!i||!i.id||!i.items||0===i.items.length)continue;n.set(e,i.items)}const d=n.get(e);let l=0;for(const e of c){const t=Number(e);if(isNaN(t))continue;const n=l<o.length?o[l]:o[l%o.length],a=Number(n);if(isNaN(a))continue;let r=a-1;r<0&&(r=0);const c=s.toLowerCase()+"|"+t,u=r<d.length?r:r%d.length;i.set(c,d[u]),l++}}i.size>0&&s.a.fetchCMSNativeAdCompleted.getActionSender(this.connector).send(void 0,i)}))}getCMSList(e,t,n){return Object(d.b)(this,void 0,void 0,(function*(){try{const i={method:"GET",headers:{}},r=yield Object(k.a)(()=>Object(d.b)(this,void 0,void 0,(function*(){const n=new URL(`${a.a.CMSListServiceUrl}${e}${g.a.ContentServiceUrlBase.search}`,""+g.a.ContentServiceUrlBase),r=yield fetch(n.toString(),i);if(r.ok)return r.json();this.sendCMSFailedAction(`${t}: Invalid response from CMS.${r.statusText}`,t)})),"getCMSList");if(!r)return void this.sendCMSFailedAction(t+": Invalid response from PlacementManagerCMSService response.json()",t);const o=r;return this.translateToCMSItem(o,t,e,n)}catch(n){return void this.sendCMSFailedAction(`${t}: Error while fetching CMS Native Ad  ${n}, id: ${e}`,t)}}))}translateToCMSItem(e,t,n,i){return Object(d.b)(this,void 0,void 0,(function*(){const r=Object(m.a)().Locale;if(!e||!e.list||0===e.list.length)return void this.sendCMSFailedAction(`${t}: No CMS Response returned from ${n}`,t);const o=[];for(const n of e.list){let e=!1;const s=n.extendedProperties;if(s)for(const t of s)if(t.key&&t.key.indexOf("is_content")>-1&&t.values&&t.values.indexOf("true")>-1){e=!0;break}let c;if(null!=n.link&&null!=n.link.title&&n.link.href&&null!=n.link.image&&null!=n.link.image.href){const r=this.getCMSContentId(n.link.image.href);let o;if(n.link.ad)if(n.link.ad.providerHref&&n.link.ad.providerHref.href){const e=this.getCMSContentId(n.link.ad.providerHref.href);e?o=yield this.fetchProviderName(e,t):n.link.ad.sponsorText&&(o=n.link.ad.sponsorText)}else n.link.ad.sponsorText&&(o=n.link.ad.sponsorText);c={title:n.link.title,url:n.link.href,provider:{name:o||(null!=n.link.kicker?n.link.kicker:a.d.DefaultProviderName)},imageUrl:r?Object(R.d)(r,{width:624,height:350,enableDpiScaling:!1}):n.link.image.href,isContent:e,privacyUrl:i}}else if(null!=n.reference&&null!=n.reference.href){const a=this.getCMSContentId(n.reference.href);if(null!=a){const n=yield this.getCMSContent(a,t);if(!n)continue;c={title:n.title,url:this.contructDestinationUrl(n,r),provider:this.contructProvider(n),imageUrl:this.constructImageUrl(n),isContent:e,privacyUrl:i}}}c&&c.title&&c.imageUrl&&c.url&&o.push(c)}return{id:e._id,items:o}}))}getCMSContent(e,t){return Object(d.b)(this,void 0,void 0,(function*(){try{const n=new URL(g.a.ContentServiceUrlBase.search,`${g.a.ContentServiceUrlBase}${a.a.CMSContentServiceURl}${e}/`),i=yield fetch(n.toString());if(!i||!i.ok)return void this.sendCMSFailedAction(`${t}:Failed to fetch CMS content. cmsId: ${e}`,t);const r=yield i.json();return r||void this.sendCMSFailedAction(t+":Invalid JSON response to get CMS content",t)}catch(e){return void this.sendCMSFailedAction(`${t}:Error while fetching CMS content  ${e}`,t)}}))}contructDestinationUrl(e,t){const{category:n}=e,a=n&&n.product||"news",r=n&&n.label||"other",o=i[e.type]||"xx";return`https://www.msn.com/${t}/${P.a.encodeURIComponentForPrime(a||"")}/${P.a.encodeURIComponentForPrime(r||"")}/${P.a.encodeURIComponentForPrime(e.title||"")}/${o}-${e.id}`}contructProvider(e){const{name:t,logo:n}=e.provider;return{name:t,logo:n&&n.id?{src:`${I.a.prod}${n.id}?w=16&h=16`,alt:t}:void 0}}constructImageUrl(e){if(e.images&&!(e.images.length<1)&&e.images[0].id)return Object(R.d)(e.images[0].id,{width:624,height:350,focalRegion:e.images[0].focalRegion,enableDpiScaling:!1})}getCMSContentId(e){return e&&e.indexOf("cms/api/amp")>-1?e.substring(e.lastIndexOf("/")+1):null}sendCMSFailedAction(e,t){switch(A.a.sendAppErrorEvent(Object.assign(Object.assign({},w.Hb.GetCMSContentError),{message:"Get CMS content failed. See custom message for details",pb:Object.assign(Object.assign({},w.Hb.GetCMSContentError.pb),{customMessage:e})})),t){case r.a.Backfill:this.onFetchBackfillError(e);break;case r.a.CMSNativeAd:this.onFetchCMSNativeAdError(e)}}sendCMSFetchCompletedAction(e,t){switch(t){case r.a.Backfill:s.a.fetchBackfillCompleted.getActionSender(this.connector).send(e);break;case r.a.CMSNativeAd:s.a.fetchCMSNativeAdCompleted.getActionSender(this.connector).send(e)}}fetchProviderName(e,t){return Object(d.b)(this,void 0,void 0,(function*(){try{const n={method:"GET",headers:{}},i=yield Object(k.a)(()=>Object(d.b)(this,void 0,void 0,(function*(){const i=new URL(`${a.a.CMSListServiceUrl}${e}${g.a.ContentServiceUrlBase.search}`,""+g.a.ContentServiceUrlBase),r=yield fetch(i.toString(),n);if(r.ok)return r.json();this.sendCMSFailedAction(`${t}: Invalid response from CMS. status: ${r.status}. \n                        statusText: ${r.statusText}. url: ${r.url}.`,t)})),"getProviderName");if(!i)return void this.sendCMSFailedAction(t+": Invalid response from PlacementManagerCMSService response.json()",t);const r=i;return r?r.displayName:void this.sendCMSFailedAction(`${t}: Failed to parse JSON response in ${e}`,t)}catch(n){return void this.sendCMSFailedAction(`${t}: Error while fetching Provider name  ${n}, id: ${e}`,t)}}))}midPoint(e,t){if(null!=e&&null!=t)return Math.floor(e+(t-e)/2)}onFetchCMSNativeAdError(e){s.a.fetchCMSNativeAdFailed.getActionSender(this.connector).send()}onFetchBackfillError(e){s.a.fetchBackfillFailed.getActionSender(this.connector).send()}}var T=n("Tn4X"),E=n("3Amp");let _,H=!1;const N=new Promise(e=>{_=e});function L(){return Object(d.b)(this,void 0,void 0,(function*(){switch(yield function(){return Object(d.b)(this,void 0,void 0,(function*(){H||(E.a.cookieConsentStatus.registerObserver(e=>{_()}),H=!0);const e=u.a.getInstance().rootReducer.connector(y.a.SharedState),t=e&&e.getCurrentState(),n=t&&t.cookieConsentStatus;return n!==T.a.Unknown?n:(yield N,e.getCurrentState().cookieConsentStatus)}))}()){case T.a.Required:return!0;case T.a.NotRequired:return!1;default:return}}))}var F,D=n("tMmC"),z=n("A8DD");!function(e){e.Outbrain="Outbrain",e.Oath="Oath",e.AppNexus="AppNexus",e.Bing="Bing",e.TripleLift="TripleLift",e.MediaNet="MediaNet"}(F||(F={}));const W="cookieSyncUrl",U="timeout",B="pixelSync",$="enableCPixel",G="enableApnMi9pixel",q="enableVideoPixel",K="aolSupportedMarket",V="videoPlayerPageType",J="MSAN_MI9_pd",Z="MSNLI_pd",Q="MSAOL_Video_pd",X="MSAN_Video_pd";var Y,ee=n("HDSB"),te=n("XgsJ");!function(e){e[e.Success=1]="Success",e[e.Error=2]="Error"}(Y||(Y={}));class ne{constructor(e){this.connector=e,this.pixelContainer=new Image(1,1)}processCookieSync(){return Object(d.b)(this,void 0,void 0,(function*(){if(yield L())return;if(this.connector.getBrowserOptoutStatus())return;const e=this.connector.getMsaOptoutCookieData();if(e&&"1"===e)return;const t=this.connector.config&&this.connector.config.cookieSync;if(!t)return;if(this.setPartnerData(),this.connector.getCurrentState().isCookieSyncExecuted)return;s.a.isCookieSyncExecuted.getActionSender(this.connector).send();let n=0,i=!1;const r=(new Date).getTime(),o=Object.keys(t);for(const e of o)this.partnerCookieHandler(e,t[e],!1,a.d.DefaultPartnerCookieSyncTimeout,(function(){if(n++,!i&&o.length<=n){i=!0;const e=(new Date).getTime()-r;D.a.log("[NativeAdCookieSync]:Total time taken to finish bulk cookie sync is "+e+"ms.")}}));setTimeout(function(){if(!i)return i=!0,void D.a.log("[NativeAdCookieSync]:Failed to retrieve partner data in "+a.d.BulkCookieSyncTimeout+"ms.")}.bind(this),a.d.BulkCookieSyncTimeout)}))}partnerCookieHandler(e,t,n,i,a){return!1,t&&t[W]?t[B]&&!0===t[B]?(this.callPixelSync(e,t),a({status:Y.Success}),void!0):(this.downloadScript(t[W]),a({status:Y.Success}),void!0):(a({status:Y.Error}),!0,void A.a.sendAppErrorEvent(Object.assign(Object.assign({},w.Hb.CookieSyncMissingExternalScriptUrl),{message:`Partner: ${e} is missing cookie sync url. Please fix`})))}downloadScript(e){return Object(d.b)(this,void 0,void 0,(function*(){return new Promise((t,n)=>{if(!e||!Object(ee.a)()||this.scriptAlreadyExists(e))return;const i=Object(te.a)(e);i.onload=()=>{t()},i.onerror=t=>{A.a.sendAppErrorEvent(Object.assign(Object.assign({},w.Hb.CookieSyncDownloadExternalScriptError),{message:"Failed to download cookie sync JS, source url: "+e})),n(t)},document.head.appendChild(i)})}))}callPixelSync(e,t){return Object(d.b)(this,void 0,void 0,(function*(){return new Promise((n,i)=>{const a=this.connector.config.stop_gemini_sync_pixel;if(e===F.AppNexus)this.pixelContainer=document.createElement("iframe"),this.pixelContainer.src=t[W],this.pixelContainer.width="0",this.pixelContainer.height="0",this.pixelContainer.setAttribute("style","position:absolute;overflow:hidden;clip:rect(0 0 0 0);margin:0;padding:0;border:0;"),document.body.appendChild(this.pixelContainer);else if(e===F.Oath){if(a)return;setTimeout(()=>{this.pixelContainer=new Image(1,1),this.pixelContainer.src=t[W]},t[U])}else{if(e===F.Bing){let n="";return t[$]&&(t[G]&&(n=this.formatScriptUrl(t[W],J),this.callPixelImage(n,e,t[U])),n=this.formatScriptUrl(t[W],Z),this.callPixelImage(n,e,t[U])),void(t[q]&&g.a.CurrentRequestTargetScope.pageType===t[V]&&(t[K]&&!a&&(n=this.formatScriptUrl(t[W],Q),this.callPixelImage(n,e,t[U])),n=this.formatScriptUrl(t[W],X),this.callPixelImage(n,e,t[U])))}if(e===F.MediaNet){const e=Object(b.b)();e&&setTimeout(()=>{this.pixelContainer=new Image(1,1),this.pixelContainer.src=t[W].replace("<userid>",e)},t[U])}else if(e===F.TripleLift){const e=Object(b.b)();e&&(this.pixelContainer=new Image(1,1),this.pixelContainer.src=t[W].replace("<userid>",e))}}this.pixelContainer.onload=()=>{n()},this.pixelContainer.onerror=n=>{A.a.sendAppErrorEvent(Object.assign(Object.assign({},w.Hb.CookieSyncPixelPartnerDownloadError),{message:"Failed to download cookie sync pixel image",pb:Object.assign(Object.assign({},w.Hb.CookieSyncPixelPartnerDownloadError.pb),{customMessage:`Check with partner ${e} for source url: ${t[W]}`})})),i(n)}})}))}formatScriptUrl(e,t){if(location.href.toLowerCase().indexOf("native-ad.html")>-1){document.getElementsByTagName("head")[0].setAttribute("data-client-settings",'{"pagetype": "gallery", "browser": {"browserType":"chrome", "version":"62", "ismobile":"true"}, "locale":{"language":"en", "market":"us"}, "aid": "activity1"}'),m.b.initializeHeadData()}let n=0;m.b.ClientSettings&&m.b.ClientSettings.browser&&m.b.ClientSettings.browser.ismobile&&(n=1);let i="";return i=e.replace("<linkId>",t).replace("<rid>",m.b.ClientSettings&&m.b.ClientSettings.aid?m.b.ClientSettings.aid:"").replace("<lang>",m.b.Locale?m.b.Locale:"").replace("<dgk>",m.b.ClientSettings&&m.b.ClientSettings.browser&&m.b.ClientSettings.browser.browserType?m.b.ClientSettings.browser.browserType:"").replace("<imd>",n.toString()).replace("<pn>",m.b.ClientSettings&&m.b.ClientSettings.pagetype?m.b.ClientSettings.pagetype:"").replace("<rf>",document.referrer).replace("<tp>",location.href),i}scriptAlreadyExists(e){const t=document.getElementsByTagName("script");for(let n=t.length;n--;)if(t[n].src===e)return!0;return!1}setPartnerData(){const e={cid:Object(b.a)("muid"),rid:A.a.getRequestId()};return window.partnerData=e,e}callPixelImage(e,t,n){return Object(d.b)(this,void 0,void 0,(function*(){return new Promise((i,a)=>{setTimeout(()=>{this.pixelContainer=new Image(1,1),this.pixelContainer.src=e},n),this.pixelContainer.onload=()=>{i()},this.pixelContainer.onerror=n=>{A.a.sendAppErrorEvent(Object.assign(Object.assign({},w.Hb.CookieSyncPixelPartnerDownloadError),{message:"Failed to download cookie sync pixel image",pb:Object.assign(Object.assign({},w.Hb.CookieSyncPixelPartnerDownloadError.pb),{customMessage:`Check with partner ${t} for source url: ${e}`})})),a(n)}})}))}}var ie,ae,re,oe=n("Z3LZ");!function(e){e.AR="AR",e.GA="GA",e.VI="VI",e.EDGECHRNTP="edgechrntp",e.EDGECHRDHP="edgechrdhp",e.MSNEWS="msnews",e.FirstParty="firstparty",e.VerticalLandingPage="vlp"}(ie||(ie={})),function(e){e.ArticleFlex="articleflex",e.GalleryFlex="galleryflex",e.VideoFlex="videoflex",e.News="news"}(ae||(ae={})),function(e){e.ArticlePageOneRiver="ArticlePageOneRiver",e.FlexGalleryPageOneRiver="FlexGalleryPageOneRiver",e.VideoPageOneRiver="VideoPageOneRiver"}(re||(re={}));var se=n("FaCY"),ce=n("5fbE"),de=n("E0YY"),le=n("4k19"),ue=n("C4R5");class he extends l.a{constructor(e,t,n,i,r,o){if(super(e,t,n,i,r,o),this.stripeMap=new Map,this.isRemainingStripeFetched=!1,this.firstBatchStripePlacements=[],this.webWorkerCmsFallbackExpEnabled=!1,this.hasUserScrolled=!1,this.useRouter=!1,this.infopaneAdSequence=1,this.isDisableAdsPrefetchFlight=!1,this.onPivotSwitch=e=>{if(!e.oldSelection)return;this.infopaneAdSequence=1,this.currentState=this.getCurrentState();const t=e.newSelection.pivotId;t&&t.toLowerCase()!==a.d.EditInterestPivotId&&(s.a.updatePivotId.getActionSender(this).send(t),this.useRouter&&t!==this.currentState.pivotId&&t.toLowerCase()===a.d.StripeMyFeedPivotId&&this.setPlacementsForStripeLayout(),t!==this.currentState.pivotId&&t.toLowerCase()!==a.d.StripeMyFeedPivotId&&(s.a.clearState.getActionSender(this).send(),this.refreshStatesBasedOnSettingsOverride()),this.currentState=this.getCurrentState(),this.currentState.updatedPlacements.length>0&&(this.currentState.preloadPlacements&&0!==this.currentState.preloadPlacements.length||this.callSAMNativeAdAsync(this.config,!0)))},this.onScroll=()=>{this.hasUserScrolled=!0,this.callSAMNativeAdAsync(this.config),window.removeEventListener("scroll",this.onScroll)},o.nativeAdsDisabled)return;if(this.currentState=this.getCurrentState(),!this.currentState)return;const c=u.a.getInstance().rootReducer.connector(y.a.SharedState);if(this.useRouter=c&&c.getCurrentState().useHistory,this.layoutPreferenceDataConnector=n.connector(y.a.LayoutPreferenceData),this.layoutPreferenceDataConnector?this.setPlacementsForStripeLayout(this.useRouter):this.refreshStatesBasedOnSettingsOverride(),this.setUserOptOutSettings(),this.currentState.ecasession||s.a.updateEcasession.getActionSender(this).send(a.d.Ecasession),g.a.AppType===O.a.EdgeChromium&&(this.layoutDataConnector=u.a.getInstance().rootReducer.connector(y.a.ChromiumPageSettings),this.layoutDataConnector)){const e=this.layoutDataConnector.getCurrentState();this.anaheimPageLayout=e.currentLayout}s.a.samNativeAdServedTrack.registerObserver(()=>{this.runNextPreloadFetchSAMNativeAdObserver()}),this.useRouter?Object(ue.d)().addSwitchListener(this.onPivotSwitch,C.a.Monetization):Object(v.a)().addSwitchListener(this.onPivotSwitch,C.a.Monetization),o.enableGranularInfopaneAdCalls&&(this.setInfopaneGeminiIndex(),s.a.infopaneSlideChanged.getActionSender(this).send(1),s.a.infopaneSlideChanged.registerObserver(()=>{this.runNextPreloadInfopaneObserver()})),Promise.all([Object(z.a)(),Object(oe.k)()]).then(()=>{this.config.enableFireAuctionCallImmediately?this.callNativeAdsAfterPreload():Object(oe.l)().then(()=>{this.callNativeAdsAfterPreload()})}),!o.disableAdsPrefetch||g.a.AppType===O.a.EdgeChromium&&this.anaheimPageLayout!==le.i.informational||(this.isDisableAdsPrefetchFlight=!0,window.addEventListener("scroll",this.onScroll))}static getVerticalKey(){const e=m.b.ClientSettings.apptype,t=g.a.HostPage.verticalKey,n=m.b.ClientSettings.verticalKey;if(e&&n&&""!==n){const t=e.toLowerCase();if(t.indexOf(O.a.Views)>-1||t.indexOf(O.a.Hub)>-1)return n}return t}static getCategoryKey(){const e=m.b.ClientSettings.apptype,t=g.a.HostPage.categoryKey,n=m.b.ClientSettings.categoryKey;if(e&&n&&""!==n){const t=e.toLowerCase();if(t.indexOf(O.a.Views)>-1||t.indexOf(O.a.Hub)>-1)return n}return t}static isStripePlacement(e){return e&&e.toLowerCase().indexOf(a.d.StripeRegionKeyWord)>-1}static isInfopanePlacement(e){return e&&e.toLowerCase().indexOf(a.d.InfopaneRegion)>-1}callNativeAdsAfterPreload(){this.currentState=this.getCurrentState(),this.currentState.preloadPlacements&&0!==this.currentState.preloadPlacements.length||this.callSAMNativeAdAsync(this.config,!0);const e=new M(this),t=!this.currentState.cmsItemMap||0===this.currentState.cmsItemMap.size;this.config.cmsNativeAd&&this.config.cmsNativeAd.length>0&&t?e.generateCMSItemMapAsync(this.config.cmsNativeAd,this.config.privacyUrl):this.config.cmsNativeAdListId&&this.config.cmsNativeAdListId.length>0&&!this.currentState.cmsNativeAdResponse&&t&&e.loadCMSListAsync(this.config.cmsNativeAdListId,r.a.CMSNativeAd,this.config.privacyUrl)}runNextPreloadFetchSAMNativeAdObserver(){this.currentState=this.getCurrentState();const e=this.config.lastNthPositionToPreload;if(!e)return void A.a.sendAppErrorEvent(Object.assign(Object.assign({},w.Hb.MissingRequiredPropertyPlacementManagerConfig),{message:"Missing lastNthPositionToPreload property in placement manager config "}));if(!this.currentState.preloadPlacementMap)return;let t=0;for(const e of this.currentState.preloadPlacementMap.values())!1===e&&t++;if(t===e||t<e){const e=JSON.stringify([...this.currentState.preloadPlacementMap.keys()]);e!==this.currentState.lastFiredPrefetchedPlacements&&(s.a.updateLastFiredPrefetchedPlacements.getActionSender(this).send(e),this.currentState=this.getCurrentState(),this.isReadyToMakeSAMAjaxCall()?this.callSAMNativeAdAsync(this.config):(s.a.increasePendingSAMCallNumber.getActionSender(this).send(),this.currentState=this.getCurrentState()))}}setPlacementsForStripeLayout(e){if(e){if(!Object(ue.d)().getCurrentRoute().pivotId.toLowerCase().includes("myfeed"))return void this.refreshStatesBasedOnSettingsOverride()}const t=this.layoutPreferenceDataConnector.getCurrentState().selectedLayout;this.currentState=this.getCurrentState(),t!==de.a.Stripe||this.currentState.pivotId&&this.currentState.pivotId.toLowerCase()!==a.d.StripeMyFeedPivotId?this.refreshStatesBasedOnSettingsOverride():(s.a.clearState.getActionSender(this).send(),this.mergeStripePlacements(),this.topicsDataConnector?this.getRemainingStripePlacements():u.a.getInstance().rootReducer.getDataConnector(y.a.TopicData).then(e=>{this.topicsDataConnector=e,this.getRemainingStripePlacements(),se.a.followedTopics.registerObserver(()=>{this.isRemainingStripeFetched||this.getRemainingStripePlacements()})}))}initializeSAMNativeAdAsync(e,t=!1){return Object(d.b)(this,void 0,void 0,(function*(){this.currentState=this.getCurrentState(),this.lastResponseMetadata=this.currentState.lastResponseMetadata;const n=this.getCurrentPageRequestIdCallback||A.a.getRequestId(),i=this.getImpressionId(n),o=this.getPreviousRiverNativeAdCount(a.d.River),c=this.getPreviousRiverNativeAdCount(a.d.RiverDoubleWide),d=this.getPreviousRiverHalfNativeAdCount();if(!g.a||!g.a.HostPage||!g.a.HostPage.hostName)return;const l=this.getPlacements(t);if(e.backfillListId&&e.backfillListId.length>0&&!this.currentState.backfillResponse){const t=new M(this);yield t.loadCMSListAsync(e.backfillListId,r.a.Backfill,e.privacyUrl)}const u=this.currentState.pageType?this.currentState.pageType:this.getPageType(),C=this.getPartnerId(),v=he.getVerticalKey(),S=this.generateSourceUrl(),y=this.getBrowserOptoutStatus(),O=yield L();if(s.a.updateCookieWallPresentStatus.getActionSender(this).send(O),!O&&t){const e=Object(b.a)(a.b.taboolaSessionCookieName)||this.getCurrentState().ecasession;s.a.updateEcasession.getActionSender(this).send(e)}this.currentState=this.getCurrentState();const x=this.getUserMuid(),w=!(!m.b.ClientSettings||!m.b.ClientSettings.deviceFormFactor||m.b.ClientSettings.deviceFormFactor!==h.a.Phone),R=this.isNotMyFeed();if(this.requestBody={locale:m.b.Locale,rid:i,partnerId:C,content:{sourceUrl:S,pageType:u,verticalName:v,previousRiverNativeAdCount:o,previousRiverDualWideNativeAdCount:c,previousRiverHalfNativeAdCount:d,isXfeed:R,anaheimPageLayout:this.anaheimPageLayout},user:{muid:x,browserOptOut:y,isAdblock:!1},placements:l,extensions:this.getExtensions(this.lastResponseMetadata,this.currentState.ecasession),isCookieWallPresent:O,isPeregrine:!0,isGeminiCCPAShutdownEnabled:void 0!==e.enable_gemini_ccpa_shutdown&&e.enable_gemini_ccpa_shutdown,device:{isMobile:w}},this.requestBody.placements&&!(this.requestBody.placements.length<1))try{if(location&&location.search){const e=new URLSearchParams(location.search.toLowerCase()).get(a.c.MockTemplate);!e||e!==a.c.HeadToHead&&e!==a.c.Triptych||(this.requestBody.Provider=e)}const n=JSON.stringify(this.requestBody),i=new URL(a.d.SAMRTBAuctionCallUrl),r=new XMLHttpRequest;r.open(a.e.Method,i.href,!0),r.withCredentials=!0,r.timeout=e.enableToSetAuctionCallTimeout&&e.samRTBTimeout?e.samRTBTimeout:a.d.SAMRTBTimeout,r.setRequestHeader(a.e.ContentTypeKey,a.e.ContentType),r.setRequestHeader(a.e.FlightIdKey,m.b.CurrentFlights),r.setRequestHeader(a.e.CacheControlKey,a.e.CacheControl),x&&r.setRequestHeader(a.e.ClientIdKey,x),u===ie.GA?r.setRequestHeader(a.e.AuthCookieNameKey,a.b.AnonCookieName):Object(b.a)(a.b.AppAnonCookieExist)&&r.setRequestHeader(a.e.AuthCookieNameKey,f.c),r.onload=()=>{t&&this.config.enableFireAuctionCallImmediately&&this.config.delayAdProcessing?Object(oe.l)().then(()=>{this.processAdResponse(r)}):this.processAdResponse(r)},r.ontimeout=()=>{e.enableToSetAuctionCallTimeout?this.onNativeAdLoadError("Timeout calling SAMRTB Ajax.",!0,!0):this.onNativeAdLoadError("Timeout calling SAMRTB Ajax.",!1)},r.onerror=()=>{this.onNativeAdLoadError("Error calling SAMRTB Ajax.")},r.send(n),Object(j.n)(p.a.TimeToRequestAd,window.performance.now())}catch(e){return void this.onNativeAdLoadError("Error while initializing native ad async  "+e)}}))}processAdResponse(e){if(200!==e.status)return 204===e.status?void this.onNativeAdLoadError(`Invalid response from SAMRTB Ajax. ${e.status}: ${e.statusText}`,!1):void this.onNativeAdLoadError(`Invalid response from SAMRTB Ajax. ${e.status}: ${e.statusText}`);try{const t=JSON.parse(e.response);if(!t)return void this.onNativeAdLoadError("Invalid json response from SAMRTB");const n=t.metaData;this.processMetaData(n),this.fireRequestLevelBeacons(n.requestLevelBeaconUrls),s.a.fetchSAMNativeAdCompleted.getActionSender(this).send(t,this.lastResponseMetadata),s.a.processedPlacements.getActionSender(this).send(),s.a.samNativeAdReady.getActionSender(this).send(),this.currentState=this.getCurrentState(),this.callPendingSAMNativeAd()}catch(e){return void this.onNativeAdLoadError("Error processing SAMRTB response. "+e)}}getPlacements(e){if(!this.currentState.updatedPlacements||this.currentState.updatedPlacements.length<1)return null;const t=[],n=[];let i,a=0;const r=this.currentState.preloadPlacements;let o;r&&r.length>0&&(i=r[r.length-1]);for(const r of this.currentState.updatedPlacements)if(r.region&&r.indices&&r.indices.length>0&&r.priority)if(this.config.enableGranularInfopaneAdCalls&&he.isInfopanePlacement(r.region)){const i=this.currentState.infopaneAdIndicesToBeFetched&&Array.from(this.currentState.infopaneAdIndicesToBeFetched,e=>e.toString());if(i&&i.length>0){const o={region:r.region,indices:i,priority:r.priority,mappedRegion:r.mappedRegion,mappedPartnerIdBelowTheFold:r.mappedPartnerIdBelowTheFold};if(this.infopaneAdSequence+=o.indices.length,t.push(o),this.addSAMPlacements(n,o.region,o.indices),s.a.updateInfopaneAdIndicesToBeFetched.getActionSender(this).send(new Set),a+=o.indices.length,!e)break}}else{if(this.isDisableAdsPrefetchFlight&&!e&&!this.hasUserScrolled&&!he.isStripePlacement(r.region))continue;let s=0;if(i){if(r.priority<i.priority)continue;i.priority===r.priority&&i.region===r.region&&(s=i.indices.length)}const c=r.indices.length-s;if(c<=0)continue;if(a>0&&r.mappedPartnerIdBelowTheFold&&r.mappedPartnerIdBelowTheFold.toLowerCase()!==o)break;const d=this.config.preloadCardNumber-a;if(he.isStripePlacement(r.region)){const e=this.getStripeName(r.region),t=this.stripeMap.has(e)?this.stripeMap.get(e):[];let n=0;for(const e of t)n+=e.indices.length;if(d<n)break}const l=d<=c?d:c,u=s+l,h=r.indices.slice(s,u),p={region:r.region,indices:h,priority:r.priority,mappedRegion:r.mappedRegion,mappedPartnerIdBelowTheFold:r.mappedPartnerIdBelowTheFold};if(t.push(p),this.addSAMPlacements(n,p.region,p.indices),o=r.mappedPartnerIdBelowTheFold&&r.mappedPartnerIdBelowTheFold.toLowerCase(),a+=l,a===this.config.preloadCardNumber)break}s.a.sentPlacements.getActionSender(this).send(t);const c=t.filter(e=>!he.isInfopanePlacement(e.region));return(!this.config.enableGranularInfopaneAdCalls||c&&c.length>0)&&(s.a.preloadPlacements.getActionSender(this).send(t),s.a.preloadPlacementMap.getActionSender(this).send(this.mapPlacement(t))),this.currentState=this.getCurrentState(),n}mapPlacement(e){if(!e||e.length<=0)return;const t=new Map;for(const n of e)if(n.region&&n.indices){const e=n.region;for(const i of n.indices){const a=(n.mappedRegion?n.mappedRegion:e)+"|"+i;t.set(a,!1)}}return t}processMetaData(e){const t=this.currentState.isCookieWallPresent,n=e&&e.taboola&&e.taboola.sessionId;!t&&n&&Object(S.a)(a.b.taboolaSessionCookieName,n,.042,a.b.cookieDomain,"/"),this.lastResponseMetadata=this.mergeMetadata(this.lastResponseMetadata,e),this.updateMsaOptOutCookie(e)}mergeMetadata(e,t){return e?t?(t.taboola=this.mergePartnerMetadata(e.taboola,t.taboola),t):e:t}getImpressionId(e){return this.lastResponseMetadata&&this.lastResponseMetadata.pageViewId?this.lastResponseMetadata.pageViewId:e}getPreviousRiverNativeAdCount(e){const t=this.currentState.preloadPlacements;if(!t||!e)return 0;let n=0;for(const i of t)i.mappedRegion&&i.mappedRegion.toLocaleLowerCase()===e&&i.indices&&(n+=i.indices.length);return n}getPreviousRiverHalfNativeAdCount(){const e=[a.d.RiverHalf,a.d.RiverHalfTextOnly],t=this.currentState.preloadPlacements;if(!t||!e)return 0;let n=0;for(const i of t)i.mappedRegion&&e.indexOf(i.mappedRegion.toLocaleLowerCase())>-1&&i.indices&&(n+=i.indices.length);return n}getMsaOptoutCookieData(){const e=Object(b.a)(a.b.MSAOptOut);return e&&e.length>0?e:null}callSAMNativeAdAsync(e,t=!1){return Object(d.b)(this,void 0,void 0,(function*(){if(e.isCookieSyncEnabled){new ne(this).processCookieSync().then(()=>{this.initializeSAMNativeAdAsync(e,t)})}else this.initializeSAMNativeAdAsync(e,t)}))}getRemainingStripePlacements(){const{followedTopicIds:e,topicMap:t}=this.topicsDataConnector.getCurrentState();if(!e||!e.length||!t)return;const n=this.firstBatchStripePlacements.length;if(!n)return;let i=this.firstBatchStripePlacements[n-1].priority||1;const r=[],o=this.stripeMap.get(a.d.PersonalizedStripeRegionKeyWord);let c=1;const d=o&&o.length>0?o[0]:null,l=d&&d.region&&d.region.indexOf(a.d.StripeRegionKeyWord)>-1?d.region.indexOf(a.d.StripeRegionKeyWord):-1;e.forEach(e=>{const n=t[e];let s=n&&n.canonicalName&&n.canonicalName.trim().toLowerCase();if(!s&&ce.b.has(e)&&(s=ce.b.get(e).toLowerCase()),this.stripeMap.has(s)){const e=this.stripeMap.get(s)||[];for(const t of e)t.priority=++i,r.push(t)}else{if(ce.a.includes(s))return;if(l>-1){const e=Object.assign({},o[0]);e.region=a.d.PersonalizedStripeRegionKeyWord+c+e.region.substring(l),e.priority=++i,e.mappedRegion=e.region,r.push(e);const t=a.d.PersonalizedStripeRegionKeyWord+c;this.stripeMap.set(t,[e]),c++}}});const u=this.firstBatchStripePlacements.concat(r);s.a.updatePlacements.getActionSender(this).send(u),this.isRemainingStripeFetched=!0}setMsaOptoutCookie(e){e&&e.length>0&&Object(S.a)(a.b.MSAOptOut,e,1,null,"/")}isNotMyFeed(){return!!this.currentState.pivotId&&this.currentState.pivotId.toLowerCase()!==a.d.MyFeedPivotId&&this.currentState.pivotId.toLowerCase()!==a.d.StripeMyFeedPivotId}isReadyToMakeSAMAjaxCall(){const e=this.currentState.placementStatus;if(!e)return!0;for(const t of e)if(!1===t.isProcessed)return!1;return!0}callPendingSAMNativeAd(){const e=this.currentState.pendingSAMNativeAdCallNumber;e&&e>0&&(s.a.decreasePendingSAMCallNumber.getActionSender(this).send(),this.callSAMNativeAdAsync(this.config))}runNextPreloadInfopaneObserver(){this.currentState=this.getCurrentState(),this.currentState.infopaneAdIndicesToBeFetched&&this.currentState.infopaneAdIndicesToBeFetched.size>0&&this.callSAMNativeAdAsync(this.config)}setInfopaneGeminiIndex(){if(this.currentState=this.getCurrentState(),!this.currentState.updatedPlacements)return;const e=this.currentState.updatedPlacements.filter(e=>he.isInfopanePlacement(e.region)),t=e&&e.pop(),n=t&&t.indices&&t.indices.filter(e=>a.d.MediatedInfopaneSlides.indexOf(e)<0);this.infopaneGeminiIndex=n&&n.length>0?n[Math.floor(Math.random()*Math.min(3,n.length))]:void 0}fireRequestLevelBeacons(e){let t;if(e&&e.length>0){t=[];for(let n=0;n<e.length;n++){const i=e[n];i&&(this.fireRequestLevelBeaconCall(i),t.push(i))}}return t}getPageType(){if(this.currentState.pageType)return this.currentState.pageType;const e=g.a.CurrentRequestTargetScope.pageType,t=this.config.mappedPageType;let n=t||e;return e==x.b.DHP&&g.a.AppType==O.a.EdgeChromium&&"en-us"==g.a.CurrentMarket.toLocaleLowerCase()&&this.config.enableDhpPagetype&&(n=ie.EDGECHRDHP),s.a.updatePageType.getActionSender(this).send(n),n}getPartnerId(){const e=this.getBelowTheFoldPartnerId(),t=g.a.CurrentRequestTargetScope.pageType,n=this.config.mappedPartnerId;return e||(n||t)}generateSourceUrl(){const e=g.a.CurrentRequestTargetScope.pageType;let t=g.a.HostPage.originalUrl;const n=g.a.HostPage.verticalKey;if(e&&n){const i=e.toLowerCase();(i.indexOf(x.b.DHP)>-1||i.indexOf(x.b.NTP)>-1)&&(t="https://"+g.a.HostPage.hostName+"/"+n+"/"+e)}return t}getBelowTheFoldPartnerId(){const e=this.currentState.placementStatus;if(!e)return null;for(const t of e){const e=t.placements;if(e&&e.length>0){const n=e[0],i=n&&n.mappedPartnerIdBelowTheFold;if(i&&!1===t.isProcessed)return i}}return null}refreshStatesBasedOnSettingsOverride(){const e=this.isInterstitialNativeAdDisabled();s.a.updateMergeSettingsOverride.getActionSender(this).send(a.f.DisableInterstitialNativeAd,e);const t=[],n=[];let i=-1;if(this.config.placements){for(const r of this.config.placements){const o=r.region&&r.region.toLowerCase();if(r.indices&&0!==r.indices.length&&!he.isStripePlacement(o))if(this.isRiverPlacement(o))n.push(r),i<r.priority&&(i=r.priority);else if(!e||e&&o!==a.f.InterstitialGallery){const e=this.updateInfopanePlacement(r);e&&t.push(e)}}const r=this.mergeRiverPlacements(n,i),o=t.concat(r);s.a.updatePlacements.getActionSender(this).send(o)}}mergeStripePlacements(){if(!this.config.placements)return;this.stripeMap.clear(),this.firstBatchStripePlacements=[];let e=1;for(const t of this.config.placements){if(!t.indices||0===t.indices.length)continue;const n=t.region&&t.region.toLowerCase();if(he.isStripePlacement(n)){let i;if(i=n===a.d.StripeInfopaneRegion?a.d.InfopaneRegionKeyWord:n===a.d.StripeTabInfopaneRegion?a.d.TabInfopaneRegionKeyWord:n.substring(0,n.indexOf(a.d.StripeRegionKeyWord)),this.stripeMap.has(i)){this.stripeMap.get(i).push(t)}else this.stripeMap.set(i,[t]);i!==a.d.InfopaneRegionKeyWord&&i!==a.d.TopStripeRegionKeyWord&&i!==a.d.TabInfopaneRegionKeyWord||(t.priority=e++,this.firstBatchStripePlacements.push(t))}}s.a.updatePlacements.getActionSender(this).send(this.firstBatchStripePlacements)}isInterstitialNativeAdDisabled(){const e=this.getSettingOverrideValue(a.f.DisableInterstitialNativeAd);return(void 0!==e||null!==e)&&e}getSettingOverrideValue(e){const t=he.getVerticalKey(),n=he.getCategoryKey(),i=t?t.toLowerCase():null,r=n?n.toLowerCase():null,o=this.config.settingsOverride;let s;if(o){s=o.find(e=>e.vertical&&e.vertical.toLowerCase()===i&&e.category&&e.category.toLowerCase()===r);let t=s&&s.uniqueSettings[e];if(null!=t)return t;if(s=o.find(e=>e.vertical&&e.vertical.toLowerCase()===i&&(!e.category||""===e.category)),t=s&&s.uniqueSettings[e],null!=t)return t;if(s=o.find(e=>e.vertical&&e.vertical.toLowerCase()===a.f.Base),t=s&&s.uniqueSettings[e],null!=t)return t}return null}getBrowserOptoutStatus(){const e=Object(b.a)(a.b.BrowserOptOut);return!(!e||"1"!==e)}getStripeName(e){return e?e.indexOf(a.d.InfopaneRegionKeyWord)>-1?a.d.InfopaneRegionKeyWord:e.substring(0,e.indexOf(a.d.StripeRegionKeyWord)):null}addSAMPlacements(e,t,n){let i=!1;for(const a of e)if(a.region===t){const e=(a.indices?a.indices:[]).concat(n);a.indices=e,i=!0;break}i||(this.config.enableGranularInfopaneAdCalls&&he.isInfopanePlacement(t)?e.push({region:t,indices:n,infopaneGeminiIndex:parseInt(this.infopaneGeminiIndex,10),infopaneAdSequenceStartIndex:this.infopaneAdSequence-n.length}):e.push({region:t,indices:n}))}mergePartnerMetadata(e,t){return t=t||{},e&&e.sessionId&&!t.sessionId&&(t.sessionId=e.sessionId),t}updateMsaOptOutCookie(e){if(!this.getMsaOptoutCookieData()&&e&&e.optout){const t=!0===e.optout.msaOptOut?"1":"0";this.setMsaOptoutCookie(t)}}onNativeAdLoadError(e,t=!0,n=!1){s.a.fetchSAMNativeAdFailed.getActionSender(this).send(),s.a.processedPlacements.getActionSender(this).send(),s.a.samNativeAdReady.getActionSender(this).send(),this.currentState=this.getCurrentState(),this.callPendingSAMNativeAd(),t&&(n?A.a.sendAppErrorEvent(Object.assign(Object.assign({},w.Hb.GetSAMRTBResponseErrorNoAlert),{message:e})):A.a.sendAppErrorEvent(Object.assign(Object.assign({},w.Hb.GetSAMRTBResponseError),{message:e})))}getExtensions(e,t){const n={taboola:(e=e||{taboola:{}}).taboola};return n.taboola.sessionId||(n.taboola.sessionId=t),n}getUserMuid(){return this.currentState.isCookieWallPresent?null:Object(b.b)()}fireRequestLevelBeaconCall(e){return Object(d.b)(this,void 0,void 0,(function*(){if(e){D.a.logCallback(()=>"Firing encoded requestlevel beacon: "+e);let t=yield new Image(1,1);t.src=e,t=null}}))}setUserOptOutSettings(){const e=this.getBrowserOptoutStatus(),t=this.getMsaOptoutCookieData(),n=!(!t||"1"!==t),i=(e||n).toString().toLowerCase();let r="";e&&(r="b|"),n&&(r+="m");const o=a.d.UserOptOut+":"+i+";"+a.d.UserOptOutOptions+":"+r;if(document.head.attributes["data-info"]){const e=document.head.attributes["data-info"].value.split(";");e.find(e=>e.indexOf(a.d.UserOptOut)>-1)?e.find(e=>e.indexOf(a.d.UserOptOut)>-1)!==a.d.UserOptOut+":"+i&&(document.head.attributes["data-info"].value=document.head.attributes["data-info"].value.replace(a.d.UserOptOut+":false",a.d.UserOptOut+":"+i).replace(a.d.UserOptOut+":true",a.d.UserOptOut+":"+i)):document.head.attributes["data-info"].value=document.head.attributes["data-info"].value+";"+a.d.UserOptOut+":"+i,e.find(e=>e.indexOf(a.d.UserOptOutOptions)>-1)?e.find(e=>e.indexOf(a.d.UserOptOutOptions)>-1)!==a.d.UserOptOutOptions+":"+r&&(e.includes(a.d.UserOptOutOptions+":")?document.head.attributes["data-info"].value=document.head.attributes["data-info"].value.replace(a.d.UserOptOutOptions+":",a.d.UserOptOutOptions+":"+r):e.includes(a.d.UserOptOutOptions+":b|")?document.head.attributes["data-info"].value=document.head.attributes["data-info"].value.replace(a.d.UserOptOutOptions+":b|",a.d.UserOptOutOptions+":"+r):e.includes(a.d.UserOptOutOptions+":b|m")?document.head.attributes["data-info"].value=document.head.attributes["data-info"].value.replace(a.d.UserOptOutOptions+":b|m",a.d.UserOptOutOptions+":"+r):e.includes(a.d.UserOptOutOptions+":m")&&(document.head.attributes["data-info"].value=document.head.attributes["data-info"].value.replace(a.d.UserOptOutOptions+":m",a.d.UserOptOutOptions+":"+r))):document.head.attributes["data-info"].value=document.head.attributes["data-info"].value+";"+a.d.UserOptOutOptions+":"+r}else document.head.setAttribute("data-info",o)}isRiverPlacement(e){return e&&(e.indexOf(a.d.OneRiverMain)>-1||e.indexOf(a.d.OneRiverMainFlex)>-1)}updateInfopanePlacement(e){const t=e.mappedRegion&&e.mappedRegion.toLowerCase(),n=e.indices,i=this.config.samPlacementMaxIndexInInfopaneXFeed&&Number(this.config.samPlacementMaxIndexInInfopaneXFeed);if(this.currentState=this.getCurrentState(),!this.isNotMyFeed()||t!==a.d.InfopaneRegionKeyWord||!n||isNaN(i))return e;{const t=[];for(const e of n){const n=Number(e);isNaN(n)||n<=i&&t.push(n.toString())}if(t.length>0){const n=Object.assign({},e);return n.indices=t,n}}}mergeRiverPlacements(e,t){if(!e)return null;const n=new Map;for(const t of e){const e=t.indices;if(e)for(const i of e){const e=Number(i);isNaN(e)||n.set(e,t)}}const i=new Map([...n.entries()].sort((e,t)=>e[0]-t[0])),a=[];return i.forEach((e,n)=>{const i=a.length-1;if(i>-1){const r=a[i];if(e.mappedRegion===r.mappedRegion)r.indices.push(n.toString());else{const i={region:e.region,indices:[n.toString()],priority:t++,mappedRegion:e.mappedRegion,mappedPartnerIdBelowTheFold:e.mappedPartnerIdBelowTheFold};a.push(i)}}else{const i={region:e.region,indices:[n.toString()],priority:t++,mappedRegion:e.mappedRegion,mappedPartnerIdBelowTheFold:e.mappedPartnerIdBelowTheFold};a.push(i)}}),a}registerCurrentPageRequestIdCallback(e){this.getCurrentPageRequestIdCallback=e}}var pe=n("05Au");class ge{reduce(e,t){if(!e)return{backfillTrack:new Map,cmsNativeAdTrack:new Map,toBeFiredAdIndices:new Set,infopaneAdIndicesToBeFetched:new Set,infopaneAdIndicesProcessed:new Set,placementStatus:[],pendingSAMNativeAdCallNumber:0,personalizedStripeTrackNumber:0,cmsItemMap:new Map};if(!t)return e;let n,i=!1;return i=pe.a.handleAction(t,s.a.fetchSAMNativeAdCompleted,(t,i)=>{if(e.samNativeAdResponse===t)return;const a=e&&e.samNativeAdResponse&&e.samNativeAdResponse.placements?e.samNativeAdResponse.placements:null,r=Object.assign({},t);if(a&&a.length>0&&r.placements){const e=r.placements.concat(a);r.placements=e}n=Object.assign(Object.assign({},e),{samNativeAdResponse:r,lastResponseMetadata:i})}),i=i||pe.a.handleAction(t,s.a.fetchSAMNativeAdFailed,()=>{e.fetchSAMNativeAdError||(n=Object.assign(Object.assign({},e),{fetchSAMNativeAdError:!0}))}),i=i||pe.a.handleAction(t,s.a.fetchCMSNativeAdCompleted,(t,i)=>{const a=e.cmsNativeAdResponse&&e.cmsNativeAdResponse.length>0,r=e.cmsItemMap&&e.cmsItemMap.size>0;i&&i.size>0&&!r?n=Object.assign(Object.assign({},e),{cmsItemMap:i}):t&&t.length>0&&!a&&(n=Object.assign(Object.assign({},e),{cmsNativeAdResponse:t}))}),i=i||pe.a.handleAction(t,s.a.fetchCMSNativeAdFailed,()=>{e.fetchCMSNativeAdError||(n=Object.assign(Object.assign({},e),{fetchCMSNativeAdError:!0}))}),i=i||pe.a.handleAction(t,s.a.fetchBackfillCompleted,t=>{e.backfillResponse===t&&e.backfillResponse.length===t.length||(n=Object.assign(Object.assign({},e),{backfillResponse:t}))}),i=i||pe.a.handleAction(t,s.a.fetchBackfillFailed,()=>{e.fetchBackfillError||(n=Object.assign(Object.assign({},e),{fetchBackfillError:!0}))}),i=i||pe.a.handleAction(t,s.a.samNativeAdServedTrack,(t,i)=>{if(!e.preloadPlacementMap||!t)return;const a=t+"|"+i,r=new Map(e.preloadPlacementMap);r.has(a)&&(r.set(a,!0),r.forEach((e,n)=>{const a=n.split("|");if(a.length>=2){const o=parseInt(a[1]);!isNaN(o)&&o<i&&a[0]===t&&!1===e&&r.set(n,!0)}})),e.preloadPlacementMap!==r&&(n=Object.assign(Object.assign({},e),{preloadPlacementMap:r}))}),i=i||pe.a.handleAction(t,s.a.preloadPlacements,t=>{if(e.preloadPlacements===t||!t||t.length<1)return;let i=[];const a=e.preloadPlacements;if(!a||a&&0===a.length)i=[...t];else{const e=a.length-1,n=a[e];i=[...a];for(const a of t)if(n&&n.priority===a.priority&&n.region===a.region&&a.indices){const t=n.indices.concat(a.indices),r={region:a.region,indices:t,priority:a.priority,mappedRegion:a.mappedRegion};i.splice(e,1,r)}else i.push(a)}n=Object.assign(Object.assign({},e),{preloadPlacements:i})}),i=i||pe.a.handleAction(t,s.a.preloadPlacementMap,t=>{e.preloadPlacementMap===t||!t||t.size<1||(n=Object.assign(Object.assign({},e),{preloadPlacementMap:t}))}),i=i||pe.a.handleAction(t,s.a.updateInfopaneAdIndicesToBeFetched,t=>{t&&(n=Object.assign(Object.assign({},e),{infopaneAdIndicesToBeFetched:t}))}),i=i||pe.a.handleAction(t,s.a.cmsNativeAdTrack,(t,i)=>{if(!t||e.cmsNativeAdTrack&&e.cmsNativeAdTrack.has(t)&&e.cmsNativeAdTrack.get(t)===i)return;const a=new Map(e.cmsNativeAdTrack);a.set(t,i),n=Object.assign(Object.assign({},e),{cmsNativeAdTrack:a})}),i=i||pe.a.handleAction(t,s.a.backfillTrack,(t,i)=>{if(!t||e.backfillTrack&&e.backfillTrack.has(t)&&e.backfillTrack.get(t)===i)return;const a=new Map(e.backfillTrack);a.set(t,i),n=Object.assign(Object.assign({},e),{backfillTrack:a})}),i=i||pe.a.handleAction(t,s.a.clearState,()=>{n=Object.assign(Object.assign({},e),{samNativeAdResponse:null,preloadPlacements:null,preloadPlacementMap:null,lastResponseMetadata:null,cmsNativeAdTrack:null,toBeFiredAdIndices:null,infopaneAdIndicesToBeFetched:null,infopaneAdIndicesProcessed:null,backfillTrack:null,placementStatus:null,pendingSAMNativeAdCallNumber:0,lastFiredPrefetchedPlacements:null,personalizedStripeTrackNumber:0})}),i=i||pe.a.handleAction(t,s.a.updatePivotId,t=>{e.pivotId!==t&&t&&(n=Object.assign(Object.assign({},e),{pivotId:t}))}),i=i||pe.a.handleAction(t,s.a.samNativeAdReady,()=>{}),i=i||pe.a.handleAction(t,s.a.sentPlacements,t=>{if(!t||0===t.length)return;const i={placements:t,isProcessed:!1};let a=[];e.placementStatus&&(a=[...e.placementStatus]),a.push(i),n=Object.assign(Object.assign({},e),{placementStatus:a})}),i=i||pe.a.handleAction(t,s.a.processedPlacements,()=>{if(!e.placementStatus||0===e.placementStatus.length)return;const t=[...e.placementStatus];for(const e of t)if(!1===e.isProcessed){e.isProcessed=!0;break}n=Object.assign(Object.assign({},e),{placementStatus:t})}),i=i||pe.a.handleAction(t,s.a.increasePendingSAMCallNumber,()=>{let t=0;e.pendingSAMNativeAdCallNumber>=0&&(t=e.pendingSAMNativeAdCallNumber,t++),t!==e.pendingSAMNativeAdCallNumber&&(n=Object.assign(Object.assign({},e),{pendingSAMNativeAdCallNumber:t}))}),i=i||pe.a.handleAction(t,s.a.decreasePendingSAMCallNumber,()=>{let t=0;e.pendingSAMNativeAdCallNumber>0&&(t=e.pendingSAMNativeAdCallNumber,t--),t===e.pendingSAMNativeAdCallNumber||t<0||(n=Object.assign(Object.assign({},e),{pendingSAMNativeAdCallNumber:t}))}),i=i||pe.a.handleAction(t,s.a.updateLastFiredPrefetchedPlacements,t=>{t&&e.lastFiredPrefetchedPlacements!==t&&(n=Object.assign(Object.assign({},e),{lastFiredPrefetchedPlacements:t}))}),i=i||pe.a.handleAction(t,s.a.updatePageType,t=>{e.pageType!==t&&t&&(n=Object.assign(Object.assign({},e),{pageType:t}))}),i=i||pe.a.handleAction(t,s.a.updateEcasession,t=>{e.ecasession!==t&&t&&(n=Object.assign(Object.assign({},e),{ecasession:t}))}),i=i||pe.a.handleAction(t,s.a.updateCookieWallPresentStatus,t=>{e.isCookieWallPresent!==t&&void 0!==t&&(n=Object.assign(Object.assign({},e),{isCookieWallPresent:t}))}),i=i||pe.a.handleAction(t,s.a.isCookieSyncExecuted,()=>{e.isCookieSyncExecuted||(n=Object.assign(Object.assign({},e),{isCookieSyncExecuted:!0}))}),i=i||pe.a.handleAction(t,s.a.updatePlacements,t=>{if(!t)return;const i=t.sort((e,t)=>e.priority>t.priority?1:e.priority===t.priority?0:-1);n=Object.assign(Object.assign({},e),{updatedPlacements:i})}),i=i||pe.a.handleAction(t,s.a.updateMergeSettingsOverride,(t,i)=>{if(!t||null==i)return;const a=new Map(e.mergedSettingsOverride),r=t.toLowerCase();a.has(r)||(a.set(r,i),n=Object.assign(Object.assign({},e),{mergedSettingsOverride:a}))}),i=i||pe.a.handleAction(t,s.a.infopaneSlideChanged,t=>{if(void 0===t)return;const i=t,r=i+a.d.AdServedFireRange;let o=[];if(e.updatedPlacements){const t=e.updatedPlacements.filter(e=>e.mappedRegion&&e.mappedRegion.toLocaleLowerCase()===a.d.InfopaneRegion),n=t&&t.pop(),s=n&&n.indices&&n.indices.map(e=>parseInt(e,10));o=s&&s.filter(t=>t>=i&&t<=r&&(!e.infopaneAdIndicesProcessed||!e.infopaneAdIndicesProcessed.has(t)))}if(!o||0===o.length)return;const s=e.toBeFiredAdIndices?new Set([...e.toBeFiredAdIndices,...o]):new Set([...o]),c=e.infopaneAdIndicesProcessed?new Set([...e.infopaneAdIndicesProcessed,...o]):new Set([...o]);n=Object.assign(Object.assign({},e),{infopaneAdIndicesToBeFetched:new Set(o),infopaneAdIndicesProcessed:c,toBeFiredAdIndices:s})}),i=i||pe.a.handleAction(t,s.a.updatePersonalizedStripeTrackNumber,()=>{let t=0;isNaN(e.personalizedStripeTrackNumber)||(t=e.personalizedStripeTrackNumber),t++,n=Object.assign(Object.assign({},e),{personalizedStripeTrackNumber:t})}),n||e}}const me={experienceConfigSchema:c.PlacementManagerConfigSchema}},n6wx:function(e,t){},om92:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("uhNu"),a=n("pCrc"),r=n("6xGu"),o=n("LJMo"),s=n("Am8i"),c=n("qg1f"),d=n("y2Il");const l={[o.a.HalfPane]:{0:{width:1.2,height:1}},[o.a.HeadToHead]:{0:{width:2,height:1},1:{width:2,height:1}},[o.a.Mosaic]:{0:{width:2,height:1},1:{width:2,height:2},2:{width:2,height:2}},[o.a.Triptych]:{0:{width:3,height:1.4},1:{width:3,height:1.4},2:{width:3,height:1.4}}};function u(e,t,n){const i=l[e],a=i&&i[t];return a?{height:Math.floor(n.height/a.height)||0,width:Math.floor(n.width/a.width)||0}:void 0}function h(e,t){return e!==o.a.HalfPane?d.a._5:0===t?d.a._4:d.a._8}function p(e,t){return 0===t&&e===o.a.HalfPane?2:3}var g=n("ERkP"),m=n.n(g),b=n("rvYQ"),f=n("DsD+");var C=n("3ZGc");function v(e,t,n,l,g,v,S){const y=t.type,O=[];n&&n.forEach((n,i)=>{const C=t.subItems[i],x=n?n.type===o.a.ExternalLink?function(e,t,n,i,r,o,c){const l=o?o.addOrUpdateChild({name:"ComplexContentCard",type:s.e.Headline}):null,g=t&&t.metadata,b=g&&g.feed&&g.feed.id,C=h(n,r),v={tag:d.b.h3,size:C,children:g&&g.title},S=p(n,r),y=t&&Object(f.a)(t,b,l,e.openLinksInNewTab),O=Object(f.b)(t),x=Object(f.c)(t,u(n,r,i),c),w=l?l.render():{};return Object.assign({destination:y,heading:v,headingMaxLines:S,image:x?e=>m.a.createElement(a.a,Object.assign(Object.assign({},x),{className:e})):null,attribution:O},w)}(e,n,y,l,i,g,v):function(e,t,n,i,d,l,g,f,C){const{localizedStrings:v}=e,S=b.a.CurrentMarket,y=e.openLinksInNewTab,O=i===o.a.Mosaic&&l,x=g?g.addOrUpdateChild({name:"ComplexContentCard",type:s.e.Headline}):null,w=n&&n.metadata,j=t.category,R=w&&w.category||j&&j.product||"news",P=w&&w.subCategory||j&&j.label||"other",I=w&&w.feed&&w.feed.id,A=h(i,l),k=Object(r.e)(t,A),M=function(e,t,n,i,a,o,c,d){const l=Object(r.c)(e,t,n,i),u=Object(r.d)(e,a,o,l,d?s.e.Headline:void 0,d?s.b.Navigate:void 0)||{};return Object.assign({href:l,target:c?"_blank":void 0},u)}(t,S,R,P,I,x,y,C),T=O?null:Object(r.i)(t),E=Object(r.h)(t,T),_=Object(r.g)(t,v&&v.imageAttributionLabel,!C),H=Object(r.b)(t,v&&v.contentProviderAttributionLabel),N=p(i,l),L=function(e,t,n,i,a){const o=e.images&&e.images[0];if(!o||!o.id)return;const s=u(t,n,i);let d=void 0;s&&(d=Object(r.f)(e,s),d.style={maxHeight:s.height},a&&(d.onLoad=()=>a(c.b.Ready),d.onError=()=>a(c.b.Unsupported)));return d}(t,i,l,d,f),F=x?x.render():{};return Object.assign({destination:Object.assign(Object.assign({},M),{title:_,"aria-label":H}),heading:k,headingMaxLines:N,image:L?e=>m.a.createElement(a.a,Object.assign(Object.assign({},L),{className:e})):null,attribution:E},F)}(e,n,C,y,l,i,g,v,S):null;O.push(x)});const{width:x,height:w}=l;let j=void 0;const R=t.metadata;return R&&R.title&&(j={size:i.a.large,children:R.title}),{cardType:y,contentCards:O,height:w?Object(C.a)(w):void 0,kicker:j,width:x?Object(C.a)(x):void 0}}},pAXR:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("G82u");class a{}a.updateCacheBypassValue=new i.a("UpdateCacheBypassValue")},pbks:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("D57K"),a=n("HxRh"),r=n("tMmC"),o=n("4HvF"),s=n("YIhf"),c=n("zfSW"),d=n("rvYQ"),l=n("u5KZ");function u(e,t=!1,n=1e3){return Object(i.b)(this,void 0,void 0,(function*(){let s;const{id:l,metadata:u}=e,{locale:g,variation:m}=u||{};if(l)return o.c&&(s=function(e){const t=o.a.get(e);if(!t||!t.payload)return;return r.a.log(`Returning content preview item from IndexedDB cache - [${e}]`),t.payload}(l),s)||t&&(s=yield function(e,t){return Object(i.b)(this,void 0,void 0,(function*(){const n=yield Object(c.a)({id:e},t);if(n&&n.fetched&&n.payload)return r.a.log(`Returning content preview item from web worker response - [${e}]`),n.payload}))}(l,n),s)?s:function(e,t,n){return Object(i.b)(this,void 0,void 0,(function*(){let i,o;try{if(t&&n){const a=d.a.ContentServiceUrlBase.search?d.a.ContentServiceUrlBase.search+"&market="+n:"?market="+n;i=new URL(`view/v1/Preview/${e}${t}${a}`,d.a.ContentServiceUrlBase).toString()}else i=new URL(`view/v1/Preview/${e}${d.a.ContentServiceUrlBase.search}`,d.a.ContentServiceUrlBase).toString();if(o=yield fetch(i),r.a.log("ContentPreview content fetched"),!o||!o.ok)return void p(Object.assign(Object.assign({},a.T.InvalidResponseFromContentPreviewFetch),{message:"Invalid response from ContentPreview fetch",pb:Object.assign(Object.assign({},a.T.InvalidResponseFromContentPreviewFetch.pb),{customMessage:`Invalid response from ContentPreview fetch for ${i}. ${h(o)}.`})}));const s=yield o.json();return s||void p(Object.assign(Object.assign({},a.T.InvalidResponseFromContentPreviewResponseJson),{message:"Invalid response from ContentPreview response.json()",pb:Object.assign(Object.assign({},a.T.InvalidResponseFromContentPreviewResponseJson.pb),{customMessage:`Invalid response from ContentPreview for: ${i}.`})}))}catch(e){p(Object.assign(Object.assign({},a.T.ErrorWhileFetchingContentPreviewContent),{message:"Content fetch failed",pb:Object.assign(Object.assign({},a.T.ErrorWhileFetchingContentPreviewContent.pb),{customMessage:`Content fetch failed for: ${i}. Error: ${e&&e.message}. Stack: ${e&&e.stack}`})}))}}))}(l,m,g);p(Object.assign(Object.assign({},a.T.InvalidOrMissingContentId),{message:"Content ID was not available while attempting to load ContentPreview content"}))}))}function h(e){return e?`statusText: ${e.statusText}, status: ${e.status}`:""}function p(e){Object(s.a)()||l.a.sendAppErrorEvent(e)}},"q/M1":function(e,t){},qJWt:function(e,t,n){"use strict";n.r(t),n.d(t,"ExternalContentPreview",(function(){return Se})),n.d(t,"ExternalContentPreviewConnector",(function(){return pe})),n.d(t,"ExternalContentPreviewReducer",(function(){return be})),n.d(t,"ToolingInfo",(function(){return ye}));var i=n("+viU"),a=n("5mwN"),r=n("JpJ4"),o=n("Gcx/"),s=n("ggrA"),c=n("MF9s"),d=n("SP+O"),l=n("odxL"),u=n("rRWH"),h=n("3ZGc"),p=n("rRnI");const g={externalContentPreview:{background:c.k,color:d.c,position:"relative"}},m=e=>({contentCard_image:{margin:"auto"},contentCard_imageRegion:{width:"100%"},contentCard_headingContent:{overflow:"hidden","-webkit-box-orient":"vertical",display:"-webkit-box","-webkit-line-clamp":""+(e||p.d.Default)}}),b={contentCard_kickerContent:{"max-width":"140px"}},f={contentCard_kickerContent:{"max-width":"162px"}},C=e=>({contentCard_contentRegion:{padding:"8px 16px 0",display:"block"},contentCard_kicker:{"align-items":"center",border:"none",display:"flex","flex-wrap":"wrap","justify-content":"center",position:"absolute",bottom:"40px",width:"270px","white-space":"nowrap","&:hover, &:focus":{opacity:"1"},"& div":{border:"1px solid "+Object(l.c)(e),color:l.c,height:"22px",overflow:"hidden",padding:"0 10px","&:hover, &:focus":{color:l.b,"text-decoration":"none"}},"& span":{"align-items":"center",display:"inline-flex",height:"100%","max-width":"220px",overflow:"hidden"}},contentCard_abstract:{color:d.c,"min-height":"initial",overflow:"hidden","text-align":"center","&:after":{height:"0"}},contentCard_heading:{"text-align":"center"},contentCard_headingContent:{color:d.c,"font-size":"24px","margin-bottom":"8px","margin-top":"6px",overflow:"hidden","text-align":"center","text-overflow":"ellipsis","white-space":"nowrap"},contentCard_attributionRegion:{"padding-bottom":"12px"},contentCard_attribution:{width:"100%","& span":{overflow:"hidden","text-align":"center","text-overflow":"ellipsis",width:"100%","white-space":"nowrap"}},contentCard_imageRegion:{background:c.k}}),v=e=>({contentCard_headingContent:{"&&":{color:d.c,"max-height":"28px",overflow:"hidden","text-overflow":"ellipsis"}},contentCard_contentRegion:{"&&":{"max-height":"94px",overflow:"hidden"}},contentCard_abstract:{"&&":{"margin-top":"8px"},"min-height":"59px","max-height":"59px","&:after":{height:"0px"}},contentCard_image:{"&&":{width:"90px",height:"90px","object-fit":"none"}},contentCard_imageRegion:{background:c.k}}),S=e=>Object.assign(Object.assign({},m),{contentCard_contentRegion:{padding:"0 12px"},contentCard_attributionRegion:{"&&":{padding:"12px"}},contentCard_image:{"max-width":"none"},contentCard_imageRegion:{width:"100%",height:"100%","justify-content":"center"},contentCard_actionRegion:{bottom:"0",[Object(u.b)("right","left",e.direction)]:"0"},contentCard_actionIcon:{width:"40px",height:"40px",[Object(u.b)("margin-left","margin-right",e.direction)]:"0"}}),y=e=>({adLabel:{[Object(u.b)("margin-right","margin-left",e.direction)]:Object(h.a)(5),"border-style":"none","&:hover, &:focus":{"text-decoration":"underline"},"background-color":"#1E6525","vertical-align":"6%","padding-top":"1px"}}),O=e=>({adLabel:{[Object(u.b)("margin-right","margin-left",e.direction)]:Object(h.a)(5),"border-style":"none","&:hover, &:focus":{"text-decoration":"underline"},"background-color":"#595959","vertical-align":"6%","padding-top":"1px"}});var x=n("B9ci"),w=n("uT2j"),j=n("ERkP"),R=n.n(j),P=n("7nmT"),I=n.n(P);class A extends a.a{constructor(){super(...arguments),this.handledProps=Object.assign(Object.assign({},a.b),{cardId:void 0,contentCardProps:void 0,enableBigImageOn1x2y:void 0,managedClasses:void 0,physicalHeight:void 0,physicalWidth:void 0}),this.getAdditionalCardStyles=()=>{const{contentCardProps:e,enableBigImageOn1x2y:t}=this.props;return e.layout===o.a._1x_1y?e.image&&e.curatedBy?b:e.image?f:null:t?S:m(e.headingMaxLines)}}render(){super.render();const{contentCardProps:e,cardId:t,physicalWidth:n,physicalHeight:i}=this.props;return R.a.createElement("div",Object.assign({},this.unhandledProps(),{"data-card-id":t,className:this.props.managedClasses.externalContentPreview,style:Object.assign({width:n,height:i})}),e?this.renderContentCard():null)}renderContentCard(){const{contentCardProps:e}=this.props,t=this.getAdditionalCardStyles();return e.imagePriority||e.image&&e.layout===o.a._2x_2y?R.a.createElement(w.a,Object.assign({},r.c),R.a.createElement(s.a,Object.assign({jssStyleSheet:t},e))):R.a.createElement(s.a,Object.assign({jssStyleSheet:t},e))}componentDidMount(){if(Object(x.b)())return;const{contentCardProps:e}=this.props,{heading:t,headingMaxLines:n}=e,i=I.a.findDOMNode(this),a=i&&i.querySelector("[class*=contentCard_headingContent]");Object(x.a)(a,t.size,n)}}A.defaultProps={experienceName:"ExternalContentPreview"},A.renderCounterPrefix="Content";var k,M=n("u82V"),T=n("D57K"),E=n("uEMx"),_=n("5neD"),H=n("c1hv"),N=n("KaPL"),L=n("pCrc"),F=n("4YCp"),D=n("NS3c"),z=n("wirn"),W=n("YJhp"),U=n("DsD+"),B=n("LJMo");!function(e){e.Enhanced="enhanced"}(k||(k={}));var $=n("Am8i"),G=n("u5KZ"),q=n("6xGu"),K=n("y2Il");const V={[o.a._2x_2y]:p.a.Heading_2x,[o.a._1x_1y]:p.a.Heading_Half,[o.a._1x_2y]:p.a.Heading_1x,[o.a._1x_3y]:p.a.Heading_1x};function J(e,t){return{tag:K.b.h3,size:V[t],children:e}}function Z(e,t,n,i){let a,r=e.width;if(Object(H.a)(t,E.a.LandscapeImage_2x))a=i?p.b.BigImage_1x:p.b.Landscape_2x;else if(Object(H.a)(t,E.a.LandscapeImage_1x))a=p.b.Landscape_1x;else if(Object(H.a)(t,E.a.PortraitImage_1x))a=p.b.Portrait_1x;else{if(!Object(H.a)(t,E.a.Image_1x1y))return null;a=p.b.Image_1x1y,r=n||a.width}return Object(q.j)(a,r)}var Q=n("+qLX"),X=n("w0HK"),Y=n("+79V"),ee=n("jgQC"),te=n("OOr/"),ne=n("U6fx");function ie(e,t,n,i,a,r,s){const{metadata:c}=t||{},{actionText:d,feed:l,title:u,abstract:g,actionHoverText:m}=c||{},{height:b,width:f}=i||{},S=a===o.a._1x_1y,x=Object(_.e)(a,o.a._1x_3y,n,E.a.PortraitImage_1x),w=r?r.addOrUpdateChild({name:"ContentCard",type:$.e.Headline}):null,j=l&&l.id,P=S?J(u,o.a._1x_2y):function(e){return{tag:K.b.h4,size:K.a._4,children:e&&e.metadata&&e.metadata.title}}(t),I=Object(U.a)(t,j,w,!e.linksInSameTab),A=function(e,t){const{metadata:n}=e||{},i=n&&n.kicker&&n.kicker.length&&n.kicker[0].feedName,a=R.a.createElement("span",{key:"span"},i||""),r=function(e,t){if(e){const n={label:e},i={title:e},a=Object.assign(Object.assign(Object.assign({},n),i),{jssStyleSheet:t?O:y});return R.a.createElement(Y.a,Object.assign(Object.assign({},a),{key:"AdLabel"}),null)}return null}(n.adLabel,t.enableGreyAdsLabel),o=n&&{tag:K.b.span,size:K.a._7,children:r?[r,a]:a};return n&&{children:R.a.createElement(te.a,o)}}(t,e),k=w?w.addOrUpdateChild({name:"kicker",behavior:$.b.Navigate,destinationUrl:I.href,content:{headline:d}}).render():null,M=!S&&d&&d.length&&Object.assign({children:R.a.createElement("div",{},R.a.createElement("span",{},d||"")),href:I.href,target:I.target,title:m},k);let T=Object(H.a)(n,E.a.Image);!T&&e.stockImage&&(n|=E.a.LandscapeImage_2x,T=!0);const N=T&&Object(U.c)(t,Z(i,n,e.halfHeightImageTargetSize),s,e.stockImage,"png"),L={style:!S&&d&&d.length?{maxHeight:"40px"}:{},children:g||"",size:S?ne.a._3:void 0},F=S?a:o.a._1x_3y,D=x?p.d.Portrait_1x:p.d.Default,z=w?w.render():{};return Object.assign({abstract:L,destination:I,heading:P,image:N?e=>R.a.createElement(ee.default,Object.assign(Object.assign({},N),{className:e})):null,kicker:M,attribution:A,layout:F,height:b?Object(h.a)(b):null,width:f?Object(h.a)(f):null,headingMaxLines:D,jssStyleSheet:S?v:C},z)}var ae=n("C4R5");function re(e,t,n,i,a,r,s,c,d){return function(e){const{metadata:t}=e||{},{uiHint:n,theme:i}=t||{};return n===k.Enhanced||!!i}(t)?ie(e,t,n,a,i,r,s):function(e,t,n,i,a,r,s,c,d){const{metadata:l}=t||{},{feed:u,title:g,abstract:m}=l||{},{height:b,width:f}=a||{},C=Object(_.e)(i,o.a._1x_3y,n,E.a.PortraitImage_1x),v=r?r.addOrUpdateChild({name:"ContentCard",type:$.e.Headline}):null,S=u&&u.id,y=J(g,c?o.a._1x_2y:i),O=t&&Object(U.a)(t,S,v,!e.linksInSameTab),x=t&&Object(U.b)(t),w=i!==o.a._2x_2y?t&&function(e,t,n,i,a,r){const o=e&&e.metadata;if(!o||!o.kicker)return;const s=Object(H.b)(o.kicker);if(!s||!s.feedName)return;const{feedName:c,id:d}=s;d||(n=!1);const l=t?t.addOrUpdateChild({name:"kicker",behavior:$.b.Navigate,destinationUrl:location.href,content:{headline:c}}):null,u=n?{"data-customhandled":1}:{};return Object.assign(Object.assign({children:c.toLocaleUpperCase(),onClick:n?e=>{e&&(e.preventDefault(),G.a.sendActionEvent(e.target,$.a.Click)),r&&Object(ae.d)().pushHistory(c,d),Object(X.a)(a).switchPivot({pivotId:d,configIndexHref:i,context:{feedId:d!==c?d:null,userSelected:!0,query:d===c?c:null},telemetryPageName:Q.a.Xfeed,display:c})}:null,appearance:D.a.justified},l?l.render():null),u)}(t,v,e.renderKickerAsLink,e.xfeedConfigIndexHref,e.pivotsNavInstanceId,d):null;let j=Object(H.a)(n,E.a.Image);!j&&e.stockImage&&(n|=E.a.LandscapeImage_2x,n&=~E.a.Abstract,j=!0);const P=j&&t&&Object(U.c)(t,Z(a,n,null,c),s,e.stockImage),I=Object(H.a)(n,E.a.Abstract)?{children:m}:null,A=t&&t.type===B.a.WebContent?{filled:i===o.a._2x_2y,children:R.a.createElement(z.a,{glyphType:W.a.BingLogo})}:null,k=C?p.d.Portrait_1x:p.d.Default,M=v?v.render():{};return Object.assign({abstract:I,destination:O,enableExtraBottomSpace:e.enableExtraBottomSpace,heading:y,image:P?e=>R.a.createElement(L.a,Object.assign(Object.assign({},P),{className:e})):null,kicker:w,attribution:x,curatedBy:A?e=>R.a.createElement(F.a,Object.assign(Object.assign({},A),{className:e})):null,layout:i,height:b?Object(h.a)(b):null,width:f?Object(h.a)(f):null,headingMaxLines:k},M)}(e,t,n,i,a,r,s,c,d)}const oe={inspect:e=>{let t;const{state:n,config:i,connectorArgs:a}=e,{physicalWidth:r,physicalHeight:o,contentCardLayout:s,contentCardSize:c}=n,{loadedContent:d,telemetryObject:l,visualReadinessHandler:u}=a,p=c===N.a.Size1Wx7H,g=E.b[s];if(g){const{primaryImage:e,abstract:n}=d.metadata,{enableImageOn1x1y:c,disableAbstractCards:h}=i,m=Object(_.b)({image:e,abstract:n,enableImageOn1x1y:c,disableAbstractCards:h,enableBigImageOn1x2y:p}),b=g.find(e=>Object(H.a)(m,e.minContentFeatures));b&&(t=re(i,d,b.propsToMap,s,{width:r,height:o},l,u,p,a.useRouter))}return{props:{contentCardProps:t,enableBigImageOn1x2y:p,physicalHeight:o?Object(h.a)(o):null,physicalWidth:r?Object(h.a)(r):null},missingChildren:[]}}};var se=n("2Mxw"),ce=n("qg1f"),de=n("WfnD"),le=n("s9+9"),ue=n("9J8d"),he=n("vhqU");class pe extends de.a{constructor(){super(...arguments),this.cardId=Object(he.a)("ecp"),this._supportedRiverCardSizes=N.a.None,this.useRouter=!1}onComponentConnect(e){return Object(T.b)(this,void 0,void 0,(function*(){yield de.a.prototype.onComponentConnect.call(this,e);const{readinessCounter:t,serviceContextMetadata:n,readinessCounterIndex:i}=e;this.visualReadinessHandler=t&&t.tryCreateNotificationHandler(i),this.loadedContent=n,this.monetizationOption=this.loadedContent.type===B.a.WebContent?se.a.NonMonetizable:se.a.Monetizable;const a=ue.a.getInstance().rootReducer.connector(le.a.SharedState);this.useRouter=a&&a.getCurrentState().useHistory}))}mapStateToProps(e){const t={loadedContent:this.loadedContent,telemetryObject:this.telemetryObject,visualReadinessHandler:this.visualReadinessHandler,useRouter:this.useRouter};let{props:n}=oe.inspect({config:this.config,state:e,connectorArgs:t});return n&&this.setupImageStatusNotification(n.contentCardProps),n=Object.assign(Object.assign(Object.assign({},n),{cardId:this.cardId}),this.telemetryTags||{}),n}get supportedRiverCardSizes(){if(this._supportedRiverCardSizes||!this.loadedContent)return this._supportedRiverCardSizes;const{titleLength:e,abstractLength:t,primaryImage:n,uiHint:i}=this.loadedContent.metadata,{disableAbstractCards:a,unsupportedRiverCardSizes:r}=this.config;let o=r||0;return i&&(o|=N.a.Size1Wx7H|N.a.Size2Wx6H),this._supportedRiverCardSizes=Object(_.d)({titleLength:e,abstractLength:t,primaryImage:n,disableAbstractCards:a})&~o}setupImageStatusNotification(e){const t=this.visualReadinessHandler;if(!t||!this.loadedContent)return;e&&e.image||(e&&e.heading?t(ce.b.Ready):t(ce.b.Unsupported))}}var ge=n("05Au"),me=n("5p4t");class be{reduce(e,t){if(!e)return{};if(!t)return e;let n,i=!1;return i=i||ge.a.handleAction(t,me.a.changeCardSize,(t,i,a)=>{const r=Object(_.c)(t);e.contentCardSize===t&&e.contentCardLayout===r&&e.physicalHeight===a&&e.physicalWidth===i||(n={contentCardLayout:r,physicalHeight:a,physicalWidth:i,contentCardSize:t})}),n||e}}var fe=n("FjFG"),Ce=n("sB3O"),ve=n("/ps7");const Se=Object(i.a)(g)(A),ye={reactComponent:Se,experienceConfigSchema:M.ExternalContentPreviewConfigSchema,mockState:ve.mockExternalContentPreviewState,mockConfig:fe.mockConfig,mockConnectorArgs:Ce.mockExternalContentPreviewConnectorArgs,inspector:oe.inspect}},qKya:function(e,t,n){"use strict";var i=n("ERkP"),a=n.n(i),r=n("OnwC"),o=n("o1qX");class s extends r.a{constructor(){super(...arguments),this.handledProps={image:void 0,managedClasses:void 0}}render(){const{attribution_image:e,attribution_contentRegion:t}=this.props.managedClasses;return a.a.createElement("div",Object.assign({},this.unhandledProps(),{className:this.generateClassNames()}),"function"==typeof this.props.image?this.props.image(Object(o.a)(e)):null,a.a.createElement("span",{className:Object(o.a)(t)},this.props.children))}generateClassNames(){return super.generateClassNames(Object(o.a)(this.props.managedClasses.attribution))}}s.displayName="Attribution",s.defaultProps={managedClasses:{}},t.default=s},qg1f:function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),function(e){e[e.Registered=0]="Registered",e[e.Ready=1]="Ready",e[e.Unsupported=2]="Unsupported"}(i||(i={}));class a{constructor(e,t,n){if(this.countForReady=e,this.notifyReadyCallback=t,this.notifyReadyCantCompleteCallback=n,this.notifyingComponentStatus=[],this.notificationCompleted=!1,this.additionalHandlersNotExpected=!1,this.finalExpectedRegisteredHandlerCount=0,!this.notifyReadyCallback)throw Error("notifyReadyCallback is not valid")}markNoNewHandlers(){this.notificationCompleted||(this.additionalHandlersNotExpected=!0,this.finalExpectedRegisteredHandlerCount=this.notifyingComponentStatus.length,this.checkForCompletion())}tryCreateNotificationHandler(e){if(!this.notificationCompleted){if(void 0!==this.notifyingComponentStatus[e])throw"attempting to override a registered handler";return this.notifyingComponentStatus[e]=i.Registered,t=>{this.notificationCompleted||this.notifyingComponentStatus[e]===i.Ready||this.notifyingComponentStatus[e]===i.Unsupported||(this.notifyingComponentStatus[e]=t,t!==i.Ready&&t!==i.Unsupported||this.checkForCompletion())}}}checkForCompletion(){if(this.additionalHandlersNotExpected&&!this.notifyingComponentStatus.length)return this.notificationCompleted=!0,void this.tryAndInvokeNotifyReadyCantCompleteCallback();let e=0,t=0,n=0;for(const a of this.notifyingComponentStatus){if(this.notificationCompleted)break;if(i.Ready===a)e++;else if(i.Unsupported===a)n++;else{if(i.Registered!==a)continue;t++}if(this.additionalHandlersNotExpected&&this.finalExpectedRegisteredHandlerCount-n<this.countForReady)this.notificationCompleted=!0,this.tryAndInvokeNotifyReadyCantCompleteCallback();else if(e+t>=this.countForReady){t<=0&&(this.notificationCompleted=!0,this.notifyReadyCallback());break}}}tryAndInvokeNotifyReadyCantCompleteCallback(){this.notifyReadyCantCompleteCallback&&this.notifyReadyCantCompleteCallback()}}},rPvf:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("D57K"),a=n("HxRh"),r=n("tMmC"),o=n("BQg2"),s=n("rvYQ"),c=n("y+Kz"),d=n("msIb"),l=n("6ADy"),u=n("KETb"),h=n("hxZq");class p{constructor(){this.cachedMetadata={}}get(e){const t=g(e);if(t)return this.cachedMetadata[t]}set(e,t){const n=g(e);n&&(this.cachedMetadata[n]=t)}}function g(e){if(e)return JSON.stringify(e)}var m=n("tERu"),b=n("u5KZ"),f=n("/+Un"),C=n("zJcZ");class v{constructor(e){this.config=e,this.responseCache=new p,this.requestPathWithoutFeedId="MSN/Feed/me",this.requestPathWithFeedId="MSN/Feed",this.requestPathForFeedLayout="MSN/FeedLayout"}fetch(e){return Object(i.b)(this,void 0,void 0,(function*(){let t=this.config.initialRequest;if(e&&(e.feedId||!t.feedId||e.nextPageUrl||(e.feedId=t.feedId),t=Object.assign(Object.assign({},t),e)),!t)return void b.a.sendAppErrorEvent(Object.assign(Object.assign({},a.Qb.RiverConfigurationIssue),{message:"default OneService fetch configuration was invalid"}));const n=this.responseCache.get(t);if(n)return n;const p={credentials:"include",headers:yield d.a.getOneServiceFeedCallHeaders(),method:"GET"},g=t.useNextPageUrl&&t.nextPageUrl,v=t.feedLayoutRequestType,S=!g&&v?this.requestPathForFeedLayout:t.feedId?this.requestPathWithFeedId:this.requestPathWithoutFeedId,y=Object(l.b)(S),O=Object(h.b)();if(g){const e=new o.a(new URL(g).search);O>0&&e.set(h.a,O.toString()),y.search=e.toString()}else{const e=(yield Object(f.b)())===m.b.SignedIn?d.a.getOneServiceParamsWithAuth(s.a.UserId,t.ocid,!1):d.a.getOneServiceParamsWithoutAuth(s.a.UserId,t.ocid,!1);this.requestQueryParams=new o.a;for(let t=0;t<e.length;t++)this.requestQueryParams.set(e[t].key,e[t].value);if(s.a.SendFeedCallActivityIdInHeader&&this.requestQueryParams.delete(c.w.activityId),v&&!t.start?this.requestQueryParams.set(c.w.feedLayoutRequestType,v):t.disableQueryType||this.requestQueryParams.set(c.w.queryType,"myfeed"),this.requestQueryParams.set(c.w.responseSchema,t.disableFlatViewResponse?"cardview":"flatview").set(c.w.wrapOData,"false").set(c.w.disableTypeSerialization,"true").set(c.w.timeOut,""+this.getRequestTimeout(t)).set(c.w.contentType,t.contentType),t.count&&this.requestQueryParams.set(c.w.top,""+t.count),this.tryAddQueryInterestParams(t)||this.requestQueryParams.set(c.w.ids,t.feedId).set(c.w.query,t.query),!v&&!t.disableLocation){const e=d.a.getLocationParams();e&&this.requestQueryParams.set(e.key,e.value)}t.start&&this.requestQueryParams.set(c.w.skip,""+t.start),t.infopaneItemCount&&(this.requestQueryParams.set(c.w.infopaneCount,""+t.infopaneItemCount),!1===t.complexInfopaneEnabled&&this.requestQueryParams.set(c.w.complexInfoPaneEnabled,"false")),O>0&&this.requestQueryParams.set(h.a,O.toString()),(t.useDelta||t.sessionId)&&(this.requestQueryParams.set(c.w.delta,"true"),t.sessionId&&this.requestQueryParams.set(c.w.session,t.sessionId)),y.search=this.requestQueryParams.toString()}let x,w;try{const e=yield Object(u.a)(()=>Object(i.b)(this,void 0,void 0,(function*(){return yield fetch(decodeURIComponent(y.href),p)})),"OneServiceCardProvider.fetch");if(x=yield e.json(),!e||!e.ok){const t=e?`OneService returned error response. status: ${e.status} - ${e.statusText}`:"OneService response was null";return void b.a.sendAppErrorEvent(Object.assign(Object.assign({},a.Qb.OneServiceResponseWasNullOrErroneous),{message:t,pb:Object.assign(Object.assign({},a.Qb.OneServiceResponseWasNullOrErroneous.pb),{customMessage:`ServiceUrl: ${y.href}, requestObj: ${JSON.stringify(p&&p.headers)}, responseMessage: ${JSON.stringify(x)}`})}))}if(e.headers){e.headers.get("X-Statics-Fallback")&&b.a.sendAppErrorEvent(Object.assign(Object.assign({},a.Qb.StaticContentLoaded),{pb:Object.assign(Object.assign({},a.Qb.StaticContentLoaded.pb),{customMessage:"Request URL: "+decodeURIComponent(y.href)}),message:"Fell back to static content on the feeds call"}));const t=e.headers.get("ddd-tmpl");b.a.addOrUpdateTmplString(t),w=e.headers.get("ddd-session-id")}}catch(e){return void b.a.sendAppErrorEvent(Object.assign(Object.assign({},a.Qb.ErrorFetchingOneServiceResponse),{message:"Error while fetching OneService response",pb:Object.assign(Object.assign({},a.Qb.ErrorFetchingOneServiceResponse.pb),{customMessage:`Error: ${e} serviceUrl: ${y.href} headers: ${JSON.stringify(p.headers)} activityId: ${s.a.ActivityId}`})}))}if(!x)return void b.a.sendAppErrorEvent(Object.assign(Object.assign({},a.Qb.InvalidJsonInOneServiceResponse),{message:"Didn't get valid JSON from response."}));const{nextPageUrl:j,feedItems:R}=Array.isArray(x.subCards)?Object(C.a)(x):x;if(!R)return void b.a.sendAppErrorEvent(Object.assign(Object.assign({},a.Qb.InvalidFeedListInOneServiceResponse),{message:"Didn't get valid feed items list from response.",pb:Object.assign(Object.assign({},a.Qb.InvalidFeedListInOneServiceResponse.pb),{customMessage:"Didn't get valid feed items list from response. JSON: "+JSON.stringify(x)})}));let P;if(R.length||t.start||(t.isSearchRequest?this.trackEmptyResponseForInterestSearch(t.feedId,t.query,y.href):t.feedId?this.trackEmptyResponseForXFeed(t.feedId,y.href):t.query?this.trackEmptyResponseForKidsMode(t.query,y.href):this.trackEmptyResponseForMyFeed(y.href)),R.length>=0?P=Object.assign(Object.assign({},t),{nextPageUrl:j,start:(t.start||0)+t.count}):r.a.log(`River has reached end of content stream. requested: ${t.count}, received: ${R.length}`),t.postRequestGrouping){const{start:e,count:n,type:i}=t.postRequestGrouping,a={type:i,subItems:R.splice(e,n)};R.splice(e,0,a)}const I={cardMetadata:R,nextPageRequest:P,sessionId:w};return this.responseCache.set(t,I),I}))}clearCache(){this.responseCache=new p}getRequestTimeout(e){const{timeoutMs:t,isSearchRequest:n,query:i,customFeedTimeoutMs:a}=e;return n&&i&&a?a:t}tryAddQueryInterestParams(e){if(!e.useVerticalAsInterest&&!e.useCategoryAsInterest)return!1;const t=(e.useVerticalAsInterest?s.a.HostPage.verticalKey:s.a.HostPage.categoryKey)||"",n=e.verticalCategoryKeyToInterestMapping[t.toLowerCase()],i=n||e.query;return this.requestQueryParams.set(c.w.query,encodeURIComponent(i)).set(c.w.source,e.contentSource),!!(n||e.useCategoryAsInterest&&!t)||(b.a.sendAppErrorEvent(Object.assign(Object.assign({},a.Qb.QueryInterestContentFetchError),{message:"Failed to get content",pb:Object.assign(Object.assign({},a.Qb.QueryInterestContentFetchError.pb),{customMessage:`Failed to get content for VerticalKey:${s.a.HostPage.verticalKey} | CategoryKey:${s.a.HostPage.categoryKey}. Loading fallback views river with ${i} content.`})})),!1)}trackAppErrorHelper(e,t,n,i,a){let r="";i&&(r+=`Feed id: ${i}. `),a&&(r+=`Feed query: ${a}. `),r+="href: "+n,b.a.sendAppErrorEvent(Object.assign(Object.assign({},e),{message:t,pb:Object.assign(Object.assign({},e.pb),{customMessage:r})}))}trackEmptyResponseForKidsMode(e,t){this.trackAppErrorHelper(a.jb,"OneService returned an empty feed for kids mode",t,null,e)}trackEmptyResponseForXFeed(e,t){this.trackAppErrorHelper(a.ib,"OneService returned an empty feed for an x-feed page.",t,e,null)}trackEmptyResponseForInterestSearch(e,t,n){e?this.trackAppErrorHelper(a.kb,"OneService returned an empty feed for a user searched xfeed.",n,e,null):this.trackAppErrorHelper(a.lb,"OneService returned an empty feed for a user query.",n,null,t)}trackEmptyResponseForMyFeed(e){this.trackAppErrorHelper(a.Qb.EmptyMyFeed,"OneService returned an empty feed for a myfeed request.",e,null,null)}}v.providerName="OneService"},rRnI:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return s}));var i=n("y2Il");const a={Landscape_2x:{width:624,height:350},Landscape_1x:{width:300,height:174},Portrait_1x:{width:300,height:374},BigImage_1x:{width:440,height:296},Tabbed_1x:{width:230,height:138},Image_1x1y:{width:90,height:90}},r=220,o={Default:3,Portrait_1x:2,Short_1x1y:1},s={Heading_1x:i.a._5,Heading_Short:i.a._7,Heading_2x:i.a._4,Heading_Tab:i.a._7,Heading_Rr:i.a._6,Heading_Half:i.a._6}},sB3O:function(e,t){},scFN:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("ERkP"),a=n.n(i),r=n("IATt");class o extends r.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return a.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),a.a.createElement("path",{d:"M1.75 6.125C1.87305 6.125 1.98698 6.14779 2.0918 6.19336C2.19661 6.23893 2.28776 6.30273 2.36523 6.38477C2.44727 6.46224 2.51107 6.55339 2.55664 6.6582C2.60221 6.76302 2.625 6.87695 2.625 7C2.625 7.12305 2.60221 7.23698 2.55664 7.3418C2.51107 7.44661 2.44727 7.54004 2.36523 7.62207C2.28776 7.69954 2.19661 7.76107 2.0918 7.80664C1.98698 7.85221 1.87305 7.875 1.75 7.875C1.62695 7.875 1.51302 7.85221 1.4082 7.80664C1.30339 7.76107 1.20996 7.69954 1.12793 7.62207C1.05046 7.54004 0.988932 7.44661 0.943359 7.3418C0.897786 7.23698 0.875 7.12305 0.875 7C0.875 6.87695 0.897786 6.76302 0.943359 6.6582C0.988932 6.55339 1.05046 6.46224 1.12793 6.38477C1.20996 6.30273 1.30339 6.23893 1.4082 6.19336C1.51302 6.14779 1.62695 6.125 1.75 6.125ZM7 6.125C7.12305 6.125 7.23698 6.14779 7.3418 6.19336C7.44661 6.23893 7.53776 6.30273 7.61523 6.38477C7.69727 6.46224 7.76107 6.55339 7.80664 6.6582C7.85221 6.76302 7.875 6.87695 7.875 7C7.875 7.12305 7.85221 7.23698 7.80664 7.3418C7.76107 7.44661 7.69727 7.54004 7.61523 7.62207C7.53776 7.69954 7.44661 7.76107 7.3418 7.80664C7.23698 7.85221 7.12305 7.875 7 7.875C6.87695 7.875 6.76302 7.85221 6.6582 7.80664C6.55339 7.76107 6.45996 7.69954 6.37793 7.62207C6.30046 7.54004 6.23893 7.44661 6.19336 7.3418C6.14779 7.23698 6.125 7.12305 6.125 7C6.125 6.87695 6.14779 6.76302 6.19336 6.6582C6.23893 6.55339 6.30046 6.46224 6.37793 6.38477C6.45996 6.30273 6.55339 6.23893 6.6582 6.19336C6.76302 6.14779 6.87695 6.125 7 6.125ZM12.25 6.125C12.373 6.125 12.487 6.14779 12.5918 6.19336C12.6966 6.23893 12.7878 6.30273 12.8652 6.38477C12.9473 6.46224 13.0111 6.55339 13.0566 6.6582C13.1022 6.76302 13.125 6.87695 13.125 7C13.125 7.12305 13.1022 7.23698 13.0566 7.3418C13.0111 7.44661 12.9473 7.54004 12.8652 7.62207C12.7878 7.69954 12.6966 7.76107 12.5918 7.80664C12.487 7.85221 12.373 7.875 12.25 7.875C12.127 7.875 12.013 7.85221 11.9082 7.80664C11.8034 7.76107 11.71 7.69954 11.6279 7.62207C11.5505 7.54004 11.4889 7.44661 11.4434 7.3418C11.3978 7.23698 11.375 7.12305 11.375 7C11.375 6.87695 11.3978 6.76302 11.4434 6.6582C11.4889 6.55339 11.5505 6.46224 11.6279 6.38477C11.71 6.30273 11.8034 6.23893 11.9082 6.19336C12.013 6.14779 12.127 6.125 12.25 6.125Z"}))}}o.defaultProps={viewBox:"0 0 14 14",width:"14px",height:"14px",xmlns:"http://www.w3.org/2000/svg"}},u4M6:function(e,t,n){"use strict";var i=n("OnwC"),a=n("o1qX"),r=n("ERkP"),o=n.n(r),s=n("eGM7"),c=n("n6wx");n.o(c,"AutoSuggestContext")&&n.d(t,"AutoSuggestContext",(function(){return c.AutoSuggestContext})),n.o(c,"ButtonDirection")&&n.d(t,"ButtonDirection",(function(){return c.ButtonDirection})),n.o(c,"ProgressType")&&n.d(t,"ProgressType",(function(){return c.ProgressType})),n.o(c,"RadioSlot")&&n.d(t,"RadioSlot",(function(){return c.RadioSlot}));class d extends i.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,active:void 0,slot:void 0}}render(){return o.a.createElement("div",Object.assign({},this.unhandledProps(),{role:"tabpanel","aria-hidden":!this.props.active,className:this.generateClassNames()}),this.props.children)}generateClassNames(){const{tabPanel:e,tabPanel__hidden:t}=this.props.managedClasses;return super.generateClassNames(Object(a.a)(e,[t,!this.props.active]))}}d.defaultProps={active:!1,managedClasses:{}},d.displayName=s.DisplayNamePrefix+"TabPanel",t.default=d},u82V:function(e,t){},uEMx:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var i,a=n("Gcx/"),r=n("5neD");!function(e){e[e.Core=0]="Core",e[e.Image=1]="Image",e[e.PortraitImage_1x=3]="PortraitImage_1x",e[e.LandscapeImage_1x=5]="LandscapeImage_1x",e[e.LandscapeImage_2x=9]="LandscapeImage_2x",e[e.BigImage_1x=17]="BigImage_1x",e[e.Image_1x1y=33]="Image_1x1y",e[e.Abstract=64]="Abstract"}(i||(i={}));const o={[a.a._2x_2y]:[{minContentFeatures:r.a.HasLandscapeImage_2x,propsToMap:i.LandscapeImage_2x},{minContentFeatures:r.a.HasBigImage_1x,propsToMap:i.BigImage_1x},{minContentFeatures:r.a.HasImage,propsToMap:i.Core},{minContentFeatures:r.a.HasAbstract,propsToMap:i.Abstract},{minContentFeatures:r.a.None,propsToMap:i.Core}],[a.a._1x_3y]:[{minContentFeatures:r.a.HasPortraitImage,propsToMap:i.PortraitImage_1x},{minContentFeatures:r.a.HasLandscapeImage|r.a.HasAbstract,propsToMap:i.LandscapeImage_1x|i.Abstract},{minContentFeatures:r.a.HasAbstract,propsToMap:i.Abstract},{minContentFeatures:r.a.None,propsToMap:i.Core}],[a.a._1x_2y]:[{minContentFeatures:r.a.HasLandscapeImage,propsToMap:i.LandscapeImage_1x},{minContentFeatures:r.a.HasAbstract,propsToMap:i.Abstract},{minContentFeatures:r.a.None,propsToMap:i.Core}],[a.a._1x_1y]:[{minContentFeatures:r.a.HasImage_1x1,propsToMap:i.Image_1x1y},{minContentFeatures:r.a.None,propsToMap:i.Core}]}},w5AX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("Am8i");class a{constructor(e){this.componentRoot=e,this.contentCard=this.componentRoot.addOrUpdateChild({name:"ContentCard",type:i.e.Headline}),this.destination=this.contentCard.addOrUpdateChild({name:"destination",behavior:i.b.Navigate,type:i.e.Headline}),this.kicker=this.contentCard.addOrUpdateChild({name:"kicker",behavior:i.b.Navigate}),this.action=this.contentCard.addOrUpdateChild({name:"card-action",behavior:i.b.Save,type:i.e.Module}),this.more=this.action.addOrUpdateChild({name:"Card Action Ellipses",type:i.e.DropDown,behavior:i.b.More}),this.like=this.action.addOrUpdateChild({name:"like",behavior:i.b.Like}),this.unlike=this.action.addOrUpdateChild({name:"Undo like",behavior:i.b.Unlike}),this.dislike=this.action.addOrUpdateChild({name:"dislike",behavior:i.b.Dislike}),this.undislike=this.action.addOrUpdateChild({name:"Undo dislike",behavior:i.b.Undislike}),this.status=this.action.addOrUpdateChild({name:"Undo save",type:i.e.ActionButton,behavior:i.b.Undefined}),this.comment=this.contentCard.addOrUpdateChild({name:"Comments",type:i.e.Module}),this.cards={}}mapContentCard(e){return this.contentCard=this.componentRoot.addOrUpdateChild({name:"ContentCard",type:i.e.Headline})}mapCardsArray(e,t){return this.cards[e]=this.contentCard.addOrUpdateChild({name:t[0],type:i.e.Module})}}},wUxM:function(e,t,n){"use strict";var i,a,r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),function(e){e.Cancel="cancel",e.Share="share",e.Save="save",e.Like="like",e.Dislike="dislike",e.HideStory="hide",e.MutePublisher="mute",e.Report="report",e.AdChoice="adChoice"}(i||(i={})),function(e){e.Top="top",e.Middle="middle",e.Bottom="bottom"}(a||(a={})),function(e){e[e.Misleading=1]="Misleading",e[e.Inappropriate=2]="Inappropriate",e[e.BadImage=3]="BadImage",e[e.Other=4]="Other"}(r||(r={}));const o={cardActionTelemetryName:"Card Action Ellipses",muteConfirmationTelemetryName:"Hide Stories from Publisher",muteButtonTelemetryName:"Mute",cancelTelemetryName:"Cancel",shareDialogTelemetryName:"Share",closeDialogTelemetryName:"Close",copyTelemetryName:"Copy",shareArticleTelemetryName:"ShareArticle",reportTelemetryName:"Report this ad",reportButtonTelemetryName:"Report",adChoiceTelemetryName:"AdChoice"},s="mute"},x0ne:function(e,t){},x2Ry:function(e,t){},xaBU:function(e,t,n){"use strict";n.d(t,"j",(function(){return l})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"m",(function(){return g})),n.d(t,"g",(function(){return m})),n.d(t,"k",(function(){return b})),n.d(t,"h",(function(){return f})),n.d(t,"n",(function(){return C})),n.d(t,"l",(function(){return v})),n.d(t,"d",(function(){return S})),n.d(t,"f",(function(){return y})),n.d(t,"i",(function(){return O})),n.d(t,"e",(function(){return x})),n.d(t,"c",(function(){return w}));var i=n("SP+O"),a=n("MF9s"),r=n("objN"),o=n("8yfO"),s=n("rRnI"),c=n("rRWH"),d=n("mObi");const l={contentPreview:{color:i.c,position:"relative",cursor:"pointer",width:"100%"},contentPreview_loading:{background:a.k},fadeInAnimation:{"animation-name":"fadeIn","animation-duration":"0.5s","animation-timing-function":"ease-out"},"@keyframes fadeIn":{from:{opacity:0},to:{opacity:1}}},u=e=>({contentCard_actionRegion:{bottom:"0",[Object(c.b)("right","left",e.direction)]:"0"},contentCard_actionIcon:{width:"40px",height:"40px",[Object(c.b)("margin-left","margin-right",e.direction)]:"0"}}),h={icon:{width:"20px",height:"20px","max-height":"none","max-width":"none"}},p=Object.assign(Object.assign({},h),{icon_inline:Object.assign(Object.assign({},r.l),{fill:"white"})}),g={contentCard_kickerContent:{"max-width":"162px"}},m=Object(d.a)((e=s.d.Default)=>({contentCard__1x_2y:{"& $contentCard_imageRegion":{"max-height":"174px",overflow:"hidden"}},contentCard_image:{margin:"auto"},contentCard_imageRegion:{width:"100%"},contentCard_headingContent:{overflow:"hidden","-webkit-box-orient":"vertical",display:"-webkit-box","-webkit-line-clamp":""+e}})),b=e=>({contentCard__1x_1y:{"& $contentCard_imageRegion":{width:"auto"}},contentCard_headingContent:{display:"block","max-height":"unset"},contentCard_image:{height:"auto",margin:"auto",width:"100%"},contentCard_imageRegion:{width:"100%"}}),f=e=>Object.assign(Object.assign(Object.assign({},m()),u(e)),{contentCard_contentRegion:{padding:"0 12px"},contentCard_image:{"max-width":"none",height:"100%",width:"auto",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},contentCard_imageRegion:{width:"100%",height:"100%","justify-content":"center"},contentCard_attributionRegion:{"&&":{padding:"12px"}}}),C=e=>Object.assign(Object.assign(Object.assign({},u(e)),m()),{contentCard_contentRegion:{padding:"12px 12px 0"},contentCard_imageRegion:{"&&":{margin:"12px 12px 0",[Object(c.b)("margin-left","margin-right",e.direction)]:"0"}},contentCard_attributionRegion:{"&&":{padding:"0 12px 12px"}},contentCard_headingContent:{"line-height":"22px"}}),v=Object.assign(Object.assign({},g),{contentCard_headingContent:{"font-weight":"400"}}),S=Object.assign(Object.assign({},m()),{contentCard_headingContent:{"font-weight":"400",overflow:"hidden","-webkit-box-orient":"vertical",display:"-webkit-box","-webkit-line-clamp":"3"}}),y={contentCard_image:{height:"72px",width:"72px",overflow:"hidden"},contentCard_headingContent:{"font-size":"17px"}},O=Object.assign(Object.assign({},f),{contentCard_image:{height:"264px",width:"351px",overflow:"hidden"}}),x=e=>Object.assign(Object.assign({},f),S),w=Object(d.a)((e,t)=>({button:{"&&":Object.assign({padding:"0 3px",width:"auto"},Object(o.c)("t8"))},button_contentRegion:{color:e&&"white",[Object(c.b)("margin-left","margin-right",t.direction)]:"5px"}}))},xaDv:function(e,t){},y4Zl:function(e,t){},"ygW+":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("3EfD"),a=n("+viU"),r=n("XYDf");const o=Object(a.a)(r.a)(i.default)},z49O:function(e,t,n){"use strict";var i=n("OnwC"),a=n("o1qX"),r=n("ERkP"),o=n.n(r),s=n("eGM7"),c=n("PTSW");n.o(c,"AutoSuggestContext")&&n.d(t,"AutoSuggestContext",(function(){return c.AutoSuggestContext})),n.o(c,"ButtonDirection")&&n.d(t,"ButtonDirection",(function(){return c.ButtonDirection})),n.o(c,"ProgressType")&&n.d(t,"ProgressType",(function(){return c.ProgressType})),n.o(c,"RadioSlot")&&n.d(t,"RadioSlot",(function(){return c.RadioSlot}));class d extends i.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,active:void 0,slot:void 0}}render(){return o.a.createElement("div",Object.assign({},this.unhandledProps(),{role:"tab","aria-selected":this.props.active,className:this.generateClassNames()}),this.props.children)}generateClassNames(){const{tab:e,tab__active:t}=this.props.managedClasses;return super.generateClassNames(Object(a.a)(e,[t,this.props.active]))}}d.defaultProps={active:!1,managedClasses:{}},d.displayName=s.DisplayNamePrefix+"Tab",t.default=d},zJcZ:function(e,t,n){"use strict";function i(e){return e?{feedItems:e.subCards.map(e=>a(e)),nextPageUrl:e.nextPageUrl}:{}}function a(e){if(!e)return{};if(e.subCards)return function(e){const{type:t,title:n}=e,i=e.subCards.map(e=>a(e));return{type:t,subItems:i,metadata:{title:n}}}(e);if("link"===e.type)return function(e){const{id:t,type:n,images:i,url:a,category:r,feed:o={},title:d="",abstract:l=""}=e,u=c(i)||{},h=s(a),{uiHint:p,actionText:g}=e.uiMetadata||{};return{id:t,type:n,metadata:{abstractLength:l.length,title:d,titleLength:d.length,category:r||h[4],subCategory:"other",primaryImage:{height:u.height,width:u.width,url:u.url},locale:h[3],url:a,abstract:l,uiHint:p,actionText:g,feed:{id:o.id},kicker:[{feedName:o.feedName}]}}}(e);const{type:t,isBreaking:n,locale:i,category:l,images:u,topics:h=[],dataUrl:p,publishedDateTime:g,id:m,url:b,abstract:f="",title:C="",provider:v={},feed:S={},actions:y=[],externalVideoFiles:O,reactionSummary:x,commentSummary:w}=e,j=c(u)||{},R=c(O)||{},P=h.find(e=>e.feedId===S.id&&e.locale===i),I=s(b);return{id:m,type:t,metadata:{abstractLength:f.length,titleLength:C.length,category:l||I[4],subCategory:I[5],primaryImage:{height:j.height,width:j.width},locale:i,feed:{id:S.id},kicker:[S],actions:y.map(e=>d[e]||e),reactionSummary:x,commentSummary:w},cardContent:{id:m,type:r(t),title:C,uriTitle:I[6],abstract:f,isBreaking:n||0,tags:[P||{}],provider:{id:v.id,name:v.name,logo:{id:o(v.logoUrl)},logoUrl:v.logoUrl,subscribable:!1},category:{product:l,label:void 0},locale:i,images:[{id:o(j.url),height:j.height,width:j.width,caption:j.title,focalRegion:j.focalRegion,attribution:j.attribution,url:j.url}],videos:[{url:R.url,contentType:R.contentType}],publishedDateTime:g,kicker:C,sourceHref:p,destinationUrl:b}}}function r(e){switch(e){case"article":return"ArticlePreview";case"video":return"VideoPreview";case"slideshow":return"SlideshowPreview";default:return""}}function o(e){if(!e)return"";const t=e.split("/");return c(t)&&t[t.length-1].replace(".img","")}function s(e){return e?e.split("/"):[]}function c(e=[],t=0){return e[t]}n.d(t,"a",(function(){return i}));const d={liked:"like",unliked:"unlike",saved:"save"}},zeXT:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("MF9s"),a=n("6u3Q"),r=n("6QMD");const o=Object(r.d)(e=>{const t=Object(i.T)(e),n=Object(a.a)(e),r=Object(i.v)(e),o=n+(Object(a.e)(e)?-1:1)*r;return Object(a.d)(o,t)})}}]);