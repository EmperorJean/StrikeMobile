(window.webpackJsonp=window.webpackJsonp||[]).push([["recommendedSearch"],{"+Ui+":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a}));const n={recommendedSearch:"recommendedsearch"},a={rel:"noopener",target:"_blank"}},"0NrY":function(e,t,r){"use strict";var n=r("PfRV"),a=r("7FLv"),s=r("MF9s"),i=r("objN");const c={card:Object.assign(Object.assign(Object.assign(Object.assign({width:"100%",height:"100%",background:s.k},Object(n.b)()),Object(a.b)(a.a.e4)),{transition:"all 0.2s ease-in-out"}),i.d)};t.a=c},"0qLd":function(e,t){},"0vDZ":function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),function(e){e.article="article",e.div="div",e.section="section"}(n||(n={}))},"2USJ":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("05Au"),a=r("Ahgr");class s{reduce(e,t){if(!e)return{data:null};if(!t)return e;let r;return n.a.handleAction(t,a.a.renderRecommendedSearch,t=>{r=Object.assign(Object.assign({},e),{data:t})}),r||e}}},"8AuO":function(e,t,r){"use strict";var n=r("OnwC"),a=r("o1qX"),s=r("ERkP"),i=r.n(s),c=r("eGM7"),o=r("0vDZ");class d extends n.a{constructor(){super(...arguments),this.handledProps={children:void 0,managedClasses:void 0,tag:void 0}}render(){return i.a.createElement(this.tag,Object.assign({},this.unhandledProps(),{className:this.generateClassNames()}),this.props.children)}generateClassNames(){return super.generateClassNames(Object(a.a)(this.props.managedClasses.card))}get tag(){return o.a[this.props.tag]||o.a.div}}d.displayName=c.DisplayNamePrefix+"Card",d.defaultProps={managedClasses:{}};var m=d;t.a=m},"8H6j":function(e,t,r){"use strict";var n=r("OnwC"),a=r("o1qX"),s=r("ERkP"),i=r.n(s),c=r("eGM7"),o=r("fi3J");class d extends n.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,role:void 0}}render(){return i.a.createElement("hr",Object.assign({},this.unhandledProps(),this.generateAttributes(),{className:this.generateClassNames()}))}generateAttributes(){if(this.props.role&&this.props.role!==o.a.separator)return{role:o.a[this.props.role]}}generateClassNames(){return super.generateClassNames(Object(a.a)(this.props.managedClasses.divider))}}d.displayName=c.DisplayNamePrefix+"Divider",d.defaultProps={managedClasses:{}};var m=d;t.a=m},GLkz:function(e,t){},Nn6R:function(e,t,r){"use strict";var n=r("fz//"),a=r("3ZGc"),s=r("MF9s"),i=r("zeXT"),c=r("objN");const o={divider:Object.assign({"box-sizing":"content-box",height:"0",margin:"0",border:"none","border-top":Object(n.a)("{0} solid {1}",Object(a.a)(s.U),i.a),transition:"all 0.2s ease-in-out"},c.e)};t.a=o},Wwow:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("8H6j"),a=r("+viU"),s=r("Nn6R");const i=Object(a.a)(s.a)(n.a)},egFJ:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("8AuO"),a=r("+viU"),s=r("0NrY");const i=Object(a.a)(s.a)(n.a)},fi3J:function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),function(e){e.presentation="presentation",e.separator="separator"}(n||(n={}))},lWfA:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r("egFJ"),a=r("OnwC"),s=r("ERkP"),i=r.n(s),c=r("mObi");class o extends a.a{constructor(){super(...arguments),this.handledProps={children:void 0,height:void 0,managedClasses:void 0,width:void 0,tag:void 0}}render(){const{width:e,height:t}=this.props;return i.a.createElement(n.a,Object.assign({},this.unhandledProps(),{className:this.generateClassNames(this.props.managedClasses.cardBase),jssStyleSheet:o.generateStyles(e,t),tag:this.props.tag}),this.props.children)}}o.generateStyles=Object(c.a)((e,t)=>({card:{width:e,height:t}}),(...e)=>e.join());var d=o,m=r("+viU");var l={cardBase:{}};const h=Object(m.a)(l)(d)},qiIO:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("Am8i"),a=r("+Ui+");class s{static injectTelemetryObject(e,t,r){return t&&t.searchItems?(t.searchItems=t.searchItems.map(t=>{const s={name:a.b.recommendedSearch,type:n.e.SearchBox,content:{headline:t.query,type:n.c.SearchResult},destinationUrl:""},i=r||s,c=e.addOrUpdateChild(i);return Object.assign(Object.assign({},t),{telemetryTags:c?c.render():null})}),Object.assign({},t)):null}}},"r+Ld":function(e,t,r){"use strict";r.r(t),r.d(t,"RecommendedSearch",(function(){return _})),r.d(t,"RecommendedSearchActions",(function(){return w.a})),r.d(t,"RecommendedSearchCommonSchema",(function(){return n.RecommendedSearchCommonSchema})),r.d(t,"RecommendedSearchConnector",(function(){return N})),r.d(t,"RecommendedSearchReducer",(function(){return k.a})),r.d(t,"RecommendedSearchDataService",(function(){return E.a})),r.d(t,"RecommendedSearchTelemetry",(function(){return P.a})),r.d(t,"ToolingInfo",(function(){return B})),r.d(t,"TelemetryNames",(function(){return S.b}));var n=r("t6sn"),a=r("+viU"),s=r("ERkP"),i=r("5mwN"),c=r("FPTP"),o=r("y2Il"),d=r("Wwow"),m=r("83R0"),l=r("I6Lx"),h=r("rvYQ"),u=r("ADRF"),p=r("u5KZ"),g=r("JnE6"),f=r("ypwz"),b=r("lWfA"),S=r("+Ui+"),v=r("HxRh"),C=r("o1qX");class O extends i.a{constructor(e){super(e),this.handledProps=Object.assign(Object.assign({},i.b),{recommendedSearchHeading:void 0,noOfTermsSupported:void 0,managedClasses:void 0,data:void 0,fullSizeCardEnabled:void 0,unwrapCardBase:void 0}),this.recommendedSearchContainerReference=s.createRef(),this.recommendedSearchContainerReference=s.createRef()}render(){return super.render(),this.props.data&&this.props.data.searchItems&&this.props.data.searchItems.length?this.props.unwrapCardBase?this.renderWithoutBaseCard():s.createElement(b.a,{height:this.props.fullSizeCardEnabled?"100%":"50%"},this.renderWithoutBaseCard()):null}renderWithoutBaseCard(){return s.createElement("div",Object.assign({className:Object(C.a)(this.props.managedClasses.recommendedSearch,[this.props.managedClasses.recommendedSearch_halfSizeCard,this.props.unwrapCardBase&&!this.props.fullSizeCardEnabled])},this.unhandledProps()),this.renderRecommendedSearch())}componentDidUpdate(){p.a.scheduleContentViewEvent(g.b.Partial)}componentDidCatch(e){p.a.sendAppErrorEvent(Object.assign(Object.assign({},v.ic.RenderFailed),{message:`${e.message}\n${e.stack}`}))}renderRecommendedSearch(){return s.createElement("div",{className:this.props.managedClasses.recommendedSearch_container},this.renderCardHeader(),this.renderCardBody())}renderCardHeader(){const{managedClasses:e}=this.props;return s.createElement("div",{tabIndex:0,className:e.recommendedSearch_title,"aria-label":this.props.recommendedSearchHeading.children.toString()},s.createElement(c.a,Object.assign({tag:o.b.span,size:7,className:e.recommendedSearch_titleTypography},this.props.recommendedSearchHeading)),s.createElement(d.a,{className:e.recommendedSearch_headingDivider}))}renderCardBody(){return this.getSearchItems(this.props.data.searchItems)}getSearchItems(e){const t=[],{managedClasses:r}=this.props;for(let n=0;n<this.props.noOfTermsSupported;n++)t.push(s.createElement("li",{key:n,ref:this.setRef("item"+n),className:r.recommendedSearch_item},s.createElement(m.a,Object.assign({className:r.recommendedSearch_itemLink,href:this.getSearchItemUrl(e[n].url),title:e[n].query},S.a,{"aria-label":e[n].query},e[n].telemetryTags),e[n].query),s.createElement("div",{className:r.recommendedSearch_itemLinkDivider}),null!=e[++n]?s.createElement(m.a,Object.assign({className:r.recommendedSearch_itemLink,href:this.getSearchItemUrl(e[n].url),title:e[n].query},S.a,{"aria-label":e[n].query},e[n].telemetryTags),e[n].query):null));return s.createElement("ul",{className:r.recommendedSearch_itemsContainer},t)}getSearchItemUrl(e){let t=e;return t+=t.indexOf("?")>=0?"&msnews=1&rec_search=1":"?msnews=1&rec_search=1",t+=l.b.ClientSettings&&l.b.ClientSettings.aid?"&refig="+l.b.ClientSettings.aid:"",t+=this.getCcCode(),t}getCcCode(){if(h.a.AppType===f.a.EdgeChromium){const e=u.a.getParamsFromUrl(location.search),t=e&&e.length>0&&e.find(e=>"cc"===e.key.toLowerCase());if(t&&t.value)return`&${t.key}=${t.value}`}return""}}O.defaultProps={experienceName:"RecommendedSearch"};var j,w=r("Ahgr"),y=r("D57K"),R=r("WfnD"),E=r("r7RP");!function(e){e.inspect=function(e){return{props:{recommendedSearchHeading:e.config.recommendedSearchHeading,noOfTermsSupported:e.config.noOfTermsSupported||10,data:e.state.data,fullSizeCardEnabled:e.config.fullSizeCardEnabled||!1,unwrapCardBase:e.config.unwrapCardBase},missingChildren:[]}}}(j||(j={}));var P=r("qiIO");class N extends R.a{constructor(e,t,r,n,a,s,i){super(e,t,r,n,a,s,i),this.recommendedSearchDataService=new E.a}mapStateToProps(e){const t={config:this.config,children:this.childComponentInstanceList,state:e},r=j.inspect(t);return Object.assign({},r.props)}onComponentConnect(e){return Object(y.b)(this,void 0,void 0,(function*(){yield R.a.prototype.onComponentConnect.call(this,e),this.fetchRecommendedSearch()}))}fetchRecommendedSearch(){return Object(y.b)(this,void 0,void 0,(function*(){return this.recommendedSearchDataService.fetchRecommendedSearches(this.config).then(e=>this.telemetryObject?P.a.injectTelemetryObject(this.telemetryObject,e):e).then(e=>w.a.renderRecommendedSearch.getActionSender(this).send(e))}))}}var k=r("2USJ"),x=r("8yfO"),I=r("HZZz"),T=r("SP+O"),A=r("objN");var U=r("GLkz"),D=r("0qLd");const _=Object(a.a)(()=>({recommendedSearch:{height:"100%",width:"100%",overflow:"hidden"},recommendedSearch_container:{"box-sizing":"content-box",height:"100%",overflow:"hidden",padding:"0 12px"},recommendedSearch_title:{"margin-top":"10px",width:"100%"},recommendedSearch_titleTypography:Object.assign(Object.assign({},Object(x.c)("t7")),{"font-weight":""+I.fontWeight.bold,"text-transform":"uppercase"}),recommendedSearch_itemLink:{display:"inline-block",overflow:"hidden","text-overflow":"ellipsis",width:"50%","&&&&":{"border-bottom":"none","&:focus, &:hover":{"border-bottom":"none","text-decoration":"underline"}}},recommendedSearch_item:{display:"flex",padding:"4px 0","white-space":"nowrap"},recommendedSearch_headingDivider:{"&&&&":{"border-color":T.c,"margin-top":"10px",opacity:"0.2"}},recommendedSearch_itemLinkDivider:{background:T.c,margin:"0 6px",opacity:"0.2",width:"1px","@media (-ms-high-contrast:active)":{background:A.a.text}},recommendedSearch_itemsContainer:Object.assign(Object.assign({},Object(x.c)("t8")),{"list-style":"none",margin:"2px 0",padding:"0"}),recommendedSearch_halfSizeCard:{height:"50%"}}))(O),B={reactComponent:_,experienceConfigSchema:n.RecommendedSearchConfigSchema,defaultMockState:{},mockState:D.mockState,mockConfig:U.mockConfig,inspector:j.inspect}},r7RP:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r("D57K"),a=r("u5KZ"),s=r("HxRh"),i=r("rvYQ");class c{constructor(){this.cmsApi={path:["v1","cms","api","amp"]}}constructApiUrl(e){const t=new URL("/content/",i.a.ContentServiceUrlBase),r=[...this.cmsApi.path];return r.push("list"),r.push(e),t.pathname+=r.join("/"),t}fetchBackfillItems(e,t){return Object(n.b)(this,void 0,void 0,(function*(){try{if(!e)throw new Error("Unable to find content id in config");const t=this.constructApiUrl(e),r=yield fetch(t.href),n=yield r.json();if(n&&n.list&&n.list.length)return this.cmsDocumentToRecommendedSearch(n);throw new Error("Backfill data couldn't be retrieved")}catch(r){let n;"object"==typeof r?n=r.toString():"string"==typeof r&&(n=r);const i=t?"Recommended Search Below Search Box: ":"Recommended Search Module: ";a.a.sendAppErrorEvent(Object.assign(Object.assign({},s.ic.ContentFetchError),{message:n,pb:Object.assign(Object.assign({},s.Vb.FetchFailure.pb),{customMessage:`${i}Content couldn't be retrieved for contentId = ${e||""}`})}))}}))}cmsDocumentToRecommendedSearch(e){const t=[];if(e&&e.list)for(let r=0;r<e.list.length;r++)t.push({query:e.list[r].link.title,url:e.list[r].link.href});return{searchItems:t}}fetchRecommendedSearches(e,t){return Object(n.b)(this,void 0,void 0,(function*(){const r=this.fetchBackfillItems(e.backfillContentId,t),n=e.serviceCallParameters.requestId||a.a.getRequestId(),i=[{id:n}],c={ext:{pageType:e.serviceCallParameters.pageType,appId:e.serviceCallParameters.appId},id:n,imp:i,site:{cat:["trendingrecs"],content:{url:"https://www.msn.com/"},domain:"www.msn.com",keywords:"default",page:"https://www.msn.com/",publisher:{ext:{adunitid:e.serviceCallParameters.adUnitId,propertyid:e.serviceCallParameters.propertyId,formcode:e.serviceCallParameters.formCode,partnercode:e.serviceCallParameters.partnerCode},id:"17160724",name:"MSN"}}};let o;const d={method:"GET",credentials:"include"},m=t?"Recommended Search Below Search Box: ":"Recommended Search Module: ";try{let t=null;const n=fetch(e.serviceCallParameters.apiEndpoint+"?appid="+e.serviceCallParameters.appId+"&q="+encodeURI(JSON.stringify(c)),d),i=e.serviceCallParameters.apiTimeoutInMilliSeconds,l=new Promise(e=>{t=setTimeout(e,i)}),h=yield Promise.race([l.then(()=>{throw new Error("timeout: recommended search api response not received within "+e.serviceCallParameters.apiTimeoutInMilliSeconds+" ms.")}),n]);clearTimeout(t);const u=h;if(!u||!u.ok)throw new Error("recommended search service returned error response: "+h.status);try{o=yield u.json()}catch(e){return a.a.sendAppErrorEvent(Object.assign(Object.assign({},s.ic.ResponseParsingFailed),{message:"Error while getting Json from response.",pb:Object.assign(Object.assign({},s.ic.ResponseParsingFailed.pb),{customMessage:m+"Error while getting Json from response."})})),r}if(!o||!o.impressions||!o.impressions[0].queries)return a.a.sendAppErrorEvent(Object.assign(Object.assign({},s.ic.InvalidJsonResponse),{message:"Didn't get valid JSON from response.",pb:Object.assign(Object.assign({},s.ic.InvalidJsonResponse.pb),{customMessage:m+"Didn't get valid JSON from response."})})),r}catch(e){let t=s.ic.ServiceCallFailed;return-1!==e.message.indexOf("timeout")&&(t=s.ic.Timeout),a.a.sendAppErrorEvent(Object.assign(Object.assign({},t),{message:""+e,pb:Object.assign(Object.assign({},t.pb),{customMessage:`${m}${e}`})})),r}return this.getRecommendedSearchResponse(o)}))}getRecommendedSearchResponse(e){return{searchItems:e.impressions[0].queries}}}},t6sn:function(e,t){},zeXT:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("MF9s"),a=r("6u3Q"),s=r("6QMD");const i=Object(s.d)(e=>{const t=Object(n.T)(e),r=Object(a.a)(e),s=Object(n.v)(e),i=r+(Object(a.e)(e)?-1:1)*s;return Object(a.d)(i,t)})}}]);