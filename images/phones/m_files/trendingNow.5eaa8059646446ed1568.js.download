(window.webpackJsonp=window.webpackJsonp||[]).push([["trendingNow"],{"+gM1":function(e,t,n){"use strict";n.r(t),n.d(t,"TrendingNow",(function(){return ie})),n.d(t,"TrendingNowActions",(function(){return E})),n.d(t,"TrendingNowConnector",(function(){return Q})),n.d(t,"TrendingNowReducer",(function(){return J})),n.d(t,"ToolingInfo",(function(){return re}));var i=n("+viU"),r=n("ERkP"),a=n.n(r),s=n("5mwN"),o=n("83R0"),d=n("Wwow"),c=n("lWfA"),l=n("IATt");class h extends l.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return a.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),a.a.createElement("path",{d:"M5.0293 19.0918L14.1113 10L5.0293 0.908203L5.9082 0.0292969L15.8887 10L5.9082 19.9707L5.0293 19.0918Z"}))}}h.defaultProps={viewBox:"0 0 20 20",width:"20px",height:"20px",xmlns:"http://www.w3.org/2000/svg"};const g="trendingnow",p={rel:"noopener",target:"_blank"},m="msn/FeedLayout",u="hponeservicefeed",b="article,video,slideshow,link",f="xfeed",v="1000",w="hponeservicefeed",x="spartanntp",S="spartandhp",O="msedgntp",N="msedgdhp",j="msnews";var T=n("o1qX");class C extends s.a{constructor(){super(...arguments),this.handledProps=Object.assign(Object.assign({},s.b),{numberOfTermsToDisplay:void 0,managedClasses:void 0,trendingNowData:void 0,recommendedSearchEnabled:void 0,recommendedSearchExperience:void 0,headerTelemetryObject:void 0,oneServiceDataEnabled:void 0,headingTitle:void 0,headingLink:void 0,headlineLineLength:void 0,unwrapCardBase:void 0})}render(){return super.render(),this.props.trendingNowData&&this.props.trendingNowData.trendingTerms&&this.props.trendingNowData.trendingTerms.length?this.props.unwrapCardBase?this.renderWithoutBaseCard():r.createElement(c.a,null,this.renderWithoutBaseCard()):null}renderWithoutBaseCard(){return r.createElement(r.Fragment,null,r.createElement("div",Object.assign({className:Object(T.a)(this.props.managedClasses.trendingNow,[this.props.managedClasses.trendingNow_halfSizeCard,this.props.recommendedSearchEnabled])},this.unhandledProps()),this.renderTrendingNow()),this.props.recommendedSearchExperience)}renderTrendingNow(){return r.createElement("div",{className:this.props.managedClasses.trendingNow_container},this.renderCardHeader(),this.renderTerms())}renderCardHeader(){const{managedClasses:e}=this.props;let t,n="",i="";return this.props.headerTelemetryObject&&this.props.headerTelemetryObject.contract&&(this.props.headerTelemetryObject.contract.content&&(this.props.headerTelemetryObject.contract.content.headline=n),t=this.props.headerTelemetryObject?this.props.headerTelemetryObject.render():null),this.props.oneServiceDataEnabled?(n=this.props.headingTitle,i=this.props.headingLink):(n=this.props.trendingNowData.trendingTerms[0].title,i=this.props.trendingNowData.trendingTerms[0].href),r.createElement("div",{tabIndex:0,className:e.trendingNow_heading},r.createElement(o.a,Object.assign({},p,{href:i,className:e.trendingNow_headingLink,title:n,"aria-label":n},t),r.createElement("span",{className:e.trendingNow_headingText},n),r.createElement(h,{className:this.props.managedClasses.trendingNow_rightChevron})),r.createElement(d.a,{className:e.trendingNow_headingDivider}))}renderTerms(){const{managedClasses:e}=this.props;let t=[];const n=this.props.trendingNowData.trendingTerms;if(this.props.oneServiceDataEnabled)t=this.renderTermsinOneLineFormat(n);else for(let i=1;i<this.props.numberOfTermsToDisplay;i++)t.push(r.createElement("li",{key:i,ref:this.setRef("item"+i),className:e.trendingNow_item},r.createElement(o.a,Object.assign({className:e.trendingNow_itemLink,href:n[i].href,title:n[i].title},p,{"aria-label":n[i].title},n[i].telemetryTags),n[i].title),r.createElement("div",{className:e.trendingNow_itemLinkDivider}),r.createElement(o.a,Object.assign({className:e.trendingNow_itemLink,href:n[++i].href,title:n[i].title},p,{"aria-label":n[i].title},n[i].telemetryTags),n[i].title)));return r.createElement("ul",{className:e.trendingNow_itemsContainer},t)}renderTermsinOneLineFormat(e){const t=[],{managedClasses:n}=this.props;for(let i=0;i<this.props.numberOfTermsToDisplay;i++)t.push(r.createElement("li",{key:i,ref:this.setRef("item"+i),className:n.trendingNow_item},r.createElement(o.a,Object.assign({className:n.trendingNow_itemLink,href:e[i].href,title:e[i].title},p,{"aria-label":e[i].title},e[i].telemetryTags),this.truncate(e[i].title))));return t}truncate(e){if(this.props.headlineLineLength>0&&null!=e&&e.length>this.props.headlineLineLength)if(" "==e[this.props.headlineLineLength-1])e=e.substr(0,this.props.headlineLineLength-1)+"...";else{const t=(e=""+e.substr(0,this.props.headlineLineLength)).lastIndexOf(" ");e=e.substr(0,t)+"..."}return e}}C.defaultProps={experienceName:"TrendingNow"};var y=n("G82u");class E{}E.renderTrendingNow=new y.a("SetTrendingNowData"),E.renderRecommendedSearch=new y.a("RenderRecommendedSearch");var z=n("D57K"),W=n("u5KZ"),H=n("rvYQ"),D=n("y+Kz"),L=n("0dho"),k=n("msIb"),P=n("6ADy"),R=n("KETb"),_=n("HxRh");const A={path:["v1","cms","api","amp"]};function I(e){return Object(z.b)(this,void 0,void 0,(function*(){if(!e)throw new Error("Unable to find content id in config");const t=(e=>{const t=new URL("/content/",H.a.ContentServiceUrlBase),n=[...A.path];return n.push("list"),n.push(e),t.pathname+=n.join("/"),t})(e),n=yield fetch(t.href),i=yield n.json();if(i&&i.list&&i.list.length)return{trendingTerms:i.list.map(e=>e.link)};throw new Error("Data couldn't be retrieved for contentId = "+e)}))}function F(e,t){return Object(z.b)(this,void 0,void 0,(function*(){if(!e)throw new Error("Unable to find one service id in config");const n=yield k.a.getBaseRequestData("GET"),i=[...k.a.getOneServiceParamsWithoutAuth(null,u,!1),{key:D.w.contentType,value:b},{key:D.w.top,value:t.toString()},{key:D.w.ids,value:e},{key:"t",value:f},{key:D.w.timeOut,value:v}],r=Object(P.d)(m);i.forEach(e=>e.value&&r.searchParams.set(e.key,e.value));const a=yield Object(R.a)(()=>Object(z.b)(this,void 0,void 0,(function*(){const e=yield fetch(r.href,n);if(!e.ok)throw Error(e.statusText);return e.json()})),"getTrendingNowFeed");if(a.value&&a.value[0]&&a.value[0]&&a.value[0].subCards.length<t)throw new Error("Endpoint did not return enough feed items to display");const s=H.a.TrackInfo.sitePage.page_product;return{trendingTerms:a.value[0].subCards.map(({title:e,url:t})=>({title:e,href:t=function(e,t){if(!e||!t)return e;if(e.indexOf("hponeservicefeed")<0)return e;let n=w;"anaheim"==t?n=L.a.isNtpPage()?O:N:"spartan"==t?n=L.a.isDhpPage()?S:x:"msftnews"==t?n=j:W.a.sendAppErrorEvent(Object.assign(Object.assign({},_.Oc.OCIDNotSetWarning),{message:"OCID not set for canvas "+t,pb:Object.assign(Object.assign({},_.Oc.OCIDNotSetWarning.pb),{customMessage:e})}));return e.replace("hponeservicefeed",n)}(t,s)}))}}))}var M,B=n("KaPL"),U=n("WfnD");!function(e){e.inspect=function(e){return{props:{recommendedSearchEnabled:e.config.recommendedSearchEnabled,numberOfTermsToDisplay:e.config.numberOfTermsToDisplay||23,oneServiceDataEnabled:e.config.oneServiceDataEnabled||!1,headlineLineLength:e.config.headlineLineLength||40,headingLink:e.config.headingLink||"www.msn.com/en-us/news",headingTitle:e.config.headingTitle||"Trending Now",trendingNowData:e.state.trendingNowData,unwrapCardBase:e.config.unwrapCardBase},missingChildren:[]}}}(M||(M={}));var X=n("Am8i");class Q extends U.a{mapStateToProps(e){const t={config:this.config,children:this.childComponentInstanceList,state:e},n=M.inspect(t).props;return Object.assign(Object.assign({},n),{recommendedSearchExperience:this.getRecommendedSearchConnector(),headerTelemetryObject:this.headerTelemetryObject})}onComponentConnect(e){return Object(z.b)(this,void 0,void 0,(function*(){U.a.prototype.onComponentConnect.call(this,e),this.supportedRiverCardSizes=B.a.Size1Wx6H,this.getTrendingNowData()}))}revalidateExperienceStaleState(e){const t=Object.create(null,{revalidateExperienceStaleState:{get:()=>super.revalidateExperienceStaleState}});return Object(z.b)(this,void 0,void 0,(function*(){t.revalidateExperienceStaleState.call(this,e),e&&this.getTrendingNowData(!0)}))}getTrendingNowData(e=!1){this.fetchTrendingNowData().then(()=>{e&&E.renderRecommendedSearch.getActionSender(this).send(!1),this.loadRecommendedSearchExperience()}),this.headerTelemetryObject=this.telemetryObject?this.telemetryObject.addOrUpdateChild({name:"TrendingNews",content:{headline:""},destinationUrl:""}):null}fetchTrendingNowData(){return Object(z.b)(this,void 0,void 0,(function*(){try{let e;e=this.config.oneServiceDataEnabled?yield F(this.config.oneServiceId,this.config.numberOfTermsToDisplay):yield I(this.config.contentId),e=this.telemetryObject?class{static injectTelemetryProps(e,t){return t&&t.trendingTerms?(t.trendingTerms=t.trendingTerms.map(t=>{const n={name:g,type:X.e.Headline,content:{headline:t.title}},i=e?e.addOrUpdateChild(n):null;return Object.assign(Object.assign({},t),{telemetryTags:i?i.render():null})}),Object.assign({},t)):null}}.injectTelemetryProps(this.telemetryObject,e):e,E.renderTrendingNow.getActionSender(this).send(e)}catch(e){let t;return"object"==typeof e?t=e.toString():"string"==typeof e&&(t=e),void W.a.sendAppErrorEvent(Object.assign(Object.assign({},_.Oc.ContentFetchError),{message:t}))}}))}loadRecommendedSearchExperience(){return Object(z.b)(this,void 0,void 0,(function*(){if(!this.config.recommendedSearchEnabled)return;const e=this.config.recommendedSearchExperience;e&&e.instanceId&&e.href&&e.experienceType?(this.childMap.get(e.instanceId)||(yield this.loadChildExperience(e)),this.childMap.get(e.instanceId)?E.renderRecommendedSearch.getActionSender(this).send(!0):W.a.sendAppErrorEvent(Object.assign(Object.assign({},_.Oc.FailedToLoadChildExperience),{message:"Failed to load Recommended Search child experience. Ensure that the experience is initialized correctly."}))):W.a.sendAppErrorEvent(Object.assign(Object.assign({},_.Oc.FailedToFetchConfig),{message:"Failed to fetch config. Ensure recommended search config exists and is correct."}))}))}getRecommendedSearchConnector(){const e=this.config.recommendedSearchExperience;if(e&&e.instanceId){const t=this.childMap.get(e.instanceId);return t?t.getNewComponentInstance():null}return null}}var Z=n("05Au");class J{reduce(e,t){if(!e)return{trendingNowData:null,renderRecommendedSearch:!1};if(!t)return e;let n;return Z.a.handleAction(t,E.renderTrendingNow,t=>{n=Object.assign(Object.assign({},e),{trendingNowData:t})}),Z.a.handleAction(t,E.renderRecommendedSearch,t=>{n=Object.assign(Object.assign({},e),{renderRecommendedSearch:t})}),n||e}}var K=n("8yfO"),G=n("HZZz"),q=n("SP+O"),Y=n("XI4f"),V=n("objN"),$=n("rRWH");var ee=n("XyQt"),te=n("lhuz"),ne=n("jXiQ");const ie=Object(i.a)(e=>({trendingNow:{height:"100%",width:"100%",overflow:"hidden"},trendingNow_container:{"box-sizing":"content-box",overflow:"hidden",padding:"0 12px",height:"100%"},trendingNow_heading:Object.assign(Object.assign({},Object(K.c)("t7")),{"text-transform":"uppercase","margin-top":"12px"}),trendingNow_headingLink:{"font-weight":""+G.fontWeight.bold,"&&&&":{"border-bottom":"none",color:q.c,"&:focus, &:hover":{"border-bottom":"none","text-decoration":"underline"}}},trendingNow_headingText:{"text-overflow":"ellipsis"},trendingNow_rightChevron:{height:"11px",width:"12px",position:"relative",[Object($.b)("margin-left","margin-right",e.direction)]:"3px",top:"1px",transform:Object($.b)("","rotate(180deg)",e.direction),"& path":{fill:Y.a},"@media (-ms-high-contrast:active)":{"& path":{fill:V.a.text}}},trendingNow_headingDivider:{"border-color":q.c,"margin-top":"10px",opacity:"0.2"},trendingNow_item:{display:"flex",padding:"5px 0 4px 0","white-space":"nowrap"},trendingNow_itemLink:{display:"in-block","text-overflow":"ellipsis",overflow:"hidden","&&&&":{"border-bottom":"none","&:hover, &:focus":{"border-bottom":"none","text-decoration":"underline"}}},trendingNow_itemLinkDivider:{background:q.c,margin:"0 6px",opacity:"0.2",width:"1px","@media (-ms-high-contrast:active)":{background:V.a.text}},trendingNow_itemsContainer:Object.assign(Object.assign({},Object(K.c)("t8")),{padding:"4px 0","list-style":"none",margin:"0px","margin-bottom":"2px"}),trendingNow_halfSizeCard:{height:"50%"}}))(C),re={reactComponent:ie,experienceConfigSchema:ne.TrendingNowConfigSchema,defaultMockState:{},mockState:te.mockState,mockConfig:ee.mockConfig,inspector:M.inspect}},"0NrY":function(e,t,n){"use strict";var i=n("PfRV"),r=n("7FLv"),a=n("MF9s"),s=n("objN");const o={card:Object.assign(Object.assign(Object.assign(Object.assign({width:"100%",height:"100%",background:a.k},Object(i.b)()),Object(r.b)(r.a.e4)),{transition:"all 0.2s ease-in-out"}),s.d)};t.a=o},"0vDZ":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.article="article",e.div="div",e.section="section"}(i||(i={}))},"8AuO":function(e,t,n){"use strict";var i=n("OnwC"),r=n("o1qX"),a=n("ERkP"),s=n.n(a),o=n("eGM7"),d=n("0vDZ");class c extends i.a{constructor(){super(...arguments),this.handledProps={children:void 0,managedClasses:void 0,tag:void 0}}render(){return s.a.createElement(this.tag,Object.assign({},this.unhandledProps(),{className:this.generateClassNames()}),this.props.children)}generateClassNames(){return super.generateClassNames(Object(r.a)(this.props.managedClasses.card))}get tag(){return d.a[this.props.tag]||d.a.div}}c.displayName=o.DisplayNamePrefix+"Card",c.defaultProps={managedClasses:{}};var l=c;t.a=l},"8H6j":function(e,t,n){"use strict";var i=n("OnwC"),r=n("o1qX"),a=n("ERkP"),s=n.n(a),o=n("eGM7"),d=n("fi3J");class c extends i.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,role:void 0}}render(){return s.a.createElement("hr",Object.assign({},this.unhandledProps(),this.generateAttributes(),{className:this.generateClassNames()}))}generateAttributes(){if(this.props.role&&this.props.role!==d.a.separator)return{role:d.a[this.props.role]}}generateClassNames(){return super.generateClassNames(Object(r.a)(this.props.managedClasses.divider))}}c.displayName=o.DisplayNamePrefix+"Divider",c.defaultProps={managedClasses:{}};var l=c;t.a=l},KaPL:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.None=0]="None",e[e.Size1Wx2H=1]="Size1Wx2H",e[e.Size1Wx3H=2]="Size1Wx3H",e[e.Size1Wx4H=4]="Size1Wx4H",e[e.Size1Wx5H=8]="Size1Wx5H",e[e.Size1Wx6H=16]="Size1Wx6H",e[e.Size1Wx7H=32]="Size1Wx7H",e[e.Size1Wx8H=64]="Size1Wx8H",e[e.Size1Wx9H=128]="Size1Wx9H",e[e.Size1Wx10H=256]="Size1Wx10H",e[e.Size1Wx12H=512]="Size1Wx12H",e[e.Size1Wx18H=1024]="Size1Wx18H",e[e.Size1Wx1H=2048]="Size1Wx1H",e[e.Size2Wx2H=65536]="Size2Wx2H",e[e.Size2Wx3H=131072]="Size2Wx3H",e[e.Size2Wx6H=262144]="Size2Wx6H",e[e.Size2Wx8H=524288]="Size2Wx8H",e[e.Size2Wx12H=1048576]="Size2Wx12H",e[e.Size2Wx18H=2097152]="Size2Wx18H",e[e.Size3Wx2H=4194304]="Size3Wx2H",e[e.Size3Wx6H=8388608]="Size3Wx6H",e[e.Size3Wx12H=16777216]="Size3Wx12H",e[e.Size3Wx18H=33554432]="Size3Wx18H",e[e.Size4Wx2H=67108864]="Size4Wx2H",e[e.Size4Wx3H=134217728]="Size4Wx3H",e[e.Size4Wx6H=268435456]="Size4Wx6H",e[e.Size4Wx12H=536870912]="Size4Wx12H",e[e.Size4Wx18H=1073741824]="Size4Wx18H"}(i||(i={}))},Nn6R:function(e,t,n){"use strict";var i=n("fz//"),r=n("3ZGc"),a=n("MF9s"),s=n("zeXT"),o=n("objN");const d={divider:Object.assign({"box-sizing":"content-box",height:"0",margin:"0",border:"none","border-top":Object(i.a)("{0} solid {1}",Object(r.a)(a.U),s.a),transition:"all 0.2s ease-in-out"},o.e)};t.a=d},Wwow:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("8H6j"),r=n("+viU"),a=n("Nn6R");const s=Object(r.a)(a.a)(i.a)},XyQt:function(e,t){},egFJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("8AuO"),r=n("+viU"),a=n("0NrY");const s=Object(r.a)(a.a)(i.a)},fi3J:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.presentation="presentation",e.separator="separator"}(i||(i={}))},jXiQ:function(e,t){},lWfA:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("egFJ"),r=n("OnwC"),a=n("ERkP"),s=n.n(a),o=n("mObi");class d extends r.a{constructor(){super(...arguments),this.handledProps={children:void 0,height:void 0,managedClasses:void 0,width:void 0,tag:void 0}}render(){const{width:e,height:t}=this.props;return s.a.createElement(i.a,Object.assign({},this.unhandledProps(),{className:this.generateClassNames(this.props.managedClasses.cardBase),jssStyleSheet:d.generateStyles(e,t),tag:this.props.tag}),this.props.children)}}d.generateStyles=Object(o.a)((e,t)=>({card:{width:e,height:t}}),(...e)=>e.join());var c=d,l=n("+viU");var h={cardBase:{}};const g=Object(l.a)(h)(c)},lhuz:function(e,t){},zeXT:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("MF9s"),r=n("6u3Q"),a=n("6QMD");const s=Object(a.d)(e=>{const t=Object(i.T)(e),n=Object(r.a)(e),a=Object(i.v)(e),s=n+(Object(r.e)(e)?-1:1)*a;return Object(r.d)(s,t)})}}]);